{"ast":null,"code":"import _objectSpread from\"D:/react-myprojects/hrms-airtable/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/react-myprojects/hrms-airtable/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import MaterialTable from\"material-table\";import{TextField,MenuItem}from\"@material-ui/core\";import{makeStyles}from\"@material-ui/core/styles\";import AddIcon from\"@material-ui/icons/Add\";import EditIcon from\"@material-ui/icons/Edit\";import DeleteIcon from\"@material-ui/icons/Delete\";import CheckIcon from\"@material-ui/icons/Check\";import SearchIcon from\"@material-ui/icons/Search\";import LeaveForm from\"./LeaveForm\";import{CustomDialog}from\"../helpers/CustomDialog\";import{AlertDialog}from\"../helpers/AlertDialogBox\";import{useExpensesPeriod}from\"./expenses/useExpensesPeriod\";import{useEmployeesContext}from\"../context/employees_context\";import{usePayrunStatus}from\"./payrun/usePayrunStatus\";import{jsx as _jsx}from\"react/jsx-runtime\";var columns=[{title:\"January\",field:\"jan\"},{title:\"February\",field:\"feb\"},{title:\"March\",field:\"mar\"},{title:\"April\",field:\"apr\"},{title:\"May\",field:\"may\"},{title:\"June\",field:\"jun\"},{title:\"July\",field:\"jul\"},{title:\"August\",field:\"aug\"},{title:\"September\",field:\"sep\"},{title:\"October\",field:\"oct\"},{title:\"November\",field:\"nov\"},{title:\"December\",field:\"dec\"}];var data=[{jan:80,feb:90,mar:78,apr:63,may:55,jun:60,jul:55,aug:65,sep:70,oct:58,nov:60,dec:62}];export default function PayslipSummaryTableView(_ref){var year=_ref.year,status=_ref.status;var classes=useStyles();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),paydata=_useState2[0],setPayData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isCalc=_useState4[0],setIsCalc=_useState4[1];var _usePayrunStatus=usePayrunStatus(),payrunstatus=_usePayrunStatus.payrunstatus,setPayrunStatusId=_usePayrunStatus.setPayrunStatusId;useEffect(function(){setPayrunStatusId(status);setIsCalc(true);},[]);useEffect(function(){if(payrunstatus){Build_data();setIsCalc(false);}},[isCalc]);var Build_data=function Build_data(){payrunstatus.forEach(function(rec){var payrun=rec.payrun,totalpayroll=rec.totalpayroll;if(payrun===\"2021-01\"){setPayData(_objectSpread(_objectSpread({},paydata),{},{jan:totalpayroll}));}if(payrun===\"2021-06\"){setPayData(_objectSpread(_objectSpread({},paydata),{},{jun:totalpayroll}));}if(payrun===\"2021-07\"){setPayData(_objectSpread(_objectSpread({},paydata),{},{jul:totalpayroll}));}if(payrun===\"2021-08\"){setPayData(_objectSpread(_objectSpread({},paydata),{},{aug:totalpayroll}));}});console.log(\"build\",paydata);};// payrunstatus.map((rec) => {\n//   const { payrun, totalpayroll } = rec\n//   return {\n//     if(payrun === \"2021-01\") {\n//       setPayData({...paydata, jan: totalpayroll})\n//     }\n//   }\nreturn/*#__PURE__*/_jsx(\"div\",{className:classes.root,children:/*#__PURE__*/_jsx(\"div\",{style:{maxWidth:\"100%\",paddingTop:\"5px\"},children:/*#__PURE__*/_jsx(MaterialTable,{columns:columns,data:data,title:\"Expenses Claims\",options:{filtering:false,search:false,toolbar:false,headerStyle:{backgroundColor:\"rgba(75, 192, 192, 1)\",color:\"white\"},showTitle:false}})})});}var useStyles=makeStyles(function(theme){return{root:{padding:0}};});","map":{"version":3,"sources":["D:/react-myprojects/hrms-airtable/src/components/PayslipSummaryTableView.js"],"names":["React","useState","useEffect","MaterialTable","TextField","MenuItem","makeStyles","AddIcon","EditIcon","DeleteIcon","CheckIcon","SearchIcon","LeaveForm","CustomDialog","AlertDialog","useExpensesPeriod","useEmployeesContext","usePayrunStatus","columns","title","field","data","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec","PayslipSummaryTableView","year","status","classes","useStyles","paydata","setPayData","isCalc","setIsCalc","payrunstatus","setPayrunStatusId","Build_data","forEach","rec","payrun","totalpayroll","console","log","root","maxWidth","paddingTop","filtering","search","toolbar","headerStyle","backgroundColor","color","showTitle","theme","padding"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport MaterialTable from \"material-table\";\r\nimport { TextField, MenuItem } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport CheckIcon from \"@material-ui/icons/Check\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport LeaveForm from \"./LeaveForm\";\r\nimport { CustomDialog } from \"../helpers/CustomDialog\";\r\nimport { AlertDialog } from \"../helpers/AlertDialogBox\";\r\nimport { useExpensesPeriod } from \"./expenses/useExpensesPeriod\";\r\nimport { useEmployeesContext } from \"../context/employees_context\";\r\nimport { usePayrunStatus } from \"./payrun/usePayrunStatus\";\r\n\r\nconst columns = [\r\n  {\r\n    title: \"January\",\r\n    field: \"jan\",\r\n  },\r\n  {\r\n    title: \"February\",\r\n    field: \"feb\",\r\n  },\r\n  {\r\n    title: \"March\",\r\n    field: \"mar\",\r\n  },\r\n  {\r\n    title: \"April\",\r\n    field: \"apr\",\r\n  },\r\n  {\r\n    title: \"May\",\r\n    field: \"may\",\r\n  },\r\n  {\r\n    title: \"June\",\r\n    field: \"jun\",\r\n  },\r\n  {\r\n    title: \"July\",\r\n    field: \"jul\",\r\n  },\r\n  {\r\n    title: \"August\",\r\n    field: \"aug\",\r\n  },\r\n  {\r\n    title: \"September\",\r\n    field: \"sep\",\r\n  },\r\n  {\r\n    title: \"October\",\r\n    field: \"oct\",\r\n  },\r\n  {\r\n    title: \"November\",\r\n    field: \"nov\",\r\n  },\r\n  {\r\n    title: \"December\",\r\n    field: \"dec\",\r\n  },\r\n];\r\n\r\nconst data = [\r\n  {\r\n    jan: 80,\r\n    feb: 90,\r\n    mar: 78,\r\n    apr: 63,\r\n    may: 55,\r\n    jun: 60,\r\n    jul: 55,\r\n    aug: 65,\r\n    sep: 70,\r\n    oct: 58,\r\n    nov: 60,\r\n    dec: 62,\r\n  },\r\n];\r\n\r\nexport default function PayslipSummaryTableView({ year, status }) {\r\n  const classes = useStyles();\r\n  const [paydata, setPayData] = useState([]);\r\n  const [isCalc, setIsCalc] = useState(false);\r\n  const { payrunstatus, setPayrunStatusId } = usePayrunStatus();\r\n\r\n  useEffect(() => {\r\n    setPayrunStatusId(status);\r\n    setIsCalc(true)\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (payrunstatus) {\r\n      Build_data()\r\n      setIsCalc(false)\r\n    }\r\n  },[isCalc])\r\n\r\n\r\n  const Build_data = () => {\r\n    payrunstatus.forEach((rec) => {\r\n      const { payrun, totalpayroll } = rec;\r\n      if (payrun === \"2021-01\") {\r\n        setPayData({ ...paydata, jan: totalpayroll });\r\n      }\r\n      if (payrun === \"2021-06\") {\r\n        setPayData({ ...paydata, jun: totalpayroll });\r\n      }\r\n      if (payrun === \"2021-07\") {\r\n        setPayData({ ...paydata, jul: totalpayroll });\r\n      }\r\n      if (payrun === \"2021-08\") {\r\n        setPayData({ ...paydata, aug: totalpayroll });\r\n      }\r\n      \r\n    })\r\n    console.log(\"build\", paydata)\r\n  };\r\n\r\n    // payrunstatus.map((rec) => {\r\n    //   const { payrun, totalpayroll } = rec\r\n    //   return {\r\n    //     if(payrun === \"2021-01\") {\r\n    //       setPayData({...paydata, jan: totalpayroll})\r\n    //     }\r\n    //   }\r\n  \r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {/* <h1>Expenses Claims Application</h1> */}\r\n\r\n      <div style={{ maxWidth: \"100%\", paddingTop: \"5px\" }}>\r\n        <MaterialTable\r\n          columns={columns}\r\n          data={data}\r\n          title=\"Expenses Claims\"\r\n          options={{\r\n            filtering: false,\r\n            search: false,\r\n            toolbar: false,\r\n            headerStyle: {\r\n              backgroundColor: \"rgba(75, 192, 192, 1)\",\r\n              color: \"white\",\r\n            },\r\n            showTitle: false,\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    padding: 0,\r\n  },\r\n}));\r\n"]},"metadata":{},"sourceType":"module"}