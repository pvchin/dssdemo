{"ast":null,"code":"import cloneDeep from 'lodash/cloneDeep';\nimport { render } from '../utils/render';\n\nvar HtmlImageLayer =\n/** @class */\nfunction () {\n  function HtmlImageLayer(element, userCloudinaryImage, plugins) {\n    var _this = this;\n\n    this.imgElement = element;\n    this.htmlPluginState = {\n      cleanupCallbacks: [],\n      pluginEventSubscription: []\n    };\n    var pluginCloudinaryImage = cloneDeep(userCloudinaryImage);\n    render(element, pluginCloudinaryImage, plugins, this.htmlPluginState).then(function () {\n      _this.htmlPluginState.pluginEventSubscription.forEach(function (fn) {\n        fn();\n      });\n\n      _this.imgElement.setAttribute('src', pluginCloudinaryImage.toURL());\n    });\n  }\n  /**\n   * Called when component is updated and re-triggers render\n   * @param userCloudinaryImage\n   * @param plugins\n   */\n\n\n  HtmlImageLayer.prototype.update = function (userCloudinaryImage, plugins) {\n    var _this = this;\n\n    var pluginCloudinaryImage = cloneDeep(userCloudinaryImage);\n    render(this.imgElement, pluginCloudinaryImage, plugins, this.htmlPluginState).then(function () {\n      _this.imgElement.setAttribute('src', pluginCloudinaryImage.toURL());\n    });\n  };\n\n  return HtmlImageLayer;\n}();\n\nexport { HtmlImageLayer };","map":{"version":3,"sources":["D:/react-myprojects/hrms-airtable/node_modules/@cloudinary/html/layers/htmlImageLayer.js"],"names":["cloneDeep","render","HtmlImageLayer","element","userCloudinaryImage","plugins","_this","imgElement","htmlPluginState","cleanupCallbacks","pluginEventSubscription","pluginCloudinaryImage","then","forEach","fn","setAttribute","toURL","prototype","update"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,kBAAtB;AACA,SAASC,MAAT,QAAuB,iBAAvB;;AACA,IAAIC,cAAc;AAAG;AAAe,YAAY;AAC5C,WAASA,cAAT,CAAwBC,OAAxB,EAAiCC,mBAAjC,EAAsDC,OAAtD,EAA+D;AAC3D,QAAIC,KAAK,GAAG,IAAZ;;AACA,SAAKC,UAAL,GAAkBJ,OAAlB;AACA,SAAKK,eAAL,GAAuB;AAAEC,MAAAA,gBAAgB,EAAE,EAApB;AAAwBC,MAAAA,uBAAuB,EAAE;AAAjD,KAAvB;AACA,QAAIC,qBAAqB,GAAGX,SAAS,CAACI,mBAAD,CAArC;AACAH,IAAAA,MAAM,CAACE,OAAD,EAAUQ,qBAAV,EAAiCN,OAAjC,EAA0C,KAAKG,eAA/C,CAAN,CACKI,IADL,CACU,YAAY;AAClBN,MAAAA,KAAK,CAACE,eAAN,CAAsBE,uBAAtB,CAA8CG,OAA9C,CAAsD,UAAUC,EAAV,EAAc;AAAEA,QAAAA,EAAE;AAAK,OAA7E;;AACAR,MAAAA,KAAK,CAACC,UAAN,CAAiBQ,YAAjB,CAA8B,KAA9B,EAAqCJ,qBAAqB,CAACK,KAAtB,EAArC;AACH,KAJD;AAKH;AACD;AACJ;AACA;AACA;AACA;;;AACId,EAAAA,cAAc,CAACe,SAAf,CAAyBC,MAAzB,GAAkC,UAAUd,mBAAV,EAA+BC,OAA/B,EAAwC;AACtE,QAAIC,KAAK,GAAG,IAAZ;;AACA,QAAIK,qBAAqB,GAAGX,SAAS,CAACI,mBAAD,CAArC;AACAH,IAAAA,MAAM,CAAC,KAAKM,UAAN,EAAkBI,qBAAlB,EAAyCN,OAAzC,EAAkD,KAAKG,eAAvD,CAAN,CACKI,IADL,CACU,YAAY;AAClBN,MAAAA,KAAK,CAACC,UAAN,CAAiBQ,YAAjB,CAA8B,KAA9B,EAAqCJ,qBAAqB,CAACK,KAAtB,EAArC;AACH,KAHD;AAIH,GAPD;;AAQA,SAAOd,cAAP;AACH,CA1BmC,EAApC;;AA2BA,SAASA,cAAT","sourcesContent":["import cloneDeep from 'lodash/cloneDeep';\nimport { render } from '../utils/render';\nvar HtmlImageLayer = /** @class */ (function () {\n    function HtmlImageLayer(element, userCloudinaryImage, plugins) {\n        var _this = this;\n        this.imgElement = element;\n        this.htmlPluginState = { cleanupCallbacks: [], pluginEventSubscription: [] };\n        var pluginCloudinaryImage = cloneDeep(userCloudinaryImage);\n        render(element, pluginCloudinaryImage, plugins, this.htmlPluginState)\n            .then(function () {\n            _this.htmlPluginState.pluginEventSubscription.forEach(function (fn) { fn(); });\n            _this.imgElement.setAttribute('src', pluginCloudinaryImage.toURL());\n        });\n    }\n    /**\n     * Called when component is updated and re-triggers render\n     * @param userCloudinaryImage\n     * @param plugins\n     */\n    HtmlImageLayer.prototype.update = function (userCloudinaryImage, plugins) {\n        var _this = this;\n        var pluginCloudinaryImage = cloneDeep(userCloudinaryImage);\n        render(this.imgElement, pluginCloudinaryImage, plugins, this.htmlPluginState)\n            .then(function () {\n            _this.imgElement.setAttribute('src', pluginCloudinaryImage.toURL());\n        });\n    };\n    return HtmlImageLayer;\n}());\nexport { HtmlImageLayer };\n"]},"metadata":{},"sourceType":"module"}