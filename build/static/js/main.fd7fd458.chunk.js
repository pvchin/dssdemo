(this.webpackJsonphrms=this.webpackJsonphrms||[]).push([[0],{851:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(55),c=a.n(i),s=a(941),o=a(255),l=a(587),d=a(889),u=a(890),p=a(888),j=a(0);function b(){var e=Object(p.a)()?"inherit":"none";return Object(j.jsx)(d.a,{thickness:"4px",speed:"0.65s",emptyColor:"olive.200",color:"olive.800",role:"status",position:"fixed",zIndex:"9999",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:e,children:Object(j.jsx)(u.a,{display:"none",children:"Loading..."})})}var h=a(15),f=a(934),O=a(605),x=a(616),m=a(617),g=a(940),y=a(914),v=a(891),_=Object(v.a)({styles:{global:{body:{color:"olive.800",backgroundColor:"olive.100",lightbackgroundColor:"olive.50"}}},fonts:{body:"Lato, sans-serif",heading:"Forum, sans-serif",mono:"Menlo, monospace"},colors:{olive:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1a365d"}}}),w=a(4),S=a(913),E=a(532),C=a.p+"static/media/AppSutLogo.3f98d30f.jpg",D=a(2),N=a(3),I=a.n(N),P=a(8),T=a(893),A=a(948),k=a(894),L=a(895),R=a(896),B=a(949),F=a(897),G=a(591),U=a(898),V=a(950),W=a(899),z=a(618),M=a(19),H=a(937);function Y(){return Object(H.a)({isClosable:!0,variant:"subtle",position:"bottom"})}var J=a(944),X="/api/employees",q="/api/leaves",Q="/api/expenses",K="/api/unpaidexpenses",$="/api/dailyallowances",Z="/api/dailyallowsdetls",ee="/api/payslips",te="/api/payslipitems",ae="/api/payitems",ne="/api/payrun",re="/api/allowances",ie="/api/deductions",ce="/api/departments",se="/api/institutes",oe="/api/currency",le="/api/designations",de="/api/payslipearnings",ue="/api/payslipdeductions",pe="/api/family",je="/api/educations",be="/api/experiences",he="/api/trainings",fe=[{name:"name",numeric:!1,disablePadding:!0,label:"Name"},{name:"from_date",numeric:!1,disablePadding:!0,label:"From Date"},{name:"to_date",numeric:!1,disablePadding:!0,label:"To Date"},{name:"no_of_days",numeric:!1,disablePadding:!0,label:"No of Days"},{name:"status",numeric:!1,disablePadding:!0,label:"Status"}],Oe=[{name:"2021-01",monthenddate:"2021-01-25"},{name:"2021-02",monthenddate:"2021-02-25"},{name:"2021-03",monthenddate:"2021-03-25"},{name:"2021-04",monthenddate:"2021-04-25"},{name:"2021-05",monthenddate:"2021-05-25"},{name:"2021-06",monthenddate:"2021-06-25"},{name:"2021-07",monthenddate:"2021-07-25"},{name:"2021-08",monthenddate:"2021-08-25"},{name:"2021-09",monthenddate:"2021-09-25"},{name:"2021-10",monthenddate:"2021-10-25"},{name:"2021-11",monthenddate:"2021-11-25"},{name:"2021-12",monthenddate:"2021-12-25"}];var xe=a(28),me=a.n(xe),ge={employees:"employees",singleemployee:"singleemployee",departments:"departments",designations:"designations",institutes:"institutes",allowances:"allowances",deductions:"deductions",experiences:"experiences",educations:"educations",leaves:"leaves",leavesperiod:"leavesperiod",expenses:"expenses",expensespayrun:"expensespayrun",expensesstatus:"expensesstatus",expensesperiod:"expensesperiod",payslips:"payslips",payslipsbatch:"payslipsbatch",payrun:"payrun",payitems:"payitems",payrunstatus:"payrunstatus",trainings:"trainings",family:"family",dailyallows:"dailyallows",dailyallowsperiod:"dailyallowsperiod",dailyallowsstatus:"dailyallowsstatus",dailyallowspayrun:"dailyallowspayrun",dailyallowsdetls:"dailyallowsdetls",user:"user",currency:"currency"};function ye(){return(ye=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("".concat(X));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(e){var t=Object(n.useState)("all"),a=Object(w.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(""),s=Object(w.a)(c,2),o=s[0],l=s[1],d=Object(n.useCallback)((function(e){return function(e,t){return e.filter((function(e){return e.empid===t})).map((function(e){return Object(D.a)({},e)}))}(e,r)}),[r]),u=Object(J.a)([ge.employees],(function(){return function(e){return ye.apply(this,arguments)}(o)}),{select:"all"!==r?d:void 0}).data;return{employees:void 0===u?[]:u,filter:r,setFilter:i,setEmployeeId:l}}var _e=Object(h.b)({key:"loginLevelState",default:{loginUserId:"",loginLevel:"Staff",loginUser:"",login:!1,loginEmail:"",leave_bal:0,siteallows_fee:0,perdiem_fee:0,reporting_to:"",reporting_email:""}}),we=Object(h.b)({key:"editEmployeeIdState",default:""}),Se=Object(h.b)({key:"payPeriodState",default:""}),Ee=Object(h.b)({key:"payRunIdState",default:""}),Ce=Object(h.b)({key:"payRunStatusState",default:""}),De=(Object(h.b)({key:"payPeriodEndMonthState",default:""}),Object(h.b)({key:"payPeriodEmpIdStateState",default:""})),Ne=Object(h.b)({key:"allowsDataState",default:[]}),Ie=Object(h.b)({key:"allowsDataIdState",default:[]}),Pe=Object(h.b)({key:"allowsDataDetlsState",default:[]}),Te=Object(h.b)({key:"allowsPeriodState",default:""}),Ae=Object(h.b)({key:"empidState",default:""}),ke=(Object(h.b)({key:"deptDataState",default:[]}),Object(h.b)({key:"payEarningDataState",default:[]})),Le=Object(h.b)({key:"payDeductionDataState",default:[]}),Re=(Object(h.b)({key:"payPeriodIdState",default:""}),Object(h.b)({key:"payrunState",default:{id:"",copyfrom:"",selectmonth:"",payfreq:"",fromdate:null,todate:null,paydate:null,period:"",payrun:"",totalwages:0,totaltap:0,totalscp:0,totalallows:0,totaldeducts:0,totalpayroll:0,totalsitesallows:0,totalexpensesclaims:0,status:""}})),Be=(Object(h.b)({key:"payrundataState",default:{payfreq:"",fromdate:null,todate:null,paydate:null,period:""}}),Object(h.b)({key:"paydataState",default:{}}),Object(h.b)({key:"siteallowsState",default:{year:"",month:"",period:"",fromdate:null,todate:null,manager:"",payfreq:"",district:"",location:"",typeoperation:"",client:"",jobno:"",crewoperation:"",jobbonus:0,perdiem:0,no_of_days:0,amount:0,empid:"",name:"",isdelete:!1}})),Fe=Object(h.b)({key:"siteallowsTotalState",default:{totalamount:0,totaljobbonus:0,totalperdiem:0,totaldays:0}}),Ge=a(25),Ue="GET_EMPLOYEES_BEGIN",Ve="GET_EMPLOYEES_SUCCESS",We="GET_EMPLOYEES_ERROR",ze="GET_SINGLE_EMPLOYEE_BEGIN",Me="GET_SINGLE_EMPLOYEE_SUCCESS",He="GET_SINGLE_EMPLOYEE_ERROR",Ye="DELETE_EMPLOYEE_SUCCESS",Je="DELETE_EMPLOYEE_SUCCESS",Xe="DELETE_EMPLOYEE_ERROR",qe="UPDATE_EMPLOYEE_SUCCESS",Qe="UPDATE_EMPLOYEE_SUCCESS",Ke="UPDATE_EMPLOYEE_ERROR",$e="ADD_EMPLOYEE_SUCCESS",Ze="ADD_EMPLOYEE_SUCCESS",et="ADD_EMPLOYEE_ERROR",tt="SET_EDITEMPLOYEEID",at="SET_ISEDITING_ON",nt="SET_ISEDITING_OFF",rt="RESET_SINGLE_EMPLOYEE",it="RESET_EMPLOYEES",ct="GET_LEAVES_BEGIN",st="GET_LEAVES_SUCCESS",ot="GET_LEAVES_ERROR",lt="GET_SINGLE_LEAVE_BEGIN",dt="GET_SINGLE_LEAVE_SUCCESS",ut="GET_SINGLE_LEAVE_ERROR",pt="GET_SINGLEBATCH_LEAVE_BEGIN",jt="GET_SINGLEBATCH_LEAVE_SUCCESS",bt="GET_SINGLEBATCH_LEAVE_ERROR",ht="DELETE_LEAVE_SUCCESS",ft="DELETE_LEAVE_SUCCESS",Ot="DELETE_LEAVE_ERROR",xt="UPDATE_LEAVE_SUCCESS",mt="UPDATE_LEAVE_SUCCESS",gt="UPDATE_LEAVE_ERROR",yt="ADD_LEAVE_SUCCESS",vt="ADD_LEAVE_SUCCESS",_t="ADD_LEAVE_ERROR",wt="SET_EDITLEAVEID",St="SET_ISLEAVEEDITING_ON",Et="SET_ISLEAVEEDITING_OFF",Ct="RESET_SINGLE_LEAVE",Dt="GET_EXPENSES_BEGIN",Nt="GET_EXPENSES_SUCCESS",It="GET_EXPENSES_ERROR",Pt="GET_UNPAIDEXPENSES_BEGIN",Tt="GET_UNPAIDEXPENSES_SUCCESS",At="GET_UNPAIDEXPENSES_ERROR",kt="GET_PERIODEXPENSES_BEGIN",Lt="GET_PERIODEXPENSES_SUCCESS",Rt="GET_PERIODEXPENSES_ERROR",Bt="GET_SINGLE_EXPENSE_BEGIN",Ft="GET_SINGLE_EXPENSE_SUCCESS",Gt="GET_SINGLE_EXPENSE_ERROR",Ut="DELETE_EXPENSE_SUCCESS",Vt="DELETE_EXPENSE_SUCCESS",Wt="DELETE_EXPENSE_ERROR",zt="UPDATE_EXPENSE_SUCCESS",Mt="UPDATE_EXPENSE_SUCCESS",Ht="UPDATE_EXPENSE_ERROR",Yt="ADD_EXPENSE_SUCCESS",Jt="ADD_EXPENSE_SUCCESS",Xt="ADD_EXPENSE_ERROR",qt="SET_EDITEXPENSEID",Qt="SET_ISEXPENSEEDITING_ON",Kt="SET_ISEXPENSEEDITING_OFF",$t="RESET_SINGLE_EXPENSE",Zt="GET_TRAININGS_BEGIN",ea="GET_TRAININGS_SUCCESS",ta="GET_TRAININGS_ERROR",aa="GET_SINGLE_TRAINING_BEGIN",na="GET_SINGLE_TRAINING_SUCCESS",ra="GET_SINGLE_TRAINING_ERROR",ia="GET_SINGLEBATCH_TRAINING_BEGIN",ca="GET_SINGLEBATCH_TRAINING_SUCCESS",sa="GET_SINGLEBATCH_TRAINING_ERROR",oa="DELETE_TRAINING_SUCCESS",la="DELETE_TRAINING_SUCCESS",da="DELETE_TRAINING_ERROR",ua="UPDATE_TRAINING_SUCCESS",pa="UPDATE_TRAINING_SUCCESS",ja="UPDATE_TRAINING_ERROR",ba="ADD_TRAINING_SUCCESS",ha="ADD_TRAINING_SUCCESS",fa="ADD_TRAINING_ERROR",Oa="SET_EDITTRAININGID",xa="SET_ISTRAININGEDITING_ON",ma="SET_ISTRAININGEDITING_OFF",ga="RESET_SINGLE_TRAINING",ya="GET_PAYSLIPS_BEGIN",va="GET_PAYSLIPS_SUCCESS",_a="GET_PAYSLIPS_ERROR",wa="GET_SINGLE_PAYSLIP_BEGIN",Sa="GET_SINGLE_PAYSLIP_SUCCESS",Ea="GET_SINGLE_PAYSLIP_ERROR",Ca="GET_PENDING_PAYSLIP_BEGIN",Da="GET_PENDING_PAYSLIP_SUCCESS",Na="GET_PENDING_PAYSLIP_ERROR",Ia="GET_SINGLEBATCH_PAYSLIP_BEGIN",Pa="GET_SINGLEBATCH_PAYSLIP_SUCCESS",Ta="GET_SINGLEBATCH_PAYSLIP_ERROR",Aa="DELETE_PAYSLIP_SUCCESS",ka="DELETE_PAYSLIP_SUCCESS",La="DELETE_PAYSLIP_ERROR",Ra="UPDATE_PAYSLIP_SUCCESS",Ba="UPDATE_PAYSLIP_SUCCESS",Fa="UPDATE_PAYSLIP_ERROR",Ga="ADD_PAYSLIP_SUCCESS",Ua="ADD_PAYSLIP_SUCCESS",Va="ADD_PAYSLIP_ERROR",Wa="SET_EDITPAYSLIPID",za="SET_ISPAYSLIPEDITING_ON",Ma="SET_ISPAYSLIPEDITING_OFF",Ha="RESET_SINGLE_PAYSLIP",Ya="SET_PAYSLIP_PERIOD",Ja="SET_PAYSLIP_ENDMONTHDATE",Xa="SET_PAYSLIPEARNING_AMOUNT",qa="SET_PAYSLIPDEDUCTION_AMOUNT",Qa="SET_PAYSLIPS_DATA",Ka="RESET_PAYSLIPS_DATA",$a="UPDATE_PAYSLIPS_DATA",Za="GET_PAYRUN_BEGIN",en="GET_PAYRUN_SUCCESS",tn="GET_PAYRUN_ERROR",an="GET_BATCHPAYRUN_BEGIN",nn="GET_BATCHPAYRUN_SUCCESS",rn="GET_BATCHPAYRUN_ERROR",cn="ADD_PAYRUN_BEGIN",sn="ADD_PAYRUN_SUCCESS",on="ADD_PAYRUN_ERROR",ln="UPDATE_PAYRUN_BEGIN",dn="UPDATE_PAYRUN_SUCCESS",un="UPDATE_PAYRUN_ERROR",pn="DELETE_PAYRUN_BEGIN",jn="DELETE_PAYRUN_SUCCESS",bn="DELETE_PAYRUN_ERROR",hn="GET_PAYITEMS_BEGIN",fn="GET_PAYITEMS_SUCCESS",On="GET_PAYITEMS_ERROR",xn="ADD_PAYITEM_BEGIN",mn="ADD_PAYITEM_SUCCESS",gn="ADD_PAYITEM_ERROR",yn="DELETE_PAYITEM_BEGIN",vn="DELETE_PAYITEM_SUCCESS",_n="DELETE_PAYITEM_ERROR",wn="UPDATE_PAYITEM_BEGIN",Sn="UPDATE_PAYITEM_SUCCESS",En="UPDATE_PAYITEM_ERROR",Cn="GET_PAYSLIPITEMS_BEGIN",Dn="GET_PAYSLIPITEMS_SUCCESS",Nn="GET_PAYSLIPITEMS_ERROR",In="ADD_PAYSLIPITEM_BEGIN",Pn="ADD_PAYSLIPITEM_SUCCESS",Tn="ADD_PAYSLIPITEM_ERROR",An="DELETE_PAYSLIPITEM_BEGIN",kn="DELETE_PAYSLIPITEM_SUCCESS",Ln="DELETE_PAYSLIPITEM_ERROR",Rn="UPDATE_PAYSLIPITEM_BEGIN",Bn="UPDATE_PAYSLIPITEM_SUCCESS",Fn="UPDATE_PAYSLIPITEM_ERROR",Gn="GET_PAYSLIPEARNINGS_BEGIN",Un="GET_PAYSLIPEARNINGS_SUCCESS",Vn="GET_PAYSLIPEARNINGS_ERROR",Wn="DELETE_PAYSLIPEARNING_SUCCESS",zn="DELETE_PAYSLIPEARNING_SUCCESS",Mn="DELETE_PAYSLIPEARNING_ERROR",Hn="UPDATE_PAYSLIPEARNING_SUCCESS",Yn="UPDATE_PAYSLIPEARNING_SUCCESS",Jn="UPDATE_PAYSLIPEARNING_ERROR",Xn="ADD_PAYSLIPEARNING_SUCCESS",qn="ADD_PAYSLIPEARNING_SUCCESS",Qn="ADD_PAYSLIPEARNING_ERROR",Kn="GET_PAYSLIPDEDUCTIONS_BEGIN",$n="GET_PAYSLIPDEDUCTIONS_SUCCESS",Zn="GET_PAYSLIPDEDUCTIONS_ERROR",er="DELETE_PAYSLIPDEDUCTION_SUCCESS",tr="DELETE_PAYSLIPDEDUCTION_SUCCESS",ar="DELETE_PAYSLIPDEDUCTION_ERROR",nr="UPDATE_PAYSLIPDEDUCTION_SUCCESS",rr="UPDATE_PAYSLIPDEDUCTION_SUCCESS",ir="UPDATE_PAYSLIPDEDUCTION_ERROR",cr="ADD_PAYSLIPDEDUCTION_SUCCESS",sr="ADD_PAYSLIPDEDUCTION_SUCCESS",or="ADD_PAYSLIPDEDUCTION_ERROR",lr="GET_DAILYALLOWANCES_BEGIN",dr="GET_DAILYALLOWANCES_SUCCESS",ur="GET_DAILYALLOWANCES_ERROR",pr="GET_UNPAIDDAILYALLOWS_BEGIN",jr="GET_UNPAIDDAILYALLOWS_SUCCESS",br="GET_UNPAIDDAILYALLOWS_ERROR",hr="GET_SINGLE_DAILYALLOWANCE_BEGIN",fr="GET_SINGLE_DAILYALLOWANCE_SUCCESS",Or="GET_SINGLE_DAILYALLOWANCE_ERROR",xr="GET_SINGLEBATCH_DAILYALLOWANCE_BEGIN",mr="GET_SINGLEBATCH_DAILYALLOWANCE_SUCCESS",gr="GET_SINGLEBATCH_DAILYALLOWANCE_ERROR",yr="DELETE_DAILYALLOWANCE_SUCCESS",vr="DELETE_DAILYALLOWANCE_SUCCESS",_r="DELETE_DAILYALLOWANCE_ERROR",wr="UPDATE_DAILYALLOWANCE_SUCCESS",Sr="UPDATE_DAILYALLOWANCE_SUCCESS",Er="UPDATE_DAILYALLOWANCE_ERROR",Cr="ADD_DAILYALLOWANCE_SUCCESS",Dr="ADD_DAILYALLOWANCE_SUCCESS",Nr="ADD_DAILYALLOWANCE_ERROR",Ir="SET_EDITDAILYALLOWANCEID",Pr="SET_ISDAILYALLOWANCEEDITING_ON",Tr="SET_ISDAILYALLOWANCEEDITING_OFF",Ar="RESET_SINGLE_DAILYALLOWANCE",kr="SET_DAILYALLOWANCE_PERIOD",Lr="GET_DAILYALLOWSDETLS_BEGIN",Rr="GET_DAILYALLOWSDETLS_SUCCESS",Br="GET_DAILYALLOWSDETLS_ERROR",Fr="GET_SINGLE_DAILYALLOWSDETL_BEGIN",Gr="GET_SINGLE_DAILYALLOWSDETL_SUCCESS",Ur="GET_SINGLE_DAILYALLOWSDETL_ERROR",Vr="GET_PENDING_DAILYALLOWSDETL_BEGIN",Wr="GET_PENDING_DAILYALLOWSDETL_SUCCESS",zr="GET_PENDING_DAILYALLOWSDETL_ERROR",Mr="GET_SINGLEBATCH_DAILYALLOWSDETL_BEGIN",Hr="GET_SINGLEBATCH_DAILYALLOWSDETL_SUCCESS",Yr="GET_SINGLEBATCH_DAILYALLOWSDETL_ERROR",Jr="DELETE_DAILYALLOWSDETL_SUCCESS",Xr="DELETE_DAILYALLOWSDETL_SUCCESS",qr="DELETE_DAILYALLOWSDETL_ERROR",Qr="UPDATE_DAILYALLOWSDETL_SUCCESS",Kr="UPDATE_DAILYALLOWSDETL_SUCCESS",$r="UPDATE_DAILYALLOWSDETL_ERROR",Zr="ADD_DAILYALLOWSDETL_SUCCESS",ei="ADD_DAILYALLOWSDETL_SUCCESS",ti="ADD_DAILYALLOWSDETL_ERROR",ai="SET_DAILYALLOWSDETL_PERIOD",ni="GET_ALLOWANCES_BEGIN",ri="GET_ALLOWANCES_SUCCESS",ii="GET_ALLOWANCES_ERROR",ci="DELETE_ALLOWANCE_SUCCESS",si="DELETE_ALLOWANCE_SUCCESS",oi="DELETE_ALLOWANCE_ERROR",li="UPDATE_ALLOWANCE_SUCCESS",di="UPDATE_ALLOWANCE_SUCCESS",ui="UPDATE_ALLOWANCE_ERROR",pi="ADD_ALLOWANCE_SUCCESS",ji="ADD_ALLOWANCE_SUCCESS",bi="ADD_ALLOWANCE_ERROR",hi="GET_DEDUCTIONS_BEGIN",fi="GET_DEDUCTIONS_SUCCESS",Oi="GET_DEDUCTIONS_ERROR",xi="DELETE_DEDUCTION_SUCCESS",mi="DELETE_DEDUCTION_SUCCESS",gi="DELETE_DEDUCTION_ERROR",yi="UPDATE_DEDUCTION_SUCCESS",vi="UPDATE_DEDUCTION_SUCCESS",_i="UPDATE_DEDUCTION_ERROR",wi="ADD_DEDUCTION_SUCCESS",Si="ADD_DEDUCTION_SUCCESS",Ei="ADD_DEDUCTION_ERROR",Ci="GET_DEPARTMENTS_BEGIN",Di="GET_DEPARTMENTS_SUCCESS",Ni="GET_DEPARTMENTS_ERROR",Ii="DELETE_DEPARTMENT_SUCCESS",Pi="DELETE_DEPARTMENT_SUCCESS",Ti="DELETE_DEPARTMENT_ERROR",Ai="UPDATE_DEPARTMENT_SUCCESS",ki="UPDATE_DEPARTMENT_SUCCESS",Li="UPDATE_DEPARTMENT_ERROR",Ri="ADD_DEPARTMENT_SUCCESS",Bi="ADD_DEPARTMENT_SUCCESS",Fi="ADD_DEPARTMENT_ERROR",Gi="GET_DESIGNATIONS_BEGIN",Ui="GET_DESIGNATIONS_SUCCESS",Vi="GET_DESIGNATIONS_ERROR",Wi="DELETE_DESIGNATION_SUCCESS",zi="DELETE_DESIGNATION_SUCCESS",Mi="DELETE_DESIGNATION_ERROR",Hi="UPDATE_DESIGNATION_SUCCESS",Yi="UPDATE_DESIGNATION_SUCCESS",Ji="UPDATE_DESIGNATION_ERROR",Xi="ADD_DESIGNATION_SUCCESS",qi="ADD_DESIGNATION_SUCCESS",Qi="ADD_DESIGNATION_ERROR",Ki="GET_FAMILY_BEGIN",$i="GET_FAMILY_SUCCESS",Zi="GET_FAMILY_ERROR",ec="DELETE_FAMILY_SUCCESS",tc="DELETE_FAMILY_SUCCESS",ac="DELETE_FAMILY_ERROR",nc="UPDATE_FAMILY_SUCCESS",rc="UPDATE_FAMILY_SUCCESS",ic="UPDATE_FAMILY_ERROR",cc="ADD_FAMILY_SUCCESS",sc="ADD_FAMILY_SUCCESS",oc="ADD_FAMILY_ERROR",lc="LOAD_SINGLEBATCH_FAMILY_BEGIN",dc="LOAD_SINGLEBATCH_FAMILY_SUCCESS",uc="LOAD_SINGLEBATCH_FAMILY_ERROR",pc="GET_EDUCATION_BEGIN",jc="GET_EDUCATION_SUCCESS",bc="GET_EDUCATION_ERROR",hc="DELETE_EDUCATION_SUCCESS",fc="DELETE_EDUCATION_SUCCESS",Oc="DELETE_EDUCATION_ERROR",xc="UPDATE_EDUCATION_SUCCESS",mc="UPDATE_EDUCATION_SUCCESS",gc="UPDATE_EDUCATION_ERROR",yc="ADD_EDUCATION_SUCCESS",vc="ADD_EDUCATION_SUCCESS",_c="ADD_EDUCATION_ERROR",wc="LOAD_SINGLEBATCH_EDUCATION_BEGIN",Sc="LOAD_SINGLEBATCH_EDUCATION_SUCCESS",Ec="LOAD_SINGLEBATCH_EDUCATION_ERROR",Cc="GET_EXPERIENCE_BEGIN",Dc="GET_EXPERIENCE_SUCCESS",Nc="GET_EXPERIENCE_ERROR",Ic="DELETE_EXPERIENCE_SUCCESS",Pc="DELETE_EXPERIENCE_SUCCESS",Tc="DELETE_EXPERIENCE_ERROR",Ac="UPDATE_EXPERIENCE_SUCCESS",kc="UPDATE_EXPERIENCE_SUCCESS",Lc="UPDATE_EXPERIENCE_ERROR",Rc="ADD_EXPERIENCE_SUCCESS",Bc="ADD_EXPERIENCE_SUCCESS",Fc="ADD_EXPERIENCE_ERROR",Gc="LOAD_SINGLEBATCH_EXPERIENCE_BEGIN",Uc="LOAD_SINGLEBATCH_EXPERIENCE_SUCCESS",Vc="LOAD_SINGLEBATCH_EXPERIENCE_ERROR",Wc="RESET_TABLES",zc=function(e,t){if(t.type===tt)return Object(D.a)(Object(D.a)({},e),{},{editEmployeeID:t.payload});if(t.type===at)return Object(D.a)(Object(D.a)({},e),{},{isEditing:!0});if(t.type===nt)return Object(D.a)(Object(D.a)({},e),{},{isEditing:!1});if(t.type===rt)return Object(D.a)(Object(D.a)({},e),{},{single_employee:{}});if(t.type===it)return Object(D.a)(Object(D.a)({},e),{},{employee:{}});if(t.type===Ue)return Object(D.a)(Object(D.a)({},e),{},{employees_loading:!0});if(t.type===Ve)return Object(D.a)(Object(D.a)({},e),{},{employees_loading:!1,employees:t.payload});if(t.type===We)return Object(D.a)(Object(D.a)({},e),{},{employees_loading:!1,employees_error:!0});if(t.type===$e)return Object(D.a)(Object(D.a)({},e),{},{add_employee_loading:!0});if(t.type===Ze)return Object(D.a)(Object(D.a)({},e),{},{add_employees_loading:!1,employees:t.payload});if(t.type===et)return Object(D.a)(Object(D.a)({},e),{},{employees_loading:!1,add_employee_error:!0});if(t.type===qe)return Object(D.a)(Object(D.a)({},e),{},{update_employee_loading:!0});if(t.type===Qe)return Object(D.a)(Object(D.a)({},e),{},{employees_loading:!1,single_employee:t.payload});if(t.type===Ke)return Object(D.a)(Object(D.a)({},e),{},{update_employee_loading:!1,update_employee_error:!0});if(t.type===Ye)return Object(D.a)(Object(D.a)({},e),{},{delete_employee_loading:!0,delete_employee_error:!1});if(t.type===Je)return Object(D.a)(Object(D.a)({},e),{},{delete_employee_loading:!1,delete_employee_error:!1});if(t.type===Xe)return Object(D.a)(Object(D.a)({},e),{},{delete_employee_loading:!1,delete_employee_error:!0});if(t.type===ze)return Object(D.a)(Object(D.a)({},e),{},{single_employee_loading:!0,single_employee_error:!1});if(t.type===Me)return Object(D.a)(Object(D.a)({},e),{},{single_employee_loading:!1,single_employee:t.payload});if(t.type===He)return Object(D.a)(Object(D.a)({},e),{},{single_employee_loading:!1,single_employee_error:!0});throw new Error('No Matching "'.concat(t.type,'" - action type'))},Mc={isEditing:!1,alert:{show:!1,msg:"",type:""},editEmployeeID:null,employees_loading:!1,employees_error:!1,employees:[],single_employee_loading:!1,single_employee_error:!1,single_employee:{},delete_employee_loading:!1,delete_employee_error:!1,update_employee_loading:!1,update_employee_error:!1,add_employee_loading:!1,add_employee_error:!1},Hc=r.a.createContext(),Yc=function(e){var t=e.children,a=Object(n.useReducer)(zc,Mc),r=Object(w.a)(a,2),i=r[0],c=r[1],s=function(){var e=Object(P.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Ue}),e.prev=1,e.next=4,fetch(X);case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,c({type:Ve,payload:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c({type:We});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{c({type:tt,payload:t})}catch(a){c(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:ze}),e.prev=1,e.next=4,me.a.get("".concat(X,"?id=").concat(t));case 4:a=e.sent,n=a.data,c({type:Me,payload:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),c({type:He});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:ze}),e.prev=1,e.next=4,me.a.get("".concat(X,"?fv=").concat(t));case 4:a=e.sent,n=a.data,c({type:Me,payload:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),c({type:He});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.id,t.name,t.ic_no,t.email,t.age,t.gender,c({type:$e}),e.prev=2,e.next=5,fetch(X,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 5:c({type:Ze}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:et});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),c({type:qe}),e.prev=2,e.next=5,fetch(X,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 5:c({type:Qe}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:Ke});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Ye}),e.prev=1,e.next=4,fetch(X,{method:"DELETE",body:JSON.stringify({id:t})});case 4:c({type:Je}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c({type:Xe});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(Hc.Provider,{value:Object(D.a)(Object(D.a)({},i),{},{loadEmployees:s,addEmployee:u,updateEmployee:p,deleteEmployee:b,getSingleEmployee:l,getSingleEmployeeEmail:d,setEditEmployeeID:o,setIsEditingOn:function(){c({type:at})},setIsEditingOff:function(){c({type:nt})},resetSingleEmployee:function(){c({type:rt})},resetEmployees:function(){c({type:it})}}),children:t})},Jc=function(){return Object(n.useContext)(Hc)},Xc=a(612);a(675).config();var qc=Xc.a.initializeApp({apiKey:"AIzaSyAC1wkGkNZ6RIeXNe_cbf1NfYEDTweCN-M",authDomain:"hrms-appsmithsutera.firebaseapp.com",projectId:"hrms-appsmithsutera",storageBucket:"hrms-appsmithsutera.appspot.com",messagingSenderId:"659537276793",appId:"1:659537276793:web:cf539909202a8b063049a8",measurementId:"G-91T6Y62H1S"}),Qc={email:"",password:""},Kc=Object(E.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:e.spacing(2),"& .MuiTextField-root":{margin:e.spacing(1),width:"600px"},"& .MuiButtonBase-root":{margin:e.spacing(2)}}}})),$c=function(){Kc();var e=Y(),t=ve().employees,a=Object(n.useState)(""),r=Object(w.a)(a,2),i=r[0],c=r[1],s=Object(n.useState)(""),o=Object(w.a)(s,2),l=(o[0],o[1]),d=Object(n.useState)(""),u=Object(w.a)(d,2),p=u[0],b=u[1],f=Object(n.useState)(Qc),O=Object(w.a)(f,2),x=O[0],m=(O[1],Object(h.d)(_e)),g=Object(w.a)(m,2),y=g[0],v=g[1],_=Jc().setEditEmployeeID,S=Object(M.b)({defaultValues:x}),E=S.handleSubmit,N=S.control,H=(S.register,S.reset,S.formState),J=(H.errors,H.isSubmitting),X=function(){var t=Object(P.a)(I.a.mark((function t(a){var n,r;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.email,r=a.password,t.prev=1,t.next=4,qc.auth().signInWithEmailAndPassword(n,r);case 4:q(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),e({title:"Invalid email or password!",status:"warning"});case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}(),q=function(){var a=t.filter((function(e){return e.email===i})).map((function(e){return{id:e.id,name:e.name,email:e.email,password:e.password,role:p,level:e.role,leave_bal:e.leave_bal,siteallows_fee:e.siteallows_fee,perdiem_fee:e.perdiem_fee,reporting_to:e.reporting_to,reporting_email:e.reporting_email}}));return"admin@abc.com"===i?(b("Staff"),v(Object(D.a)(Object(D.a)({},y),{},{loginUser:"Admin",loginUserId:"admin",loginLevel:"Staff",loginEmail:"admin@abc.com",login:!0,leave_bal:0,siteallows_fee:0,perdiem_fee:0,reporting_to:"",reporting_email:""})),_("111"),null):a.length?"Admin"===p&&a[0].level<2||"Admin"===p&&a[0].level<2||"AdminManager"===p&&a[0].level<3||"Manager"===p&&a[0].level<4?(e({title:"You have no authorisation to access!",status:"warning"}),null):(v(Object(D.a)(Object(D.a)({},y),{},{loginUser:a[0].name,loginUserId:a[0].id,loginLevel:p,loginEmail:i,login:!0,leave_bal:a[0].leave_bal,siteallows_fee:a[0].siteallows_fee,perdiem_fee:a[0].perdiem_fee,reporting_to:a[0].reporting_to,reporting_email:a[0].reporting_email})),_(a[0].id),void l("")):(e({title:"This email is not existed!",status:"warning"}),null)};return Object(j.jsx)(T.a,{minH:"84vh",align:"center",justify:"center",children:Object(j.jsx)(A.b,{spacing:8,mx:"auto",w:"xl",py:12,px:6,children:Object(j.jsxs)(k.a,{bgColor:"white",children:[Object(j.jsx)(k.a,{children:Object(j.jsx)(L.a,{w:"400px",h:"200px",ratio:1,children:Object(j.jsx)(R.a,{w:"300px",h:"200px",px:"1rem",spacing:4,justify:"center",children:Object(j.jsx)(B.a,{src:C,alt:"Logo",width:"100%",display:"block",fit:"cover"})})})}),Object(j.jsx)(A.b,{align:"center",py:3,children:Object(j.jsx)(F.a,{size:"md",children:"Log In to Appsmiths Sutera HRMS"})}),Object(j.jsxs)("form",{onSubmit:E(X),children:[Object(j.jsxs)(A.c,{alignItems:"flex-start",px:5,py:5,m:5,borderRadius:"20",border:"1px solid black",children:[Object(j.jsx)(G.a,{children:Object(j.jsx)(M.a,{control:N,name:"email",render:function(e){var t=e.field,a=t.onChange,n=t.value,r=t.ref;return Object(j.jsx)(U.a,{children:Object(j.jsx)(A.a,{w:"100%",py:1,children:Object(j.jsx)(V.a,{name:"email",value:n,onChange:function(e){a(e),c(e.target.value)},bgColor:"white",ref:r,placeholder:"email"})})})}})}),Object(j.jsx)(W.a,{}),Object(j.jsx)(G.a,{children:Object(j.jsx)(M.a,{control:N,name:"password",render:function(e){var t=e.field,a=t.onChange,n=t.value,r=t.ref;return Object(j.jsx)(U.a,{children:Object(j.jsx)(A.a,{w:"100%",py:1,children:Object(j.jsx)(V.a,{name:"password",type:"password",value:n,onChange:function(e){a(e),l(e.target.value)},bgColor:"white",ref:r,placeholder:"password"})})})}})})]}),Object(j.jsx)(A.a,{align:"center",justify:"center",children:Object(j.jsx)(z.a,{mt:1,mx:5,mb:5,variant:"solid",isFullWidth:!0,colorScheme:"teal",isLoading:J,type:"submit",children:"Login"})})]})]})})})},Zc=a(21),es=a(31),ts=a(93),as=a(6),ns=a(533),rs=a(534),is=a(901),cs=a(129),ss=a(447),os=a(593),ls=a.n(os),ds=a(448),us=a.n(ds),ps="hrms_user";function js(){var e=localStorage.getItem(ps);return e?JSON.parse(e):null}function bs(){return(bs=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",js());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hs(){var e=Object(n.useState)(js()||null),t=Object(w.a)(e,2),a=t[0],r=t[1],i=Object(o.b)();return Object(J.a)(ge.user,(function(){return function(e){return bs.apply(this,arguments)}(a)}),{enabled:!!a,onSuccess:function(e){return r(e)}}),{user:a,updateUser:function(e){r(e),function(e){localStorage.setItem(ps,JSON.stringify(e))}(e)},clearUser:function(){r(null),localStorage.removeItem(ps),i.setQueryData(ge.user,null),i.removeQueries([ge.user])}}}var fs=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}})),Os=function(e){var t=e.handleDrawerOpen,a=(e.handleDrawerClose,e.handleSelect),n=e.open,r=e.title,i=Object(ts.f)(),c=fs(),s=hs(),o=(s.user,s.clearUser),l=Object(h.d)(_e),d=Object(w.a)(l,2),p=d[0],b=d[1];return Object(j.jsx)(is.a,{position:"absolute",className:Object(as.a)(c.appBar,n&&c.appBarShift),children:Object(j.jsxs)(ns.a,{className:c.toolbar,children:[Object(j.jsx)(ss.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:t,className:Object(as.a)(c.menuButton,n&&c.menuButtonHidden),children:Object(j.jsx)(us.a,{})}),Object(j.jsx)(cs.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:c.title,children:r}),Object(j.jsxs)(A.a,{justifyContent:"flex-start",px:2,children:[Object(j.jsx)(z.a,{colorScheme:"white","aria-label":"Staff",onClick:function(){return a("Staff")},children:"Staff"}),Object(j.jsx)(z.a,{colorScheme:"white","aria-label":"Admin",onClick:function(){return a("Admin")},children:"Admin"}),Object(j.jsx)(z.a,{colorScheme:"white","aria-label":"Admin Manager",onClick:function(){return a("AdminManager")},children:"Admin Manager"}),Object(j.jsx)(z.a,{colorScheme:"white","aria-label":"Manager",onClick:function(){return a("Manager")},children:"Manager"})]}),Object(j.jsx)("div",{children:Object(j.jsx)(u.a,{fontSize:"18",children:p.loginUser&&Object(j.jsxs)("h3",{children:["Welcome ",p.loginEmail,"!"]})})}),Object(j.jsx)(rs.a,{title:"Logout",children:Object(j.jsx)(ss.a,{color:"inherit",onClick:function(e){return function(e){e.preventDefault(),b(Object(D.a)(Object(D.a)({},p),{},{login:!1})),o(),qc.auth().signOut(),i.push("/")}(e)},children:Object(j.jsx)(ls.a,{})})})]})})},xs=a(449),ms=(a(680),a(117));function gs(e){var t=e.columns,a=e.data,n=Object(xs.useTable)({columns:t,data:a}),r=n.getTableProps,i=n.getTableBodyProps,c=n.headerGroups,s=n.rows,o=n.prepareRow;return Object(j.jsxs)("table",Object(D.a)(Object(D.a)({},r()),{},{children:[Object(j.jsx)("thead",{children:c.map((function(e){return Object(j.jsx)("tr",Object(D.a)(Object(D.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(j.jsx)("th",Object(D.a)(Object(D.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(j.jsx)("tbody",Object(D.a)(Object(D.a)({},i()),{},{children:s.map((function(e,t){return o(e),Object(j.jsx)("tr",Object(D.a)(Object(D.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(j.jsx)("td",Object(D.a)(Object(D.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))}var ys=a(936),vs=a(395),_s=a(469),ws=a(951),Ss=a(611),Es=a(620),Cs=a(470),Ds=a(952),Ns=a(615),Is=a(619),Ps=a(393),Ts=a(614),As=a(902),ks=a(621),Ls=a(622),Rs=Object(E.a)((function(e){return{root:{flexGrow:1},container:{margin:0,padding:0,width:"80vw",display:"grid",gridTemplateColumns:"repeat(auto-fill,250px)",gridAutoRows:"10px",position:"absolute",left:"50%",transform:"translateX(-50%)",justifyContent:"center",backgroundColor:"primary"},fixedHeight:{height:800},paper:{padding:e.spacing(10),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%",color:"primary",bcakgroundColor:"black"},card:{backgroundColor:"black"},section:{width:"90vw",margin:"5rem auto",maxWidth:"var(--max-width)"},underline:{width:"5rem",height:"0.25rem",marginBottom:"1.25rem",background:"var(--clr-primary-5)",marginLeft:"auto",marginRight:"auto"},title:{marginbottom:"4rem",textAlign:"center"},jobscenter:{width:"80vw",margin:"0 auto",maxWidth:"var(--max-width)",flexDirection:"row"},btncontainer:{display:"flex",flexDirection:"row",justifyContent:"center",marginBottom:"4rem",flexWrap:"wrap"},jobbtn:{background:"transparent",borderColor:"transparent",textTransform:"capitalize",fontSize:"1.25rem",letterSpacing:"var(--spacing)",margin:"0 0.5rem",transition:"var(--transition)",cursor:"pointer",padding:"0.25rem 0",lineHeight:"1",outlineColor:"var(--clr-primary-10)","&:hover":{color:"var(--clr-primary-5)",boxShadow:"0 2px var(--clr-primary-5)"}},activebtn:{color:"var(--clr-primary-5)",boxShadow:"0 2px var(--clr-primary-5)"},jobinfo:{fontWeight:"400"}}})),Bs=function(){var e=Rs(),t=Y(),a=Object(as.a)(e.paper,e.fixedHeight),r=Object(n.useState)([]),i=Object(w.a)(r,2),c=i[0],s=i[1],o=new ys.a({cloudName:"dlmzwvakr"}).image("sample"),l=Object(n.useState)(""),d=Object(w.a)(l,2),u=d[0],p=d[1];Object(n.useEffect)((function(){me()("http://api.tvmaze.com/search/shows?q=girls").then((function(e){s(e.data)})).catch((function(e){return console.log(e)}))}),[]),o.resize(Object(_s.b)().width(150).height(150).gravity(Object(Ps.b)(Object(Is.a)()))).roundCorners(Object(ws.a)(20)).effect(Object(Ss.a)()).overlay(Object(Es.a)(Object(Ts.a)("cloudinary_icon_blue").transformation((new vs.a).resize(Object(_s.a)(50)).adjust(Object(Cs.b)(60)).adjust(Object(Cs.a)(200)))).position((new As.a).gravity(Object(Ps.a)(Object(ks.a)())).offsetX(5).offsetY(5))).rotate(Object(Ds.a)(10)).delivery(Object(Ns.a)(Object(Ls.a)()));var b=Object(n.useMemo)((function(){return[{Header:"TV Show",columns:[{Header:"Name",accessor:"show.name"},{Header:"Language",accessor:"show.language"},{Header:"Official Site",accessor:"show.officialSite",Cell:function(e){var t=e.cell.value;return t?Object(j.jsx)("a",{href:t,children:t}):"-"}},{Header:"Status",accessor:"show.status"},{Header:"Premiered",accessor:"show.premiered",Cell:function(e){return e.cell.value||"-"}},{Header:"Time",accessor:"show.schedule.time",Cell:function(e){return e.cell.value||"-"}}]}]}));return Object(j.jsx)("paper",{className:a,style:{backgroundColor:"white"},children:Object(j.jsxs)("section",{className:e.section,children:[Object(j.jsx)(B.a,{boxSize:"200px",src:"https://res.cloudinary.com/dlmzwvakr/image/upload/v1626538637/advtrade/smartsecurity-ss3_d21ecw.jpg",alt:"Dan Abramov"}),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("h1",{children:Object(j.jsx)("center",{children:"React Table Demo"})}),Object(j.jsx)(gs,{columns:b,data:c}),Object(j.jsx)("button",{onClick:function(){ms.a("service_ffxn6vb","template_1y8odlq",{to_name:"pvchin",to_email:"pvchinbn@gmail.com",message:"This is a reminder!!",cc_to:"pvchinbn@yahoo.com"},"user_oLsKrJJYgmAa4uBnRGkuq").then((function(e){console.log(e.status,e.text),p("success")}),(function(e){console.log(e),p("failure")})),console.log("email",u),"success"===u&&t({title:"Invalid email or password!",status:"warning"})},children:"Send Email"})]})]})})},Fs=a(157),Gs=a(860),Us=a(907),Vs=a(597),Ws=a.n(Vs),zs=a(859),Ms=a(904),Hs=a(535),Ys=a(903),Js=a(182),Xs=a.n(Js),qs=a(209),Qs=a.n(qs),Ks=a(154),$s=a.n(Ks),Zs=a(184),eo=a.n(Zs),to=(a(253),a(199)),ao=a.n(to),no=a(227),ro=a.n(no),io=(Object(E.a)((function(e){return{mainHeader:{fontSize:24,color:"primary"},categoryHeader:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},categoryHeaderPrimary:{color:"orange"},content:{flexGrow:1,height:"100vh",overflow:"auto"},item:{paddingTop:1,paddingBottom:1,color:"primary","&:hover,&:focus":{backgroundColor:"rgba(255, 255, 255, 0.08)"}},itemCategory:{backgroundColor:"#232f3e",boxShadow:"0 -1px 0 #404854 inset",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},firebase:{fontSize:24,color:e.palette.common.orange},itemActiveItem:{color:"primary"},itemPrimary:{fontSize:"inherit"},itemIcon:{minWidth:"auto",marginRight:e.spacing(2),color:"primary"},divider:{marginTop:e.spacing(2)}}})),Object(E.a)((function(e){return{mainHeader:{fontSize:24,color:"primary"},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},categoryHeader:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},categoryHeaderPrimary:{color:"primary"},content:{flexGrow:1,height:"100vh",overflow:"auto"},item:{paddingTop:1,paddingBottom:1,color:"primary","&:hover,&:focus":{backgroundColor:"rgba(255, 255, 255, 0.08)"}},itemCategory:{backgroundColor:"#232f3e",boxShadow:"0 -1px 0 #404854 inset",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},firebase:{fontSize:24,color:e.palette.common.orange},itemActiveItem:{color:"primary"},itemPrimary:{fontSize:"inherit"},itemIcon:{minWidth:"auto",marginRight:e.spacing(2),color:"primary"},divider:{marginTop:e.spacing(2)}}}))),co=function(){var e=io(),t=Object(n.useState)(!1),a=Object(w.a)(t,2),r=(a[0],a[1],Object(n.useState)(!1)),i=Object(w.a)(r,2);i[0],i[1];return Object(j.jsxs)("div",{className:e.content,children:[Object(j.jsx)(Ys.a,{align:"center",className:e.itemIcon,children:Object(j.jsx)(u.a,{color:"blue",fontSize:"21",fontWeight:"bold",children:"Staff"})}),Object(j.jsx)(es.b,{to:"/",children:Object(j.jsxs)(zs.a,{button:!0,children:[Object(j.jsx)(Ms.a,{className:e.itemIcon,children:Object(j.jsx)(Xs.a,{})}),Object(j.jsx)(Hs.a,{primary:"Dashboard",className:e.categoryHeaderPrimary})]})}),Object(j.jsx)(es.b,{to:"/singleemployee",children:Object(j.jsxs)(zs.a,{button:!0,children:[Object(j.jsx)(Ms.a,{className:e.itemIcon,children:Object(j.jsx)($s.a,{})}),Object(j.jsx)(Hs.a,{primary:"Profile",className:e.categoryHeaderPrimary})]})}),Object(j.jsx)(es.b,{to:"/leave",children:Object(j.jsxs)(zs.a,{button:!0,children:[Object(j.jsx)(Ms.a,{className:e.itemIcon,children:Object(j.jsx)(Qs.a,{})}),Object(j.jsx)(Hs.a,{primary:"Leave",className:e.categoryHeaderPrimary})]})}),Object(j.jsx)(es.b,{to:"/expenses",children:Object(j.jsxs)(zs.a,{button:!0,children:[Object(j.jsx)(Ms.a,{className:e.itemIcon,children:Object(j.jsx)(ao.a,{})}),Object(j.jsx)(Hs.a,{primary:"Expenses",className:e.categoryHeaderPrimary})]})}),Object(j.jsx)(es.b,{to:"/trainings",children:Object(j.jsxs)(zs.a,{button:!0,children:[Object(j.jsx)(Ms.a,{className:e.itemIcon,children:Object(j.jsx)(ao.a,{})}),Object(j.jsx)(Hs.a,{primary:"Trainings",className:e.categoryHeaderPrimary})]})}),Object(j.jsx)(es.b,{to:"/dailyallowances",children:Object(j.jsxs)(zs.a,{button:!0,children:[Object(j.jsx)(Ms.a,{className:e.itemIcon,children:Object(j.jsx)(ro.a,{})}),Object(j.jsx)(Hs.a,{primary:"Site Allowances",className:e.categoryHeaderPrimary})]})}),Object(j.jsx)(es.b,{to:"/payslips",children:Object(j.jsxs)(zs.a,{button:!0,children:[Object(j.jsx)(Ms.a,{className:e.itemIcon,children:Object(j.jsx)(ao.a,{})}),Object(j.jsx)(Hs.a,{primary:"Payslips",className:e.categoryHeaderPrimary})]})})]})},so=Object(E.a)((function(e){return{mainHeader:{fontSize:24,color:"primary"},categoryHeader:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},categoryHeaderPrimary:{color:"primary"},content:{flexGrow:1,height:"100vh",overflow:"auto"},item:{paddingTop:1,paddingBottom:1,color:"primary","&:hover,&:focus":{backgroundColor:"rgba(255, 255, 255, 0.08)"}},itemCategory:{backgroundColor:"#232f3e",boxShadow:"0 -1px 0 #404854 inset",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},firebase:{fontSize:24,color:e.palette.common.orange},itemActiveItem:{color:"primary"},itemPrimary:{fontSize:"inherit"},itemIcon:{minWidth:"auto",marginRight:e.spacing(2),color:"primary"},divider:{marginTop:e.spacing(2)}}})),oo=function(){var e=so(),t=Object(n.useState)(!1),a=Object(w.a)(t,2),r=(a[0],a[1],Object(n.useState)(!1)),i=Object(w.a)(r,2);i[0],i[1];return Object(j.jsxs)("div",{className:e.content,children:[Object(j.jsx)(Ys.a,{align:"center",className:e.itemIcon,children:Object(j.jsx)(u.a,{color:"blue",fontSize:"21",fontWeight:"bold",children:"Admin"})}),Object(j.jsx)(es.b,{to:"/",children:Object(j.jsxs)(zs.a,{button:!0,children:[Object(j.jsx)(Ms.a,{className:e.itemIcon,children:Object(j.jsx)(Xs.a,{})}),Object(j.jsx)(Hs.a,{primary:"Dashboard",className:e.categoryHeaderPrimary})]})}),Object(j.jsx)(es.b,{to:"/allemployees",children:Object(j.jsxs)(zs.a,{button:!0,children:[Object(j.jsx)(Ms.a,{className:e.itemIcon,children:Object(j.jsx)($s.a,{})}),Object(j.jsx)(Hs.a,{primary:"All Employees",className:e.categoryHeaderPrimary})]})}),Object(j.jsx)(es.b,{to:"/leave",children:Object(j.jsxs)(zs.a,{button:!0,children:[Object(j.jsx)(Ms.a,{className:e.itemIcon,children:Object(j.jsx)(Qs.a,{})}),Object(j.jsx)(Hs.a,{primary:"Leave",className:e.categoryHeaderPrimary})]})}),Object(j.jsx)(es.b,{to:"/tables",children:Object(j.jsxs)(zs.a,{button:!0,children:[Object(j.jsx)(Ms.a,{className:e.itemIcon,children:Object(j.jsx)(eo.a,{})}),Object(j.jsx)(Hs.a,{primary:"Tables",className:e.categoryHeaderPrimary})]})})]})},lo=a(905),uo=a(380),po=a.n(uo),jo=a(381),bo=a.n(jo),ho=Object(E.a)((function(e){return{mainHeader:{fontSize:20,color:"primary"},categoryHeader:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},categoryHeaderPrimary:{color:"primary"},content:{flexGrow:1,height:"100vh",overflow:"auto"},item:{paddingTop:1,paddingBottom:1,color:"primary","&:hover,&:focus":{backgroundColor:"rgba(255, 255, 255, 0.08)"}},itemCategory:{backgroundColor:"#232f3e",boxShadow:"0 -1px 0 #404854 inset",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},firebase:{fontSize:24,color:e.palette.common.orange},itemActiveItem:{color:"primary"},itemPrimary:{fontSize:"inherit"},itemIcon:{minWidth:"auto",marginRight:e.spacing(2),color:"primary"},divider:{marginTop:e.spacing(2)}}})),fo=function(){var e=ho(),t=Object(n.useState)(!1),a=Object(w.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(!1),s=Object(w.a)(c,2);s[0],s[1];return Object(j.jsxs)("div",{className:e.content,children:[Object(j.jsx)(Ys.a,{align:"center",className:e.itemIcon,children:Object(j.jsx)(u.a,{color:"blue",fontSize:"21",fontWeight:"bold",children:"Admin Manager"})}),Object(j.jsx)(es.b,{to:"/",children:Object(j.jsxs)(zs.a,{button:!0,children:[Object(j.jsx)(Ms.a,{className:e.itemIcon,children:Object(j.jsx)(Xs.a,{})}),Object(j.jsx)(Hs.a,{primary:"Dashboard",className:e.categoryHeaderPrimary})]})}),Object(j.jsx)(es.b,{to:"/allemployees",children:Object(j.jsxs)(zs.a,{button:!0,children:[Object(j.jsx)(Ms.a,{className:e.itemIcon,children:Object(j.jsx)($s.a,{})}),Object(j.jsx)(Hs.a,{primary:"All Employees",className:e.categoryHeaderPrimary})]})}),Object(j.jsxs)(zs.a,{button:!0,onClick:function(){i(!r)},children:[Object(j.jsx)(Ms.a,{className:e.itemIcon,children:Object(j.jsx)(eo.a,{})}),Object(j.jsx)(Hs.a,{primary:"Payroll",className:e.item}),r?Object(j.jsx)(po.a,{}):Object(j.jsx)(bo.a,{})]}),Object(j.jsx)(lo.a,{in:r,timeout:"auto",unmountOnExit:!0,children:Object(j.jsxs)(Gs.a,{component:"div",disablePadding:!0,children:[Object(j.jsx)(es.b,{to:"/payrun",children:Object(j.jsxs)(zs.a,{button:!0,className:e.nested,children:[Object(j.jsx)(Ms.a,{}),Object(j.jsx)(Hs.a,{primary:"Payroll Run",className:e.item})]})}),Object(j.jsx)(es.b,{to:"/payslip",children:Object(j.jsxs)(zs.a,{button:!0,className:e.nested,children:[Object(j.jsx)(Ms.a,{}),Object(j.jsx)(Hs.a,{primary:"Payslip",className:e.item})]})})]})}),Object(j.jsx)(es.b,{to:"/tables",children:Object(j.jsxs)(zs.a,{button:!0,children:[Object(j.jsx)(Ms.a,{className:e.itemIcon,children:Object(j.jsx)(eo.a,{})}),Object(j.jsx)(Hs.a,{primary:"Tables",className:e.categoryHeaderPrimary})]})})]})},Oo=Object(E.a)((function(e){return{mainHeader:{fontSize:24,color:"primary"},categoryHeader:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},categoryHeaderPrimary:{color:"primary"},content:{flexGrow:1,height:"100vh",overflow:"auto"},item:{paddingTop:1,paddingBottom:1,color:"primary","&:hover,&:focus":{backgroundColor:"rgba(255, 255, 255, 0.08)"}},itemCategory:{backgroundColor:"#232f3e",boxShadow:"0 -1px 0 #404854 inset",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},firebase:{fontSize:24,color:e.palette.common.orange},itemActiveItem:{color:"primary"},itemPrimary:{fontSize:"inherit"},itemIcon:{minWidth:"auto",marginRight:e.spacing(2),color:"primary"},divider:{marginTop:e.spacing(2)}}})),xo=function(){var e=Oo(),t=Object(n.useState)(!1),a=Object(w.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(!1),s=Object(w.a)(c,2);s[0],s[1];return Object(j.jsxs)("div",{className:e.content,children:[Object(j.jsx)(Ys.a,{align:"center",className:e.itemIcon,children:Object(j.jsx)(u.a,{color:"blue",fontSize:"21",fontWeight:"bold",children:"Manager"})}),Object(j.jsx)(es.b,{to:"/",children:Object(j.jsxs)(zs.a,{button:!0,children:[Object(j.jsx)(Ms.a,{className:e.itemIcon,children:Object(j.jsx)(Xs.a,{})}),Object(j.jsx)(Hs.a,{primary:"Dashboard",className:e.categoryHeaderPrimary})]})}),Object(j.jsx)(es.b,{to:"/allemployees",children:Object(j.jsxs)(zs.a,{button:!0,children:[Object(j.jsx)(Ms.a,{className:e.itemIcon,children:Object(j.jsx)($s.a,{})}),Object(j.jsx)(Hs.a,{primary:"All Employees",className:e.categoryHeaderPrimary})]})}),Object(j.jsx)(es.b,{to:"/approval",children:Object(j.jsxs)(zs.a,{button:!0,children:[Object(j.jsx)(Ms.a,{className:e.itemIcon,children:Object(j.jsx)($s.a,{})}),Object(j.jsx)(Hs.a,{primary:"Approval",className:e.categoryHeaderPrimary})]})}),Object(j.jsxs)(zs.a,{button:!0,onClick:function(){i(!r)},children:[Object(j.jsx)(Ms.a,{className:e.itemIcon,children:Object(j.jsx)(eo.a,{})}),Object(j.jsx)(Hs.a,{primary:"Payroll",className:e.item}),r?Object(j.jsx)(po.a,{}):Object(j.jsx)(bo.a,{})]}),Object(j.jsx)(lo.a,{in:r,timeout:"auto",unmountOnExit:!0,children:Object(j.jsxs)(Gs.a,{component:"div",disablePadding:!0,children:[Object(j.jsx)(es.b,{to:"/payrun",children:Object(j.jsxs)(zs.a,{button:!0,className:e.nested,children:[Object(j.jsx)(Ms.a,{}),Object(j.jsx)(Hs.a,{primary:"Payroll Run",className:e.item})]})}),Object(j.jsx)(es.b,{to:"/payslip",children:Object(j.jsxs)(zs.a,{button:!0,className:e.nested,children:[Object(j.jsx)(Ms.a,{}),Object(j.jsx)(Hs.a,{primary:"Payslip",className:e.item})]})})]})}),Object(j.jsx)(es.b,{to:"/useraccess",children:Object(j.jsxs)(zs.a,{button:!0,children:[Object(j.jsx)(Ms.a,{className:e.itemIcon,children:Object(j.jsx)($s.a,{})}),Object(j.jsx)(Hs.a,{primary:"User Access Settings",className:e.categoryHeaderPrimary})]})}),Object(j.jsx)(es.b,{to:"/tables",children:Object(j.jsxs)(zs.a,{button:!0,children:[Object(j.jsx)(Ms.a,{className:e.itemIcon,children:Object(j.jsx)(eo.a,{})}),Object(j.jsx)(Hs.a,{primary:"Tables",className:e.categoryHeaderPrimary})]})})]})},mo=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(7)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},image:{width:200,height:1150},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"}}})),go=function(e){e.HandleDrawerOpen;var t=e.handleDrawerClose,a=e.open,n=mo(),r=Object(h.d)(_e),i=Object(w.a)(r,2),c=i[0],s=(i[1],function(){switch(c.loginLevel){case"Staff":return Object(j.jsx)(co,{});case"Admin":return Object(j.jsx)(oo,{});case"AdminManager":return Object(j.jsx)(fo,{});case"Manager":return Object(j.jsx)(xo,{});default:return"You are not authorised user!"}});return Object(j.jsx)("div",{children:Object(j.jsxs)(Fs.a,{variant:"permanent",classes:{paper:Object(as.a)(n.drawerPaper,!a&&n.drawerPaperClose)},open:a,children:[Object(j.jsx)("div",{className:n.toolbarIcon,children:Object(j.jsx)(ss.a,{onClick:t,children:Object(j.jsx)(Ws.a,{})})}),Object(j.jsx)(Us.a,{}),Object(j.jsx)(Gs.a,{children:Object(j.jsx)(s,{})})]})})},yo=a(40),vo=a(920),_o=a(235),wo=a(86),So=a.n(wo),Eo=a(537),Co=a(541),Do=a(551),No=a(544),Io=a(539),Po=a(581),To=a(77),Ao=a.n(To),ko=a(185),Lo=a.n(ko),Ro=a(947);function Bo(){return(Bo=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(X,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fo(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return Bo.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("employees"),a({title:"Employee record being added!",status:"success"})}}).mutate}function Go(){return(Go=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,t.rec_id,n=Object(Ge.a)(t,["id","rec_id"]),e.next=3,fetch(X,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uo(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return Go.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("employees"),a({title:"Employee record being updated!",status:"success"})}}).mutate}function Vo(){return Wo.apply(this,arguments)}function Wo(){return(Wo=Object(P.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("".concat(ce));case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zo(){var e=Object(J.a)(ge.departments,Vo).data;return{departments:void 0===e?[]:e}}function Mo(){return Ho.apply(this,arguments)}function Ho(){return(Ho=Object(P.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("".concat(le));case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yo(){var e=Object(J.a)(ge.designations,Mo).data;return{designations:void 0===e?[]:e}}function Jo(){return Xo.apply(this,arguments)}function Xo(){return(Xo=Object(P.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("".concat(oe));case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qo(){var e=Object(J.a)(ge.currency,Jo).data;return{currency:void 0===e?[]:e}}var Qo=a(24),Ko=a.n(Qo);function $o(){return($o=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("".concat(pe,"?fv=").concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zo(e){var t=Object(n.useState)("all"),a=Object(w.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(""),s=Object(w.a)(c,2),o=s[0],l=s[1],d=Object(n.useCallback)((function(e){return function(e,t){return e.filter((function(e){e.empId.map((function(e){return e})).includes(t)}))}(e,r)}),[r]),u=Object(J.a)([ge.family,{familyId:o}],(function(){return function(e){return $o.apply(this,arguments)}(o)}),{select:"all"!==r?d:void 0}).data;return{family:void 0===u?[]:u,filter:r,setFilter:i,setFamilyId:l}}function el(){return(el=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),e.next=3,fetch(pe,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tl(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return el.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("family"),a({title:"Family record being updated!",status:"success"})}}).mutate}function al(){return(al=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(pe,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nl(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return al.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("family"),a({title:"Family record being added!",status:"success"})}}).mutate}function rl(){return(rl=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(pe,{method:"DELETE",body:JSON.stringify({id:t})});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function il(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return rl.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("family"),a({title:"Family record being deleted!",status:"warning"})}}).mutate}var cl=[{title:"Name",field:"name"},{title:"Relationship",field:"relationship",editComponent:function(e){return Object(j.jsxs)(Do.a,{onChange:function(t){return e.onChange(t.target.value)},style:{width:100},value:e.value,select:!0,children:[Object(j.jsx)(No.a,{value:"Father",children:"Father"}),Object(j.jsx)(No.a,{value:"Mother",children:"Mother"}),Object(j.jsx)(No.a,{value:"Husband",children:"Husband"}),Object(j.jsx)(No.a,{value:"Wife",children:"Wife"}),Object(j.jsx)(No.a,{value:"Daughter",children:"Daughter"}),Object(j.jsx)(No.a,{value:"Son",children:"Son"}),Object(j.jsx)(No.a,{value:"Son-in-law",children:"Son-in-law"}),Object(j.jsx)(No.a,{value:"Daughter-in-law",children:"Daughter-in-law"})]})}},{title:"BIrth Date",field:"birth_date",type:"date",dateSetting:{locale:"en-GB"},editComponent:function(e){return Object(j.jsx)(Do.a,{defaultValue:e.value||null,onChange:function(t){return e.onChange(t.target.value)},type:"date"})}},{title:"Phone",field:"phone"},{title:"Age",field:"age",type:"numeric"}];function sl(){var e=ol(),t=Zo(),a=t.family,r=(t.filter,t.setFilter,t.setFamilyId),i=tl(),c=nl(),s=il(),o=Jc().editEmployeeID;return Object(n.useEffect)((function(){r(o)}),[]),Object(j.jsx)("div",{className:e.root,children:Object(j.jsx)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:cl,data:a,title:"Family",editable:{onRowAdd:function(e){return new Promise((function(t,a){setTimeout((function(){var a;a=e,c(Object(D.a)(Object(D.a)({},a),{},{empid:o})),t()}),1e3)}))},onRowUpdate:function(e,t){return new Promise((function(t,a){setTimeout((function(){!function(e){var t=e.id,a=(e.rec_id,e.tableData,Object(Ge.a)(e,["id","rec_id","tableData"]));i(Object(D.a)({id:t},a))}(e),t()}),1e3)}))},onRowDelete:function(e){return new Promise((function(t,a){setTimeout((function(){!function(e){var t=e.id;s(t)}(e),t()}),1e3)}))}},options:{filtering:!0,headerStyle:{backgroundColor:"orange",color:"primary"},showTitle:!0},components:{Toolbar:function(e){return Object(j.jsx)("div",{children:Object(j.jsx)(Qo.MTableToolbar,Object(D.a)({},e))})}}})})})}var ol=Object(E.a)((function(e){return{root:{padding:0}}}));function ll(){return(ll=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("".concat(je,"?fv=").concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dl(e){var t=Object(n.useState)("all"),a=Object(w.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(""),s=Object(w.a)(c,2),o=s[0],l=s[1],d=Object(n.useCallback)((function(e){return function(e,t){return e.filter((function(e){e.empId.map((function(e){return e})).includes(t)}))}(e,r)}),[r]),u=Object(J.a)([ge.educations,{educationId:o}],(function(){return function(e){return ll.apply(this,arguments)}(o)}),{select:"all"!==r?d:void 0}).data;return{educations:void 0===u?[]:u,filter:r,setFilter:i,setEducationId:l}}function ul(){return(ul=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),e.next=3,fetch(je,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pl(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return ul.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("educations"),a({title:"Education record being updated!",status:"success"})}}).mutate}function jl(){return(jl=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(je,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bl(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return jl.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("educations"),a({title:"Education record being added!",status:"success"})}}).mutate}function hl(){return(hl=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(je,{method:"DELETE",body:JSON.stringify({id:t})});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fl(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return hl.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("educations"),a({title:"Education record being deleted!",status:"warning"})}}).mutate}var Ol=[{title:"Institution",field:"institution"},{title:"Course",field:"course"},{title:"From Date",field:"from_date",type:"date",dateSetting:{locale:"en-GB"},editComponent:function(e){return Object(j.jsx)(Do.a,{defaultValue:e.value||new Date,onChange:function(t){return e.onChange(t.target.value)},type:"date"})}},{title:"To Date",field:"to_date",type:"date",dateSetting:{locale:"en-GB"},editComponent:function(e){return Object(j.jsx)(Do.a,{defaultValue:e.value||new Date,onChange:function(t){return e.onChange(t.target.value)},type:"date"})}},{title:"Archievement",field:"archievement"},{title:"Grade",field:"grade"},{title:"Remark",field:"remark"}];function xl(e){e.educationdata,e.setEducationdata,e.handleDialogClose;var t=ml(),a=dl(),r=a.educations,i=a.setEducationId,c=pl(),s=bl(),o=fl(),l=Jc().editEmployeeID;Object(n.useEffect)((function(){i(l)}),[]);return Object(j.jsx)("div",{className:t.root,children:Object(j.jsx)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:Ol,data:r,title:"Education",editable:{onRowAdd:function(e){return new Promise((function(t,a){setTimeout((function(){var a;a=e,s(Object(D.a)(Object(D.a)({},a),{},{empid:l})),t()}),1e3)}))},onRowUpdate:function(e,t){return new Promise((function(t,a){setTimeout((function(){!function(e){var t=e.id,a=(e.rec_id,e.tableData,Object(Ge.a)(e,["id","rec_id","tableData"]));c(Object(D.a)({id:t},a))}(e),t()}),1e3)}))},onRowDelete:function(e){return new Promise((function(t,a){setTimeout((function(){!function(e){var t=e.id;o(t)}(e),t()}),1e3)}))}},options:{filtering:!0,headerStyle:{backgroundColor:"orange",color:"#FFF"},showTitle:!0},components:{Toolbar:function(e){return Object(j.jsx)("div",{children:Object(j.jsx)(Qo.MTableToolbar,Object(D.a)({},e))})}}})})})}var ml=Object(E.a)((function(e){return{root:{padding:0}}})),gl=function(e,t){if(t.type===hn)return Object(D.a)(Object(D.a)({},e),{},{payitems_loading:!0});if(t.type===fn)return Object(D.a)(Object(D.a)({},e),{},{payitems_loading:!1,payitems:t.payload});if(t.type===On)return Object(D.a)(Object(D.a)({},e),{},{payitems_loading:!1,payitems_error:!0});if(t.type===xn)return Object(D.a)(Object(D.a)({},e),{},{add_payitem_loading:!0});if(t.type===mn)return Object(D.a)(Object(D.a)({},e),{},{add_payitem_loading:!1,single_payitems:t.payload});if(t.type===gn)return Object(D.a)(Object(D.a)({},e),{},{add_payitems_loading:!1,payitems_error:!0});if(t.type===wn)return Object(D.a)(Object(D.a)({},e),{},{update_payitem_loading:!0});if(t.type===Sn)return Object(D.a)(Object(D.a)({},e),{},{update_payitems_loading:!1,single_payitem:t.payload});if(t.type===En)return Object(D.a)(Object(D.a)({},e),{},{update_payitem_loading:!1,update_payitem_error:!0});if(t.type===yn)return Object(D.a)(Object(D.a)({},e),{},{delete_payitem_loading:!0,delete_payitem_error:!1});if(t.type===vn)return Object(D.a)(Object(D.a)({},e),{},{delete_payitem_loading:!1,delete_payitem_error:!1});if(t.type===_n)return Object(D.a)(Object(D.a)({},e),{},{delete_payitem_loading:!1,delete_payitem_error:!0});if(t.type===ni)return Object(D.a)(Object(D.a)({},e),{},{allowances_loading:!0});if(t.type===ri)return Object(D.a)(Object(D.a)({},e),{},{allowances_loading:!1,allowances:t.payload});if(t.type===ii)return Object(D.a)(Object(D.a)({},e),{},{allowances_loading:!1,allowances_error:!0});if(t.type===pi)return Object(D.a)(Object(D.a)({},e),{},{add_allowance_loading:!0});if(t.type===ji)return Object(D.a)(Object(D.a)({},e),{},{add_allowance_loading:!1,allowances:t.payload});if(t.type===bi)return Object(D.a)(Object(D.a)({},e),{},{allowances_loading:!1,allowances_error:!0});if(t.type===li)return Object(D.a)(Object(D.a)({},e),{},{update_allowance_loading:!0});if(t.type===di)return Object(D.a)(Object(D.a)({},e),{},{allowances_loading:!1,single_allowance:t.payload});if(t.type===ui)return Object(D.a)(Object(D.a)({},e),{},{update_allowance_loading:!1,update_allowance_error:!0});if(t.type===ci)return Object(D.a)(Object(D.a)({},e),{},{delete_allowance_loading:!0,delete_allowance_error:!1});if(t.type===si)return Object(D.a)(Object(D.a)({},e),{},{delete_allowance_loading:!1,delete_allowance_error:!1});if(t.type===oi)return Object(D.a)(Object(D.a)({},e),{},{delete_allowance_loading:!1,delete_allowance_error:!0});if(t.type===hi)return Object(D.a)(Object(D.a)({},e),{},{deductions_loading:!0});if(t.type===fi)return Object(D.a)(Object(D.a)({},e),{},{deductions_loading:!1,deductions:t.payload});if(t.type===Oi)return Object(D.a)(Object(D.a)({},e),{},{deductions_loading:!1,deductions_error:!0});if(t.type===wi)return Object(D.a)(Object(D.a)({},e),{},{add_deduction_loading:!0});if(t.type===Si)return Object(D.a)(Object(D.a)({},e),{},{add_deduction_loading:!1,deductions:t.payload});if(t.type===Ei)return Object(D.a)(Object(D.a)({},e),{},{deductions_loading:!1,deductions_error:!0});if(t.type===yi)return Object(D.a)(Object(D.a)({},e),{},{update_deduction_loading:!0});if(t.type===vi)return Object(D.a)(Object(D.a)({},e),{},{deductions_loading:!1,single_deduction:t.payload});if(t.type===_i)return Object(D.a)(Object(D.a)({},e),{},{update_deduction_loading:!1,update_deduction_error:!0});if(t.type===xi)return Object(D.a)(Object(D.a)({},e),{},{delete_deduction_loading:!0,delete_deduction_error:!1});if(t.type===mi)return Object(D.a)(Object(D.a)({},e),{},{delete_deduction_loading:!1,delete_deduction_error:!1});if(t.type===gi)return Object(D.a)(Object(D.a)({},e),{},{delete_deduction_loading:!1,delete_deduction_error:!0});if(t.type===Ci)return Object(D.a)(Object(D.a)({},e),{},{departments_loading:!0});if(t.type===Di)return Object(D.a)(Object(D.a)({},e),{},{departments_loading:!1,departments:t.payload});if(t.type===Ni)return Object(D.a)(Object(D.a)({},e),{},{departments_loading:!1,departments_error:!0});if(t.type===Ri)return Object(D.a)(Object(D.a)({},e),{},{add_department_loading:!0});if(t.type===Bi)return Object(D.a)(Object(D.a)({},e),{},{add_department_loading:!1,departments:t.payload});if(t.type===Fi)return Object(D.a)(Object(D.a)({},e),{},{departments_loading:!1,departments_error:!0});if(t.type===Ai)return Object(D.a)(Object(D.a)({},e),{},{update_deduction_loading:!0});if(t.type===ki)return Object(D.a)(Object(D.a)({},e),{},{departments_loading:!1,single_department:t.payload});if(t.type===Li)return Object(D.a)(Object(D.a)({},e),{},{update_department_loading:!1,update_department_error:!0});if(t.type===Ii)return Object(D.a)(Object(D.a)({},e),{},{delete_department_loading:!0,delete_department_error:!1});if(t.type===Pi)return Object(D.a)(Object(D.a)({},e),{},{delete_department_loading:!1,delete_department_error:!1});if(t.type===Ti)return Object(D.a)(Object(D.a)({},e),{},{delete_department_loading:!1,delete_department_error:!0});if(t.type===Gi)return Object(D.a)(Object(D.a)({},e),{},{designations_loading:!0});if(t.type===Ui)return Object(D.a)(Object(D.a)({},e),{},{designations_loading:!1,designations:t.payload});if(t.type===Vi)return Object(D.a)(Object(D.a)({},e),{},{designations_loading:!1,designations_error:!0});if(t.type===Xi)return Object(D.a)(Object(D.a)({},e),{},{add_designation_loading:!0});if(t.type===qi)return Object(D.a)(Object(D.a)({},e),{},{add_designation_loading:!1,designations:t.payload});if(t.type===Qi)return Object(D.a)(Object(D.a)({},e),{},{designations_loading:!1,designations_error:!0});if(t.type===Hi)return Object(D.a)(Object(D.a)({},e),{},{update_designation_loading:!0});if(t.type===Yi)return Object(D.a)(Object(D.a)({},e),{},{designations_loading:!1,single_designation:t.payload});if(t.type===Ji)return Object(D.a)(Object(D.a)({},e),{},{update_designation_loading:!1,update_designation_error:!0});if(t.type===Wi)return Object(D.a)(Object(D.a)({},e),{},{delete_designation_loading:!0,delete_designation_error:!1});if(t.type===zi)return Object(D.a)(Object(D.a)({},e),{},{delete_designation_loading:!1,delete_designation_error:!1});if(t.type===Mi)return Object(D.a)(Object(D.a)({},e),{},{delete_designation_loading:!1,delete_designation_error:!0});if(t.type===Ki)return Object(D.a)(Object(D.a)({},e),{},{family_loading:!0});if(t.type===$i)return Object(D.a)(Object(D.a)({},e),{},{family_loading:!1,family:t.payload});if(t.type===Zi)return Object(D.a)(Object(D.a)({},e),{},{family_loading:!1,family_error:!0});try{if(t.type===lc)return Object(D.a)(Object(D.a)({},e),{},{singlebatch_family_loading:!0});if(t.type===dc)return Object(D.a)(Object(D.a)({},e),{},{singlebatch_family_loading:!1,singlebatchfamily:t.payload});if(t.type===uc)return Object(D.a)(Object(D.a)({},e),{},{singlebatch_family_loading:!1,singlebatch_family_error:!0})}catch(a){console.log(a)}if(t.type===cc)return Object(D.a)(Object(D.a)({},e),{},{add_family_loading:!0});if(t.type===sc)return Object(D.a)(Object(D.a)({},e),{},{add_family_loading:!1,family:t.payload});if(t.type===oc)return Object(D.a)(Object(D.a)({},e),{},{family_loading:!1,family_error:!0});if(t.type===nc)return Object(D.a)(Object(D.a)({},e),{},{update_family_loading:!0});if(t.type===rc)return Object(D.a)(Object(D.a)({},e),{},{update_family_loading:!1,single_family:t.payload});if(t.type===ic)return Object(D.a)(Object(D.a)({},e),{},{update_family_loading:!1,update_family_error:!0});if(t.type===ec)return Object(D.a)(Object(D.a)({},e),{},{delete_family_loading:!0,delete_family_error:!1});if(t.type===tc)return Object(D.a)(Object(D.a)({},e),{},{delete_family_loading:!1,delete_family_error:!1});if(t.type===ac)return Object(D.a)(Object(D.a)({},e),{},{delete_family_loading:!1,delete_family_error:!0});if(t.type===pc)return Object(D.a)(Object(D.a)({},e),{},{education_loading:!0});if(t.type===jc)return Object(D.a)(Object(D.a)({},e),{},{education_loading:!1,education:t.payload});if(t.type===bc)return Object(D.a)(Object(D.a)({},e),{},{education_loading:!1,education_error:!0});if(t.type===wc)return Object(D.a)(Object(D.a)({},e),{},{singlebatch_education_loading:!0});if(t.type===Sc)return Object(D.a)(Object(D.a)({},e),{},{singlebatch_education_loading:!1,singlebatcheducation:t.payload});if(t.type===Ec)return Object(D.a)(Object(D.a)({},e),{},{singlebatch_education_loading:!1,singlebatch_education_error:!0});if(t.type===yc)return Object(D.a)(Object(D.a)({},e),{},{add_education_loading:!0});if(t.type===vc)return Object(D.a)(Object(D.a)({},e),{},{add_education_loading:!1,family:t.payload});if(t.type===_c)return Object(D.a)(Object(D.a)({},e),{},{education_loading:!1,education_error:!0});if(t.type===xc)return Object(D.a)(Object(D.a)({},e),{},{update_education_loading:!0});if(t.type===mc)return Object(D.a)(Object(D.a)({},e),{},{update_education_loading:!1,single_education:t.payload});if(t.type===gc)return Object(D.a)(Object(D.a)({},e),{},{update_education_loading:!1,update_education_error:!0});if(t.type===hc)return Object(D.a)(Object(D.a)({},e),{},{delete_education_loading:!0,delete_education_error:!1});if(t.type===fc)return Object(D.a)(Object(D.a)({},e),{},{delete_education_loading:!1,delete_education_error:!1});if(t.type===Oc)return Object(D.a)(Object(D.a)({},e),{},{delete_education_loading:!1,delete_education_error:!0});if(t.type===Cc)return Object(D.a)(Object(D.a)({},e),{},{experience_loading:!0});if(t.type===Dc)return Object(D.a)(Object(D.a)({},e),{},{experience_loading:!1,experience:t.payload});if(t.type===Nc)return Object(D.a)(Object(D.a)({},e),{},{experience_loading:!1,experience_error:!0});if(t.type===Gc)return Object(D.a)(Object(D.a)({},e),{},{singlebatch_experience_loading:!0});if(t.type===Uc)return Object(D.a)(Object(D.a)({},e),{},{singlebatch_experience_loading:!1,singlebatchexperience:t.payload});if(t.type===Vc)return Object(D.a)(Object(D.a)({},e),{},{singlebatch_experience_loading:!1,singlebatch_experience_error:!0});if(t.type===Rc)return Object(D.a)(Object(D.a)({},e),{},{add_experience_loading:!0});if(t.type===Bc)return Object(D.a)(Object(D.a)({},e),{},{add_experience_loading:!1,family:t.payload});if(t.type===Fc)return Object(D.a)(Object(D.a)({},e),{},{experience_loading:!1,experience_error:!0});if(t.type===Ac)return Object(D.a)(Object(D.a)({},e),{},{update_experience_loading:!0});if(t.type===kc)return Object(D.a)(Object(D.a)({},e),{},{update_experience_loading:!1,single_experience:t.payload});if(t.type===Lc)return Object(D.a)(Object(D.a)({},e),{},{update_experience_loading:!1,update_experience_error:!0});if(t.type===Ic)return Object(D.a)(Object(D.a)({},e),{},{delete_experience_loading:!0,delete_experience_error:!1});if(t.type===Pc)return Object(D.a)(Object(D.a)({},e),{},{delete_experience_loading:!1,delete_experience_error:!1});if(t.type===Tc)return Object(D.a)(Object(D.a)({},e),{},{delete_experience_loading:!1,delete_experience_error:!0});if(t.type===Wc)return{deductions:[],allowances:[],departments:[],designatons:[],family:[],singlebatchfamily:{},single_family:{},education:[],singlebatcheducation:{},experience:[],singlebatchexperience:{}};throw new Error('No Matching "'.concat(t.type,'" - action type'))},yl={payitems:[],payitems_loading:!1,payitems_error:!1,allowances:[],allowances_loading:!1,allowances_error:!1,deductions:[],deductions_loading:!1,deductions_error:!1,departments:[],departments_loading:!1,departments_error:!1,designatons:[],designations_loading:!1,designations_error:!1,family:[],family_loading:!1,family_error:!1,singlebatch_family_loading:!1,singlebatch_family_error:!1,singlebatchfamily:{},single_family:{},education:[],education_loading:!1,education_error:!1,singlebatch_education_loading:!1,singlebatch_education_error:!1,singlebatcheducation:{},experience:[],experience_loading:!1,experience_error:!1,singlebatch_experience_loading:!1,singlebatch_experience_error:!1,singlebatchexperience:{}},vl=r.a.createContext(),_l=function(e){var t=e.children,a=Object(n.useReducer)(gl,yl),r=Object(w.a)(a,2),i=r[0],c=r[1],s=function(){var e=Object(P.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:hn}),e.prev=1,e.next=4,fetch(ae);case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,c({type:fn,payload:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c({type:On});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.id,t.name,c({type:xn}),e.prev=2,e.next=5,fetch(ae,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 5:c({type:mn}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:gn});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),c({type:wn}),e.prev=2,e.next=5,fetch(ae,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 5:c({type:Sn}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:En});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:yn}),e.prev=1,e.next=4,fetch(ae,{method:"DELETE",body:JSON.stringify({id:t})});case 4:c({type:vn}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c({type:_n});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(P.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:ni}),e.prev=1,e.next=4,fetch(re);case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,c({type:ri,payload:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c({type:ii});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.id,t.name,c({type:pi}),e.prev=2,e.next=5,fetch(re,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 5:c({type:ji}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:bi});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),c({type:li}),e.prev=2,e.next=5,fetch(re,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 5:c({type:di}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:ui});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:ci}),e.prev=1,e.next=4,fetch(re,{method:"DELETE",body:JSON.stringify({id:t})});case 4:c({type:si}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c({type:oi});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(P.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:hi}),e.prev=1,e.next=4,fetch(ie);case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,c({type:fi,payload:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c({type:Oi});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.id,t.name,c({type:wi}),e.prev=2,e.next=5,fetch(ie,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 5:c({type:Si}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:Ei});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),c({type:yi}),e.prev=2,e.next=5,fetch(ie,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 5:c({type:vi}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:_i});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:xi}),e.prev=1,e.next=4,fetch(ie,{method:"DELETE",body:JSON.stringify({id:t})});case 4:c({type:mi}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c({type:gi});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(P.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Ci}),e.prev=1,e.next=4,fetch(ce);case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,c({type:Di,payload:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c({type:Ni});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.id,t.name,c({type:Ri}),e.prev=2,e.next=5,fetch(ce,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 5:c({type:Bi}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:Fi});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),c({type:Ai}),e.prev=2,e.next=5,fetch(ce,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 5:c({type:ki}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:Li});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Ii}),e.prev=1,e.next=4,fetch(ce,{method:"DELETE",body:JSON.stringify({id:t})});case 4:c({type:Pi}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c({type:Ti});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(P.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Gi}),e.prev=1,e.next=4,fetch(le);case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,c({type:Ui,payload:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c({type:Vi});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.id,t.name,c({type:Xi}),e.prev=2,e.next=5,fetch(le,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 5:c({type:qi}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:Qi});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),c({type:Hi}),e.prev=2,e.next=5,fetch(le,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 5:c({type:Yi}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:Ji});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Wi}),e.prev=1,e.next=4,fetch(le,{method:"DELETE",body:JSON.stringify({id:t})});case 4:c({type:zi}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c({type:Mi});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(P.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Ki}),e.prev=1,e.next=4,fetch(pe);case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,c({type:$i,payload:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c({type:Zi});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:lc}),e.prev=1,e.next=4,fetch("".concat(pe,"?fv=").concat(t));case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,c({type:dc,payload:n}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c({type:uc});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.id,t.name,c({type:cc}),e.prev=2,e.next=5,fetch(pe,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 5:c({type:sc}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:oc});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),c({type:nc}),e.prev=2,e.next=5,fetch(pe,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 5:c({type:rc}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:ic});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:ec}),e.prev=1,e.next=4,fetch(pe,{method:"DELETE",body:JSON.stringify({id:t})});case 4:c({type:tc}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c({type:ac});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(P.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:pc}),e.prev=1,e.next=4,fetch(je);case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,c({type:jc,payload:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c({type:bc});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:wc}),e.prev=1,e.next=4,fetch("".concat(je,"?fv=").concat(t));case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,c({type:Sc,payload:n}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c({type:Ec});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.id,t.name,c({type:yc}),e.prev=2,e.next=5,fetch(je,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 5:c({type:vc}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:_c});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),c({type:xc}),e.prev=2,e.next=5,fetch(je,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 5:c({type:mc}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:gc});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:hc}),e.prev=1,e.next=4,fetch(je,{method:"DELETE",body:JSON.stringify({id:t})});case 4:c({type:fc}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c({type:Oc});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(P.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Cc}),e.prev=1,e.next=4,fetch(je);case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,c({type:Dc,payload:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c({type:Nc});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Gc}),e.prev=1,e.next=4,fetch("".concat(be,"?fv=").concat(t));case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,c({type:Uc,payload:n}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c({type:Vc});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.id,t.name,c({type:Rc}),e.prev=2,e.next=5,fetch(be,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 5:c({type:Bc}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:Fc});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),c({type:Ac}),e.prev=2,e.next=5,fetch(be,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 5:c({type:kc}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:Lc});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Ic}),e.prev=1,e.next=4,fetch(be,{method:"DELETE",body:JSON.stringify({id:t})});case 4:c({type:Pc}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c({type:Tc});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(vl.Provider,{value:Object(D.a)(Object(D.a)({},i),{},{loadPayitems:s,addPayitem:o,deletePayitem:d,updatePayitem:l,loadAllowances:u,addAllowance:p,deleteAllowance:h,updateAllowance:b,loadDeductions:f,addDeduction:O,deleteDeduction:m,updateDeduction:x,loadDepartments:g,addDepartment:y,deleteDepartment:_,updateDepartment:v,loadDesignations:S,addDesignation:E,deleteDesignation:N,updateDesignation:C,loadFamily:T,loadSingleBatchFamily:A,addFamily:k,deleteFamily:R,updateFamily:L,loadEducation:B,loadSingleBatchEducation:F,addEducation:G,deleteEducation:V,updateEducation:U,loadExperience:W,loadSingleBatchExperience:z,addExperience:M,deleteExperience:Y,updateExperience:H,resetTables:function(){c({type:Wc})}}),children:t})},wl=function(){return Object(n.useContext)(vl)};function Sl(){return(Sl=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("".concat(be,"?fv=").concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function El(e){var t=Object(n.useState)("all"),a=Object(w.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(""),s=Object(w.a)(c,2),o=s[0],l=s[1],d=Object(n.useCallback)((function(e){return function(e,t){return e.filter((function(e){e.empId.map((function(e){return e})).includes(t)}))}(e,r)}),[r]),u=Object(J.a)([ge.experiences,{experienceId:o}],(function(){return function(e){return Sl.apply(this,arguments)}(o)}),{select:"all"!==r?d:void 0}).data;return{experiences:void 0===u?[]:u,filter:r,setFilter:i,setExperienceId:l}}function Cl(){return(Cl=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),e.next=3,fetch(be,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dl(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return Cl.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("experiences"),a({title:"Experience record being updated!",status:"success"})}}).mutate}function Nl(){return(Nl=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(be,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Il(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return Nl.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("experiences"),a({title:"Experience record being added!",status:"success"})}}).mutate}function Pl(){return(Pl=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(be,{method:"DELETE",body:JSON.stringify({id:t})});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tl(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return Pl.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("experiences"),a({title:"Experience record being deleted!",status:"warning"})}}).mutate}var Al=[{title:"Company",field:"company"},{title:"Location",field:"location"},{title:"Position",field:"position"},{title:"From Date",field:"from_date",type:"date",editComponent:function(e){return Object(j.jsx)(Do.a,{defaultValue:e.value||new Date,onChange:function(t){return e.onChange(t.target.value)},type:"date"})}},{title:"To Date",field:"to_date",type:"date",editComponent:function(e){return Object(j.jsx)(Do.a,{defaultValue:e.value||new Date,onChange:function(t){return e.onChange(t.target.value)},type:"date"})}},{title:"Remark",field:"remark"}];function kl(e){e.experiencedata,e.setExperiencedata,e.handleDialogClose;var t=Ll(),a=El(),r=a.experiences,i=a.setExperienceId,c=Dl(),s=Il(),o=Tl(),l=Jc().editEmployeeID;Object(n.useEffect)((function(){i(l)}),[]);return Object(j.jsx)("div",{className:t.root,children:Object(j.jsx)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:Al,data:r,title:"Experience",editable:{onRowAdd:function(e){return new Promise((function(t,a){setTimeout((function(){var a;a=e,s(Object(D.a)(Object(D.a)({},a),{},{empid:l})),t()}),1e3)}))},onRowUpdate:function(e,t){return new Promise((function(t,a){setTimeout((function(){!function(e){var t=e.id,a=(e.rec_id,e.tableData,Object(Ge.a)(e,["id","rec_id","tableData"]));c(Object(D.a)({id:t},a))}(e),t()}),1e3)}))},onRowDelete:function(e){return new Promise((function(t,a){setTimeout((function(){!function(e){var t=e.id;o(t)}(e),t()}),1e3)}))}},options:{filtering:!0,headerStyle:{backgroundColor:"orange",color:"primary"},showTitle:!0},components:{Toolbar:function(e){return Object(j.jsx)("div",{children:Object(j.jsx)(Qo.MTableToolbar,Object(D.a)({},e))})}}})})})}var Ll=Object(E.a)((function(e){return{root:{padding:0}}})),Rl=function(e,t){if(t.type===Oa)return Object(D.a)(Object(D.a)({},e),{},{editTrainingID:t.payload});if(t.type===xa)return Object(D.a)(Object(D.a)({},e),{},{isTrainingEditing:!0});if(t.type===ma)return Object(D.a)(Object(D.a)({},e),{},{isTrainingEditing:!1});if(t.type===ga)return Object(D.a)(Object(D.a)({},e),{},{single_training:{}});if(t.type===Zt)return Object(D.a)(Object(D.a)({},e),{},{trainings_loading:!0});if(t.type===ea)return Object(D.a)(Object(D.a)({},e),{},{trainings_loading:!1,trainings:t.payload});if(t.type===ta)return Object(D.a)(Object(D.a)({},e),{},{trainings_loading:!1,trainings_error:!0});if(t.type===ba)return Object(D.a)(Object(D.a)({},e),{},{add_training_loading:!0});if(t.type===ha)return Object(D.a)(Object(D.a)({},e),{},{add_trainings_loading:!1,trainings:t.payload});if(t.type===fa)return Object(D.a)(Object(D.a)({},e),{},{trainings_loading:!1,add_training_error:!0});if(t.type===ua)return Object(D.a)(Object(D.a)({},e),{},{update_training_loading:!0});if(t.type===pa)return Object(D.a)(Object(D.a)({},e),{},{trainings_loading:!1,single_training:t.payload});if(t.type===ja)return Object(D.a)(Object(D.a)({},e),{},{update_training_loading:!1,update_training_error:!0});if(t.type===oa)return Object(D.a)(Object(D.a)({},e),{},{delete_training_loading:!0,delete_training_error:!1});if(t.type===la)return Object(D.a)(Object(D.a)({},e),{},{delete_training_loading:!1,delete_training_error:!1});if(t.type===da)return Object(D.a)(Object(D.a)({},e),{},{delete_training_loading:!1,delete_training_error:!0});if(t.type===aa)return Object(D.a)(Object(D.a)({},e),{},{single_training_loading:!0,single_training_error:!1});if(t.type===na)return Object(D.a)(Object(D.a)({},e),{},{single_training_loading:!1,single_training:t.payload});if(t.type===ra)return Object(D.a)(Object(D.a)({},e),{},{single_training_loading:!1,single_training_error:!0});if(t.type===ia)return Object(D.a)(Object(D.a)({},e),{},{singlebatch_training_loading:!0,singlebatch_training_error:!1});if(t.type===ca)return Object(D.a)(Object(D.a)({},e),{},{singlebatch_training_loading:!1,singlebatch_training:t.payload});if(t.type===sa)return Object(D.a)(Object(D.a)({},e),{},{singlebatch_training_loading:!1,singlebatch_training_error:!0});throw new Error('No Matching "'.concat(t.type,'" - action type'))},Bl={isTrainingEditing:!1,alerttraining:{show:!1,msg:"",type:""},editTrainingID:null,trainings_loading:!1,trainings_error:!1,trainings:[],single_training_loading:!1,single_training_error:!1,single_training:{},singlebatch_training_loading:!1,singlebatch_training_error:!1,singlebatch_training:{},delete_training_loading:!1,delete_training_error:!1,update_training_loading:!1,update_training_error:!1,add_training_loading:!1,add_training_error:!1},Fl=r.a.createContext(),Gl=function(e){var t=e.children,a=Object(n.useReducer)(Rl,Bl),r=Object(w.a)(a,2),i=r[0],c=r[1],s=function(){var e=Object(P.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Zt}),e.prev=1,e.next=4,fetch(he);case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,c({type:ea,payload:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c({type:ta});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{c({type:Oa,payload:t})}catch(a){c(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:aa}),e.prev=1,e.next=4,me.a.get("".concat(he,"?id=").concat(t));case 4:a=e.sent,n=a.data,c({type:na,payload:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),c({type:ra});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:ia}),e.prev=1,e.next=4,fetch("".concat(he,"?fv=").concat(t));case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,c({type:ca,payload:n}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c({type:sa});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.id,t.name,t.from_date,t.to_date,t.reason,t.no_of_days,t.status,c({type:ba}),e.prev=2,e.next=5,fetch(he,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 5:c({type:ha}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:fa});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),c({type:ua}),e.prev=2,e.next=5,fetch(he,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 5:c({type:pa}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:ja});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:oa}),e.prev=1,e.next=4,fetch(he,{method:"DELETE",body:JSON.stringify({id:t})});case 4:c({type:la}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c({type:da});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(Fl.Provider,{value:Object(D.a)(Object(D.a)({},i),{},{loadTrainings:s,addTraining:u,updateTraining:p,deleteTraining:b,getSingleTraining:l,getSingleBatchTraining:d,setEditTrainingID:o,setIsTrainingEditingOn:function(){c({type:xa})},setIsTrainingEditingOff:function(){c({type:ma})},resetSingleTraining:function(){c({type:ga})}}),children:t})},Ul=function(){return Object(n.useContext)(Fl)};function Vl(){return(Vl=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("".concat(he,"?fv=").concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wl(e){var t=Object(n.useState)("all"),a=Object(w.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(""),s=Object(w.a)(c,2),o=s[0],l=s[1],d=Object(n.useCallback)((function(e){return function(e,t){return e.filter((function(e){return e.empid===t})).map((function(e){return Object(D.a)({},e)}))}(e,r)}),[r]),u=Object(J.a)([ge.trainings,{trainingId:o}],(function(){return function(e){return Vl.apply(this,arguments)}(o)}),{select:"all"!==r?d:void 0}).data;return{trainings:void 0===u?[]:u,filter:r,setFilter:i,setTrainingId:l}}function zl(){return Ml.apply(this,arguments)}function Ml(){return(Ml=Object(P.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("".concat(se));case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hl(){var e=Object(J.a)(ge.institutes,zl).data;return{institutes:void 0===e?[]:e}}function Yl(){return(Yl=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),e.next=3,fetch(he,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jl(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return Yl.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("trainings"),a({title:"Training record being updated!",status:"success"})}}).mutate}function Xl(){return(Xl=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(he,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ql(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return Xl.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("trainings"),a({title:"Training record being added!",status:"success"})}}).mutate}function Ql(){return(Ql=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(he,{method:"DELETE",body:JSON.stringify({id:t})});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kl(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return Ql.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("trainings"),a({title:"Training record being deleted!",status:"warning"})}}).mutate}function $l(e){e.trainingdata,e.setTrainingdata,e.handleDialogClose;var t=Zl(),a=Wl(),r=a.trainings,i=(a.filter,a.setFilter,a.setTrainingId),c=Hl().institutes,s=Object(h.d)(_e),o=Object(w.a)(s,2),l=o[0],d=(o[1],Jl()),u=ql(),p=Kl(),b=Jc().editEmployeeID,f=[{title:"Institute",field:"institute",editComponent:function(e){return Object(j.jsxs)(Do.a,{onChange:function(t){return e.onChange(t.target.value)},style:{width:100},value:e.value,select:!0,children:[Object(j.jsx)(No.a,{value:"",children:"None"}),c&&c.map((function(e){return Object(j.jsx)(No.a,{value:e.name,children:e.name})}))]})}},{title:"Course",field:"course"},{title:"From Date",field:"from_date",type:"date",dateSetting:{locale:"en-GB"},editComponent:function(e){return Object(j.jsx)(Do.a,{defaultValue:e.value||new Date,onChange:function(t){return e.onChange(t.target.value)},type:"date"})}},{title:"To Date",field:"to_date",type:"date",dateSetting:{locale:"en-GB"},editComponent:function(e){return Object(j.jsx)(Do.a,{defaultValue:e.value||new Date,onChange:function(t){return e.onChange(t.target.value)},type:"date"})}},{title:"Expiry Date",field:"expiry_date",type:"date",dateSetting:{locale:"en-GB"},editComponent:function(e){return Object(j.jsx)(Do.a,{defaultValue:e.value||new Date,onChange:function(t){return e.onChange(t.target.value)},type:"date"})}}];Object(n.useEffect)((function(){i(b)}),[]);return Object(j.jsx)("div",{className:t.root,children:Object(j.jsx)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:f,data:r,title:"Training",editable:{onRowAdd:function(e){return new Promise((function(t,a){setTimeout((function(){var a;a=e,u(Object(D.a)(Object(D.a)({},a),{},{name:l.loginUser,empid:b})),t()}),1e3)}))},onRowUpdate:function(e,t){return new Promise((function(t,a){setTimeout((function(){!function(e){var t=e.id,a=(e.rec_id,e.tableData,Object(Ge.a)(e,["id","rec_id","tableData"]));d(Object(D.a)({id:t},a))}(e),t()}),1e3)}))},onRowDelete:function(e){return new Promise((function(t,a){setTimeout((function(){!function(e){var t=e.id;p(t)}(e),t()}),1e3)}))}},options:{filtering:!0,headerStyle:{backgroundColor:"orange",color:"primary"},showTitle:!0},components:{Toolbar:function(e){return Object(j.jsx)("div",{children:Object(j.jsx)(Qo.MTableToolbar,Object(D.a)({},e))})}}})})})}var Zl=Object(E.a)((function(e){return{root:{padding:0}}})),ed=Object(E.a)((function(e){return{button:{margin:e.spacing(1)},leftIcon:{marginRight:e.spacing(1)},rightIcon:{marginLeft:e.spacing(1)},iconSmall:{fontSize:20},root:{padding:e.spacing(3,2)},container:{display:"flex",flexDirection:"row",flexWrap:"wrap"},divider:{padding:4},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:350}}})),td=function(){var e=ed(),t=ve(),a=t.employees,r=(t.employeeId,t.setEmployeeId,Fo()),i=Uo(),c=Yo().designations,s=zo().departments,o=Object(n.useState)(""),l=Object(w.a)(o,2),d=l[0],u=l[1],p=Object(n.useState)(0),b=Object(w.a)(p,2),f=b[0],O=b[1],x=Object(n.useState)(!1),m=Object(w.a)(x,2),g=m[0],y=m[1],v=Object(h.d)(we),_=Object(w.a)(v,2),S=(_[0],_[1],Object(M.b)()),E=S.handleSubmit,C=S.control,N=(S.setValue,S.register,Object(h.d)(_e)),I=Object(w.a)(N,2),P=I[0],T=(I[1],Jc()),A=T.isEditing,k=T.editEmployeeID,L=a.filter((function(e){return e.id===k})).map((function(e){return Object(D.a)({},e)}))[0],R=L.name,B=L.ic_no,F=L.gender,G=L.birthdate,U=(L.age,L.email),V=L.nationality,W=L.address,z=L.leave_bal,H=L.leave_entitled,Y=L.basic_salary,J=L.salary_currency,X=L.bank_name,q=L.bank_acno,Q=L.tap_checkbox,K=L.tap_acno,$=L.scp_acno,Z=L.date_of_join,ee=L.date_of_resign,te=L.designation,ae=L.department,ne=L.passportno,re=L.passport_expirydate,ie=L.workpermitno,ce=L.workpermit_expirydate,se=L.siteallows_fee,oe=L.perdiem_fee,le=L.empno,de=L.reporting_to,ue=L.reporting_email,pe=function(e){var t=new Date,a=new Date(e),n=t.getFullYear()-a.getFullYear(),r=t.getMonth()-a.getMonth();return(r<0||0===r&&t.getDate()<a.getDate())&&n--,n};return Object(n.useEffect)((function(){var e=pe(G);O(e),y(Q),u(ue)}),[]),a?Object(j.jsxs)("div",{children:[Object(j.jsx)("form",{onSubmit:E((function(e){A?i(Object(D.a)(Object(D.a)({id:k},e),{},{reporting_email:d})):r(Object(D.a)(Object(D.a)({},e),{},{reporting_email:d}))})),children:Object(j.jsxs)(_o.a,{className:e.root,children:[Object(j.jsx)(vo.a,{container:!0,className:e.root,spacing:15,children:Object(j.jsxs)("div",{children:[Object(j.jsx)(cs.a,{variant:"h5",component:"h3",children:"EMPLOYEE FORM"}),Object(j.jsxs)(Eo.a,{type:"submit",variant:"contained",color:"primary",className:e.button,children:["Submit ",Object(j.jsx)(Co.a,{className:e.rightIcon,children:"send"})]})]})}),Object(j.jsx)(Us.a,{className:e.divider}),Object(j.jsxs)(vo.a,{item:!0,xs:12,children:[Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"name",control:C,defaultValue:R,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Name",id:"standard-name",name:"name",defaultValue:R,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})},rules:{required:"Name required"}}),Object(j.jsx)(M.a,{name:"empno",control:C,defaultValue:le,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Emp No",id:"standard-empno",defaultValue:le,name:"empno",className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"email",control:C,defaultValue:U,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Email",id:"standard-email",name:"email",defaultValue:U,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})},rules:{required:"Email is required"}}),Object(j.jsx)(M.a,{name:"ic_no",control:C,defaultValue:B,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"IC No",id:"standard-icno",defaultValue:B,name:"ic_no",className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"birthdate",control:C,defaultValue:G,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Birth Date",id:"standard-birthdate",name:"birthdate",type:"date",defaultValue:G,className:e.textField,onChange:function(e){n(e.target.value);var t=pe(e.target.value);console.log("emp",G,t),O(t)},error:!!r,helperText:r?r.message:null,InputLabelProps:{shrink:!0}})}}),Object(j.jsx)(M.a,{name:"age",control:C,defaultValue:f,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Age",type:"number",id:"standard-age",name:"empage",value:f,className:e.textField,onChange:function(e){n(parseInt(e.target.value,10))},error:!!r,helperText:r?r.message:null,inputProps:{readOnly:!0}})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"passportno",control:C,defaultValue:ne,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Passport No",id:"standard-passportno",name:"passportno",defaultValue:ne,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})}}),Object(j.jsx)(M.a,{name:"passport_expirydate",control:C,defaultValue:re,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Passport Expiry Date",id:"standard-ppexpiry",name:"passport_expirydate",type:"date",defaultValue:re,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null,InputLabelProps:{shrink:!0}})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"nationality",control:C,defaultValue:V,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Nationality",id:"standard-nationality",name:"nationality",defaultValue:V,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})}}),Object(j.jsx)(M.a,{name:"gender",control:C,defaultValue:F,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsxs)(Do.a,{label:"Gender",id:"standard-gender",name:"gender",defaultValue:F,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null,select:!0,children:[Object(j.jsx)(No.a,{value:"Male",children:"Male"}),Object(j.jsx)(No.a,{value:"Female",children:"Female"})]})}})]}),Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"address",control:C,defaultValue:W,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Address",id:"standard-address",name:"address",defaultValue:W,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})}})})]}),Object(j.jsx)(Us.a,{className:e.divider}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{children:["Admin"!==P.loginLevel&&Object(j.jsx)(M.a,{name:"basic_salary",control:C,defaultValue:Y,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Lo.a,{label:"Basic Salary",variant:"standard",value:Y,currencySymbol:"$",outputFormat:"string",decimalCharacter:".",digitGroupSeparator:",",decimalPlaces:"2",className:e.textField,id:"standard-basicsalary",name:"basic_salary",onChange:function(e){n(parseFloat(Ao()(e.target.value),10))},error:!!r,helperText:r?r.message:null})}}),"Admin"!==P.loginLevel&&Object(j.jsx)(M.a,{name:"salary_currency",control:C,defaultValue:J,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsxs)(Do.a,{label:"Currency",id:"standard-currency",name:"salary_currency",defaultValue:J,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null,select:!0,children:[Object(j.jsx)(No.a,{value:"BND",children:"BND"}),Object(j.jsx)(No.a,{value:"USD",children:"USD"}),Object(j.jsx)(No.a,{value:"MYR",children:"MYR"})]})}})]}),Object(j.jsxs)("div",{children:["Admin"!==P.loginLevel&&Object(j.jsx)(M.a,{name:"siteallows_fee",control:C,defaultValue:se,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Lo.a,{label:"Site Allowances Fee",variant:"standard",value:se,currencySymbol:"$",outputFormat:"number",decimalCharacter:".",digitGroupSeparator:",",decimalPlaces:"2",className:e.textField,id:"standard-siteallowances",name:"siteallows_fee",onChange:function(e){n(parseFloat(Ao()(e.target.value),10))},error:!!r,helperText:r?r.message:null})}}),"Admin"!==P.loginLevel&&Object(j.jsx)(M.a,{name:"perdiem_fee",control:C,defaultValue:oe,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Lo.a,{label:"Per Diem Fee",variant:"standard",value:oe,currencySymbol:"$",outputFormat:"number",decimalCharacter:".",digitGroupSeparator:",",decimalPlaces:"2",className:e.textField,id:"standard-perdiem",name:"perdiem_fee",onChange:function(e){n(parseFloat(Ao()(e.target.value),10))},error:!!r,helperText:r?r.message:null})}})]}),Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"tap_checkbox",control:C,render:function(e){var t=e.field,a=t.onChange;t.value,e.fieldState.error;return Object(j.jsx)(Io.a,{control:Object(j.jsx)(Po.a,{name:"tap_checkbox",defaultValue:Q,checked:g,type:"checkbox",onChange:function(e){console.log("tap",!e.target.checked),a(e.target.checked),y(e.target.checked)}}),label:"TAP/SCP Contribution"})}})}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"tap_acno",control:C,defaultValue:K,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"TAP Ac No",id:"standard-tapno",name:"tap_acno",defaultValue:K,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})}}),Object(j.jsx)(M.a,{name:"scp_acno",control:C,defaultValue:$,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"SCP Ac No",id:"standard-scpno",name:"scp_acno",defaultValue:$,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"bank_name",control:C,defaultValue:X,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Bank Name",id:"standard-bankname",name:"bank_name",defaultValue:X,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})}}),Object(j.jsx)(M.a,{name:"bank_acno",control:C,defaultValue:q,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Bank Ac No",id:"standard-backacno",name:"bank_acno",defaultValue:q,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"workpermitno",control:C,defaultValue:ie,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Work Permit No",id:"standard-workpermitno",name:"workpermitno",defaultValue:ie,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})}}),Object(j.jsx)(M.a,{name:"workpermit_expirydate",control:C,defaultValue:ce,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Work Permit Expiry Date",id:"standard-workpermitexpiry",name:"workpermit_expirydate",type:"date",defaultValue:ce,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null,InputLabelProps:{shrink:!0}})}})]}),Object(j.jsx)(Us.a,{className:e.divider}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"date_of_join",control:C,defaultValue:Z,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Joining Date",id:"standard-joiningdate",name:"date_of_join",type:"date",defaultValue:Z,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null,InputLabelProps:{shrink:!0}})}}),Object(j.jsx)(M.a,{name:"date_of_resign",control:C,defaultValue:ee,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Resign Date",id:"standard-resindate",name:"date_of_resign",type:"date",defaultValue:ee,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null,InputLabelProps:{shrink:!0}})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"leave_entitled",control:C,defaultValue:H,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Annual Leaves Entitled",id:"standard-annualleave",name:"leave_entitled",type:"numeric",defaultValue:H,className:e.textField,onChange:function(e){return n(parseFloat(e.target.value,10))},error:!!r,helperText:r?r.message:null,InputLabelProps:{shrink:!0}})}}),Object(j.jsx)(M.a,{name:"leave_bal",control:C,defaultValue:z,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Leaves Balance",id:"standard-leavebal",name:"leave_bal",type:"numeric",defaultValue:z,className:e.textField,onChange:function(e){return n(parseFloat(e.target.value,10))},error:!!r,helperText:r?r.message:null,InputLabelProps:{shrink:!0}})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"designation",control:C,defaultValue:te,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsxs)(Do.a,{label:"Designation",id:"standard-designation",name:"designation",defaultValue:te,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null,select:!0,children:[Object(j.jsx)(No.a,{value:"",children:"None"}),c&&c.map((function(e){return Object(j.jsx)(No.a,{value:e.name,children:e.name},e.id)}))]})}}),Object(j.jsx)(M.a,{name:"department",control:C,defaultValue:ae,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsxs)(Do.a,{label:"Department",id:"standard-department",name:"department",defaultValue:ae,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null,select:!0,children:[Object(j.jsx)(No.a,{value:"",children:"None"}),s&&s.map((function(e){return Object(j.jsx)(No.a,{value:e.name,children:e.name},e.id)}))]})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"reporting_to",control:C,defaultValue:de,render:function(t){var n=t.field,r=n.onChange,i=(n.value,t.fieldState.error);return Object(j.jsxs)(Do.a,{label:"Reporting To",id:"standard-reportingto",name:"reporting_to",defaultValue:de,className:e.textField,onChange:function(e){r(e.target.value),function(e){var t=a.filter((function(t){return t.name===e})).map((function(e){return Object(D.a)({},e)}));u(t[0].email)}(e.target.value)},error:!!i,helperText:i?i.message:null,select:!0,children:[Object(j.jsx)(No.a,{value:"",children:"None"}),a&&a.map((function(e){return Object(j.jsx)(No.a,{value:e.name,children:e.name},e.id)}))]})}}),Object(j.jsx)(M.a,{name:"reporting_email",control:C,defaultValue:d,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Reporting Email",id:"standard-reportingemail",name:"reporting_email",value:d,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null,InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}})]}),Object(j.jsx)(Us.a,{className:e.divider})]})]}),Object(j.jsx)(Us.a,{})]})}),Object(j.jsxs)("div",{children:[Object(j.jsx)(vo.a,{xs:12,children:Object(j.jsx)(sl,{})}),Object(j.jsx)(vo.a,{xs:12,children:Object(j.jsx)(xl,{})}),Object(j.jsx)(vo.a,{xs:12,children:Object(j.jsx)(kl,{})}),Object(j.jsx)(vo.a,{xs:12,children:Object(j.jsx)($l,{})})]})]}):Object(j.jsx)("h2",{children:"Loading ..."})},ad={name:"",gender:"",ic_no:"",email:"",age:0,birthdate:null,address:"",nationality:"",basic_salary:0,salary_currency:"BND",bank_name:"",bank_acno:"",tap_checkbox:!0,tap_acno:"",scp_acno:"",date_of_join:null,date_of_resign:null,leave_bal:0,leave_entitled:0,designation:"",department:"",passportno:"",passport_expirydate:null,workpermitno:"",workpermit_expirydate:null,siteallows_fee:0,perdiem_fee:0,role:1,password:"abc123*",empno:"",reporting_to:"",reporting_email:""},nd=Object(E.a)((function(e){return{button:{margin:e.spacing(1)},leftIcon:{marginRight:e.spacing(1)},rightIcon:{marginLeft:e.spacing(1)},iconSmall:{fontSize:20},root:{padding:e.spacing(3,2)},container:{display:"flex",flexDirection:"row",flexWrap:"wrap"},divider:{padding:4},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:350}}})),rd=function(){var e=nd(),t=Jc(),a=t.isEditing,r=t.single_employee,i=(t.updateEmployee,t.editEmployeeID),c=t.single_employee_loading,s=r||ad,o=s.name,l=s.ic_no,d=s.gender,u=(s.age,s.birthdate),p=s.email,b=s.address,f=s.nationality,O=s.basic_salary,x=s.salary_currency,m=s.bank_name,g=s.bank_acno,y=s.tap_checkbox,v=s.tap_acno,_=s.scp_acno,S=s.leave_bal,E=s.leave_entitled,C=(s.password,s.date_of_join),N=s.date_of_resign,I=s.designation,P=s.department,T=s.passportno,A=s.passport_expirydate,k=s.workpermitno,L=s.workpermit_expirydate,R=s.siteallows_fee,B=s.perdiem_fee,F=s.reporting_to,G=(s.reporting_email,Fo()),U=Uo(),V=ve().employees,W=Yo().designations,z=zo().departments,H=Object(n.useState)(0),Y=Object(w.a)(H,2),J=Y[0],X=Y[1],q=Object(n.useState)(""),Q=Object(w.a)(q,2),K=Q[0],$=Q[1],Z=Object(n.useState)(!1),ee=Object(w.a)(Z,2),te=(ee[0],ee[1],Object(M.b)()),ae=te.handleSubmit,ne=te.control,re=Object(h.d)(_e),ie=Object(w.a)(re,2),ce=ie[0];ie[1];console.log("emplevel",ce);return c?Object(j.jsx)("div",{children:"Loading..."}):Object(j.jsx)("div",{children:Object(j.jsx)("form",{onSubmit:ae((function(e){if(a)U(Object(D.a)({id:i},e));else{G(Object(D.a)({password:"abc123*",role:1},e));try{qc.auth().createUserWithEmailAndPassword(p,"abc123*")}catch(t){console.log(t)}}})),children:Object(j.jsxs)(_o.a,{className:e.root,children:[Object(j.jsx)(vo.a,{container:!0,className:e.root,spacing:15,children:Object(j.jsxs)("div",{children:[Object(j.jsx)(cs.a,{variant:"h5",component:"h3",children:"EMPLOYEE FORM"}),Object(j.jsxs)(Eo.a,{type:"submit",variant:"contained",color:"primary",className:e.button,children:["Submit ",Object(j.jsx)(Co.a,{className:e.rightIcon,children:"send"})]})]})}),Object(j.jsx)(Us.a,{className:e.divider}),Object(j.jsxs)(vo.a,{item:!0,xs:12,children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"name",control:ne,defaultValue:o,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Name",id:"margin-normal",name:"name",defaultValue:o,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})},rules:{required:"Name required"}})}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"email",control:ne,defaultValue:p,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Email",id:"margin-normal",name:"email",defaultValue:p,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})},rules:{required:"Email is required"}}),Object(j.jsx)(M.a,{name:"ic_no",control:ne,defaultValue:l,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"IC No",id:"margin-normal",name:"ic_no",defaultValue:l,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"birthdate",control:ne,defaultValue:u,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Birth Date",id:"margin-birthdate",name:"birthdate",type:"date",defaultValue:u,className:e.textField,onChange:function(e){n(parseInt(e.target.value,10));var t=function(e){var t=new Date,a=new Date(e),n=t.getFullYear()-a.getFullYear(),r=t.getMonth()-a.getMonth();return(r<0||0===r&&t.getDate()<a.getDate())&&n--,n}(e.target.value);console.log("emp",u,t),X(t)},error:!!r,helperText:r?r.message:null,InputLabelProps:{shrink:!0}})}}),Object(j.jsx)(M.a,{name:"age",control:ne,defaultValue:J,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Age",type:"number",id:"standard-number-age",name:"empage",value:J,className:e.textField,onChange:function(e){n(parseInt(e.target.value,10))},error:!!r,helperText:r?r.message:null})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"passportno",control:ne,defaultValue:T,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Passport No",id:"margin-normal",name:"passportno",defaultValue:T,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})}}),Object(j.jsx)(M.a,{name:"passport_expirydate",control:ne,defaultValue:A,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Passport Expiry Date",id:"margin-normal",name:"passport_expirydate",type:"date",defaultValue:A,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null,InputLabelProps:{shrink:!0}})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"nationality",control:ne,defaultValue:f,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Nationality",id:"standard-nationality",name:"nationality",defaultValue:f,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})}}),Object(j.jsx)(M.a,{name:"gender",control:ne,defaultValue:d,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsxs)(Do.a,{label:"Gender",id:"margin-normal",name:"gender",defaultValue:d,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null,select:!0,children:[Object(j.jsx)(No.a,{value:"Male",children:"Male"}),Object(j.jsx)(No.a,{value:"Female",children:"Female"})]})}})]}),Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"address",control:ne,defaultValue:b,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Address",id:"standard-address",name:"address",defaultValue:b,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})}})})]}),Object(j.jsx)(Us.a,{className:e.divider}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{children:["Admin"!==ce.loginLevel&&Object(j.jsx)(M.a,{name:"basic_salary",control:ne,defaultValue:O,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Basic Salary",type:"number",id:"standard-number",name:"basic_pay",defaultValue:O,className:e.textField,onChange:function(e){n(parseInt(e.target.value,10))},error:!!r,helperText:r?r.message:null})}}),"Admin"!==ce.loginLevel&&Object(j.jsx)(M.a,{name:"salary_currency",control:ne,defaultValue:x,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsxs)(Do.a,{label:"Currency",id:"standard-currency",name:"salary_currency",defaultValue:x,className:e.textField,onChange:function(e){n(parseInt(e.target.value,10))},error:!!r,helperText:r?r.message:null,select:!0,children:[Object(j.jsx)(No.a,{value:"BND",children:"BND"}),Object(j.jsx)(No.a,{value:"USD",children:"USD"}),Object(j.jsx)(No.a,{value:"MYR",children:"MYR"})]})}})]}),Object(j.jsxs)("div",{children:["Admin"!==ce.loginLevel&&Object(j.jsx)(M.a,{name:"siteallows_fee",control:ne,defaultValue:R,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Site Allowances Fee",type:"number",id:"standard-number",name:"siteallows_fee",defaultValue:R,className:e.textField,onChange:function(e){n(parseInt(e.target.value,10))},error:!!r,helperText:r?r.message:null})}}),"Admin"!==ce.loginLevel&&Object(j.jsx)(M.a,{name:"perdiem_fee",control:ne,defaultValue:B,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Per Diem Fee",type:"number",id:"standard-number",name:"perdiem_fee",defaultValue:B,className:e.textField,onChange:function(e){n(parseInt(e.target.value,10))},error:!!r,helperText:r?r.message:null})}})]}),Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"tap_checkbox",control:ne,defaultValue:y,render:function(e){var t=e.field,a=t.onChange;t.value,e.fieldState.error;return Object(j.jsx)(Io.a,{control:Object(j.jsx)(Po.a,{checked:y,onChange:a,name:"tap_checkbox"}),label:"TAP/SCP Contribution"})}})}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"tap_acno",control:ne,defaultValue:v,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"TAP Ac No",id:"margin-normal",name:"tap_acno",defaultValue:v,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})}}),Object(j.jsx)(M.a,{name:"scp_acno",control:ne,defaultValue:_,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"SCP Ac No",id:"margin-normal",name:"scp_acno",defaultValue:_,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"bank_name",control:ne,defaultValue:m,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Bank Name",id:"margin-normal",name:"bank_name",defaultValue:m,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})}}),Object(j.jsx)(M.a,{name:"bank_acno",control:ne,defaultValue:g,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Bank Ac No",id:"margin-normal",name:"bank_acno",defaultValue:g,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"workpermitno",control:ne,defaultValue:k,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Work Permit No",id:"margin-normal",name:"workpermitno",defaultValue:k,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})}}),Object(j.jsx)(M.a,{name:"workpermit_expirydate",control:ne,defaultValue:L,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Work Permit Expiry Date",id:"margin-normal",name:"workpermit_expirydate",type:"date",defaultValue:L,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null,InputLabelProps:{shrink:!0}})}})]}),Object(j.jsx)(Us.a,{className:e.divider}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"date_of_join",control:ne,defaultValue:C,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Joining Date",id:"margin-normal",name:"date_of_join",type:"date",defaultValue:C,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null,InputLabelProps:{shrink:!0}})}}),Object(j.jsx)(M.a,{name:"date_of_resign",control:ne,defaultValue:N,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Resign Date",id:"margin-normal",name:"date_of_resign",type:"date",defaultValue:N,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null,InputLabelProps:{shrink:!0}})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"leave_entitled",control:ne,defaultValue:E,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Annual Leaves Entitled",id:"standard-annualleave",name:"leave_entitled",type:"numeric",defaultValue:E,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null,InputLabelProps:{shrink:!0}})}}),Object(j.jsx)(M.a,{name:"leave_bal",control:ne,defaultValue:S,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Leaves Balance",id:"standard-leavebal",name:"leave_bal",type:"numeric",defaultValue:S,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null,InputLabelProps:{shrink:!0}})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"designation",control:ne,defaultValue:I,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Designation",id:"margin-normal",name:"designation",defaultValue:I,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null,select:!0,children:W&&W.map((function(e){return Object(j.jsx)(No.a,{value:e.name,children:e.name})}))})}}),Object(j.jsx)(M.a,{name:"department",control:ne,defaultValue:P,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Department",id:"margin-normal",name:"department",defaultValue:P,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null,select:!0,children:z&&z.map((function(e){return Object(j.jsx)(No.a,{value:e.name,children:e.name})}))})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"reporting_to",control:ne,defaultValue:F,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsxs)(Do.a,{label:"Reporting To",id:"standard-reportingto",name:"reporting_to",defaultValue:F,className:e.textField,onChange:function(e){n(e.target.value),function(e){var t=V.filter((function(t){return t.name===e})).map((function(e){return Object(D.a)({},e)}));$(t[0].email)}(e.target.value)},error:!!r,helperText:r?r.message:null,select:!0,children:[Object(j.jsx)(No.a,{value:"",children:"None"}),V&&V.map((function(e){return Object(j.jsx)(No.a,{value:e.name,children:e.name})}))]})}}),Object(j.jsx)(M.a,{name:"reporting_email",control:ne,defaultValue:K,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Reporting Email",id:"standard-reportingemail",name:"reporting_email",value:K,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null,InputProps:{readOnly:!0}})}})]}),Object(j.jsx)(Us.a,{className:e.divider})]})]}),Object(j.jsx)(Us.a,{})]})})})},id=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(9),paddingBottom:e.spacing(4),border:"1px solid"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%"},fixedHeight:{height:800}}})),cd=(Object(E.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(yo.i)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),function(e){e.title;var t=id(),a=Object(as.a)(t.paper,t.fixedHeight);return Jc().isEditing?Object(j.jsxs)("div",{children:[Object(j.jsx)(y.a,{}),Object(j.jsx)("div",{className:t.appBarSpacer,children:Object(j.jsx)(S.a,{maxWidth:"lg",className:t.container,children:Object(j.jsx)(vo.a,{container:!0,spacing:3,children:Object(j.jsx)(vo.a,{item:!0,xs:12,children:Object(j.jsxs)(_o.a,{className:a,children:[Object(j.jsx)(es.b,{to:"/allemployees",children:Object(j.jsx)("div",{children:Object(j.jsx)(So.a,{fontSize:"large",color:"primary"})})}),Object(j.jsx)("div",{children:Object(j.jsx)(td,{})})]})})})})})]}):Object(j.jsxs)("div",{children:[Object(j.jsx)(y.a,{}),Object(j.jsx)("div",{className:t.appBarSpacer,children:Object(j.jsx)(S.a,{maxWidth:"lg",className:t.container,children:Object(j.jsx)(vo.a,{container:!0,spacing:3,children:Object(j.jsx)(vo.a,{item:!0,xs:12,children:Object(j.jsxs)(_o.a,{className:a,children:[Object(j.jsx)(es.b,{to:"/allemployees",children:Object(j.jsx)("div",{children:Object(j.jsx)(So.a,{fontSize:"large",color:"primary"})})}),Object(j.jsx)("div",{children:Object(j.jsx)(rd,{})})]})})})})})]})}),sd={name:"",birthdate:null,empno:"",gender:"",ic_no:"",email:"",age:0,basic_salary:0,salary_currency:"BND",bank_name:"",bank_acno:"",nationality:"",address:"",leave_bal:0,leave_entitled:0,tap_acno:"",scp_acno:"",date_of_join:null,date_of_resign:null,designation:"",department:"",passportno:"",passport_expirydate:null,workpermitno:"",workpermit_expirydate:null,siteallows_fee:0,perdiem_fee:0,reporting_to:"",reporting_email:""},od=Object(E.a)((function(e){return{button:{margin:e.spacing(1)},leftIcon:{marginRight:e.spacing(1)},rightIcon:{marginLeft:e.spacing(1)},iconSmall:{fontSize:20},root:{padding:e.spacing(3,2)},container:{display:"flex",flexDirection:"row",flexWrap:"wrap"},divider:{padding:4},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:350}}})),ld=function(){var e=od(),t=Y(),a=ve(),r=a.employees,i=(a.setFilter,Uo()),c=Object(n.useState)(0),s=Object(w.a)(c,2),o=s[0],l=s[1],d=Object(n.useState)(""),u=Object(w.a)(d,2),p=u[0],b=u[1],f=Object(h.d)(_e),O=Object(w.a)(f,2),x=(O[0],O[1],Jc()),m=(x.isEditing,x.single_employee),g=x.editEmployeeID,y=x.getSingleEmployee,v=x.single_employee_loading,_=m||sd,S=_.name,E=_.empno,C=_.birthdate,N=_.ic_no,I=_.gender,P=(_.age,_.email),T=_.nationality,A=_.address,k=_.basic_salary,L=_.salary_currency,R=_.bank_name,B=_.bank_acno,F=_.tap_acno,G=_.scp_acno,U=_.leave_bal,V=_.leave_entitled,W=_.date_of_join,z=_.date_of_resign,H=_.designation,J=_.department,X=_.passportno,q=_.passport_expirydate,Q=_.workpermitno,K=_.workpermit_expirydate,$=_.siteallows_fee,Z=_.perdiem_fee,ee=_.reporting_to,te=_.reporting_email,ae=Object(M.b)(),ne=ae.handleSubmit,re=ae.control,ie=function(e){var t=new Date,a=new Date(e),n=t.getFullYear()-a.getFullYear(),r=t.getMonth()-a.getMonth();return(r<0||0===r&&t.getDate()<a.getDate())&&n--,n};return Object(n.useEffect)((function(){y(g)}),[]),Object(n.useEffect)((function(){var e=ie(C);l(e),b(te)}),[]),v?Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"Loading... "})}):Object(j.jsxs)("div",{children:[Object(j.jsx)("form",{onSubmit:ne((function(e){i(Object(D.a)({id:g},e))})),children:Object(j.jsxs)(_o.a,{className:e.root,children:[Object(j.jsx)(vo.a,{container:!0,className:e.root,spacing:15,children:Object(j.jsxs)("div",{children:[Object(j.jsx)(cs.a,{variant:"h5",component:"h3",children:"EMPLOYEE FORM"}),Object(j.jsxs)(Eo.a,{type:"submit",variant:"contained",color:"primary",className:e.button,children:["Submit ",Object(j.jsx)(Co.a,{className:e.rightIcon,children:"send"})]}),Object(j.jsxs)(Eo.a,{variant:"contained",color:"primary",className:e.button,onClick:function(){try{qc.auth().sendPasswordResetEmail(P),t({title:"Reset Password sent to ".concat(P,"!"),status:"success"})}catch(e){t({title:"Fail to reset password on ".concat(P,"!"),status:"warning"}),console.log(e)}},children:["Reset PW ",Object(j.jsx)(Co.a,{className:e.rightIcon,children:"send"})]})]})}),Object(j.jsx)(Us.a,{className:e.divider}),Object(j.jsxs)(vo.a,{item:!0,xs:12,children:[Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"name",control:re,defaultValue:S,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Name",id:"standard-name",name:"name",defaultValue:S,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})},rules:{required:"Name required"}}),Object(j.jsx)(M.a,{name:"empno",control:re,defaultValue:E,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Emp No",id:"standard-empno",defaultValue:E,name:"empno",className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"email",control:re,defaultValue:P,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Email",id:"standard-email",name:"email",defaultValue:P,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})},rules:{required:"Email is required"}}),Object(j.jsx)(M.a,{name:"ic_no",control:re,defaultValue:N,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"IC No",id:"standard-icno",name:"ic_no",defaultValue:N,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"birthdate",control:re,defaultValue:C,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Birth Date",id:"standard-birthdate",name:"birthdate",type:"date",defaultValue:C,className:e.textField,onChange:function(e){n(e.target.value);var t=ie(e.target.value);console.log("emp",C,t),l(t)},error:!!r,helperText:r?r.message:null,InputLabelProps:{shrink:!0}})}}),Object(j.jsx)(M.a,{name:"age",control:re,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Age",type:"number",id:"standard-age",name:"age",value:o,className:e.textField,onChange:function(e){n(parseInt(e.target.value,10))},error:!!r,helperText:r?r.message:null,inputProps:{readOnly:!0}})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"passportno",control:re,defaultValue:X,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Passport No",id:"stanrad-ppno",name:"passportno",defaultValue:X,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})}}),Object(j.jsx)(M.a,{name:"passport_expirydate",control:re,defaultValue:q,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Passport Expiry Date",id:"standard-ppexpiry",name:"passport_expirydate",type:"date",defaultValue:q,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null,InputLabelProps:{shrink:!0}})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"nationality",control:re,defaultValue:T,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Nationality",id:"standard-nationality",name:"nationality",defaultValue:T,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})}}),Object(j.jsx)(M.a,{name:"gender",control:re,defaultValue:I,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsxs)(Do.a,{label:"Gender",id:"standard-gender",name:"gender",defaultValue:I,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null,select:!0,children:[Object(j.jsx)(No.a,{value:"Male",children:"Male"}),Object(j.jsx)(No.a,{value:"Female",children:"Female"})]})}})]}),Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"address",control:re,defaultValue:A,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Address",id:"standard-address",name:"address",defaultValue:A,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})}})})]}),Object(j.jsx)(Us.a,{className:e.divider}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"basic_salary",control:re,defaultValue:k,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Lo.a,{label:"Basic Salary",variant:"standard",value:k,currencySymbol:"$",outputFormat:"number",decimalCharacter:".",digitGroupSeparator:",",decimalPlaces:"2",className:e.textField,id:"standard-basicsalary",name:"basic_pay",onChange:function(e){n(parseFloat(e.target.value,10))},error:!!r,helperText:r?r.message:null,inputProps:{readOnly:!0}})}}),Object(j.jsx)(M.a,{name:"salary_currency",control:re,defaultValue:L,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsxs)(Do.a,{label:"Currency",id:"standard-currency",name:"salary_currency",defaultValue:L,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null,inputProps:{readOnly:!0},select:!0,children:[Object(j.jsx)(No.a,{value:"BND",children:"BND"}),Object(j.jsx)(No.a,{value:"MYR",children:"MYR"}),Object(j.jsx)(No.a,{value:"USD",children:"USD"})]})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"siteallows_fee",control:re,defaultValue:$,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Lo.a,{label:"Site Allowances Fee",variant:"standard",value:$,currencySymbol:"$",outputFormat:"number",decimalCharacter:".",digitGroupSeparator:",",decimalPlaces:"2",className:e.textField,id:"standard-siteallowances",name:"siteallows_fee",onChange:function(e){n(parseFloat(e.target.value,10))},error:!!r,helperText:r?r.message:null,inputProps:{readOnly:!0}})}}),Object(j.jsx)(M.a,{name:"perdiem_fee",control:re,defaultValue:Z,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Lo.a,{label:"Per Diem Fee",variant:"standard",value:Z,currencySymbol:"$",outputFormat:"number",decimalCharacter:".",digitGroupSeparator:",",decimalPlaces:"2",className:e.textField,id:"standard-perdiem",name:"perdiem_fee",onChange:function(e){n(parseFloat(e.target.value,10))},error:!!r,helperText:r?r.message:null,inputProps:{readOnly:!0}})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"bank_name",control:re,defaultValue:R,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Bank Name",id:"standard-bankname",name:"bank_name",defaultValue:R,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})}}),Object(j.jsx)(M.a,{name:"bank_acno",control:re,defaultValue:B,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Bank Ac No",id:"standard-bankacno",name:"bank_acno",defaultValue:B,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"tap_acno",control:re,defaultValue:F,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"TAP Ac No",id:"standard-tapacno",name:"tap_acno",defaultValue:F,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})}}),Object(j.jsx)(M.a,{name:"scp_acno",control:re,defaultValue:G,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"SCP Ac No",id:"standard-scpacno",name:"scp_acno",defaultValue:G,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"workpermitno",control:re,defaultValue:Q,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Work Permit No",id:"standard-wpno",name:"workpermitno",defaultValue:Q,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})}}),Object(j.jsx)(M.a,{name:"workpermit_expirydate",control:re,defaultValue:K,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Work Permit Expiry Date",id:"standard-wpexpiry",name:"workpermit_expirydate",type:"date",defaultValue:K,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null,InputLabelProps:{shrink:!0}})}})]}),Object(j.jsx)(Us.a,{className:e.divider}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"date_of_join",control:re,defaultValue:W,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Joining Date",id:"standard-joindate",name:"date_of_join",type:"date",defaultValue:W,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null,InputLabelProps:{shrink:!0}})}}),Object(j.jsx)(M.a,{name:"date_of_resign",control:re,defaultValue:z,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Resign Date",id:"standard-resigndate",name:"date_of_resign",type:"date",defaultValue:z,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null,InputLabelProps:{shrink:!0}})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"leave_entitled",control:re,defaultValue:V,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Annual Leaves Entitled",id:"standard-annualleave",name:"leave_entitled",type:"numeric",defaultValue:V,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null,InputLabelProps:{shrink:!0},inputProps:{readOnly:!0}})}}),Object(j.jsx)(M.a,{name:"leave_bal",control:re,defaultValue:U,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Leaves Balance",id:"standard-leavebal",name:"leave_bal",type:"numeric",defaultValue:U,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null,InputLabelProps:{shrink:!0},inputProps:{readOnly:!0}})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"designation",control:re,defaultValue:H,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Designation",id:"standard-designation",name:"designation",defaultValue:H,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})}}),Object(j.jsx)(M.a,{name:"department",control:re,defaultValue:J,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Department",id:"standard-department",name:"department",defaultValue:J,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"reporting_to",control:re,defaultValue:ee,render:function(t){var a=t.field,n=a.onChange,i=(a.value,t.fieldState.error);return Object(j.jsxs)(Do.a,{label:"Reporting To",id:"standard-reportingto",name:"reporting_to",defaultValue:ee,className:e.textField,onChange:function(e){n(e.target.value),function(e){var t=r.filter((function(t){return t.name===e})).map((function(e){return Object(D.a)({},e)}));b(t[0].email)}(e.target.value)},error:!!i,helperText:i?i.message:null,select:!0,children:[Object(j.jsx)(No.a,{value:"",children:"None"}),r&&r.map((function(e){return Object(j.jsx)(No.a,{value:e.name,children:e.name})}))]})}}),Object(j.jsx)(M.a,{name:"reporting_email",control:re,defaultValue:p,render:function(t){var a=t.field,n=a.onChange,r=(a.value,t.fieldState.error);return Object(j.jsx)(Do.a,{label:"Reporting Email",id:"standard-reportingemail",name:"reporting_email",value:p,className:e.textField,onChange:n,error:!!r,helperText:r?r.message:null,InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}})]}),Object(j.jsx)(Us.a,{className:e.divider})]})]}),Object(j.jsx)(Us.a,{})]})}),Object(j.jsx)(vo.a,{xs:12,children:Object(j.jsx)(sl,{})}),Object(j.jsx)(vo.a,{xs:12,children:Object(j.jsx)(xl,{})}),Object(j.jsx)(vo.a,{xs:12,children:Object(j.jsx)(kl,{})}),Object(j.jsx)(vo.a,{xs:12,children:Object(j.jsx)($l,{})})]})},dd=a(30),ud=a(910),pd=a(912),jd=a(911),bd=a(61),hd=a.n(bd),fd=Object(E.a)((function(e){return{root:{maxWidth:"500"},card:{margin:"15px 10px",padding:0,border:"solid 1px black",borderRadius:"16px",backgroundColor:"dark"},small:{gridRowEnd:"span 26"},medium:{gridRowEnd:"span 33"},large:{gridRowEnd:"span 45"}}})),Od=function(e){var t=e.title,a=e.children,n=e.handleClick,r=fd();return Object(j.jsxs)(ud.a,{className:r.card,children:[Object(j.jsx)(pd.a,{action:Object(j.jsx)(ss.a,{"aria-label":"settings",onClick:n,children:Object(j.jsx)(hd.a,{})}),title:t}),Object(j.jsx)(jd.a,{children:a})]})},xd=Object(E.a)((function(e){return{root:{maxWidth:"500"},card:{margin:"15px 10px",padding:0,border:"solid 1px black",borderRadius:"16px",backgroundColor:"dark"},small:{gridRowEnd:"span 26"},medium:{gridRowEnd:"span 33"},large:{gridRowEnd:"span 45"}}})),md=function(e){var t=e.title,a=e.children,n=(e.handleClick,xd());return Object(j.jsxs)(ud.a,{className:n.card,children:[t&&Object(j.jsx)(pd.a,{title:t}),Object(j.jsx)(jd.a,{children:a})]})},gd=a(915),yd=a(919),vd=a(917),_d=a(918),wd=a(916),Sd=function(e){var t=e.isOpen,a=e.handleClose,n=e.title,r=e.subtitle,i=e.children,c=e.showButton,s=e.isFullscreen,o=e.isFullwidth;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(gd.a,{fullWidth:!!o,fullScreen:!!s,maxWidth:"md",open:t,onClose:a,"aria-labelledby":"max-width-dialog-title",disableBackdropClick:!0,disableEscapeKeyDown:!0,children:[Object(j.jsx)(yd.a,{id:"max-width-dialog-title",children:n}),Object(j.jsxs)(vd.a,{children:[Object(j.jsx)(_d.a,{children:r}),i]}),Object(j.jsx)(wd.a,{children:c?Object(j.jsx)(Eo.a,{onClick:a,color:"primary",children:"Close"}):null})]})})},Ed=[{title:"Name",field:"name",filtering:!1},{title:"Relationship",field:"relationship"},{title:"BIrth Date",field:"birth_date",type:"date",dateSetting:{locale:"en-GB"},filtering:!1},{title:"Phone",field:"phone"}];function Cd(){var e=Dd(),t=Jc().editEmployeeID,a=wl(),r=a.loadSingleBatchFamily,i=a.singlebatchfamily,c=a.singlebatch_family_loading;return Object(n.useEffect)((function(){r(t)}),[]),c?Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"Loading...Family"})}):Object(j.jsx)("div",{className:e.root,children:Object(j.jsx)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:Ed,data:i,title:"Family",options:{search:!1,toolbar:!1}})})})}var Dd=Object(E.a)((function(e){return{root:{padding:0}}})),Nd=[{title:"Institution",field:"institution"},{title:"Course",field:"course"},{title:"From Date",field:"from_date",type:"date"},{title:"To Date",field:"to_date",type:"date",dateSetting:{locale:"en-GB"}}];function Id(){var e=Pd(),t=Jc().editEmployeeID,a=wl(),r=a.loadSingleBatchEducation,i=a.singlebatcheducation,c=a.singlebatch_education_loading;return Object(n.useEffect)((function(){r(t)}),[]),c?Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"Loading...Education"})}):Object(j.jsx)("div",{className:e.root,children:Object(j.jsx)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:Nd,data:i,title:"Experience",options:{search:!1,toolbar:!1}})})})}var Pd=Object(E.a)((function(e){return{root:{padding:0}}})),Td=[{title:"Company",field:"company"},{title:"Location",field:"location"},{title:"Position",field:"position"},{title:"From Date",field:"from_date",type:"date",dateSetting:{locale:"en-GB"}},{title:"To Date",field:"to_date",type:"date",dateSetting:{locale:"en-GB"}}];function Ad(e){e.experiencedata,e.setExperiencedata,e.handleDialogClose;var t=kd(),a=Jc().editEmployeeID,r=wl(),i=r.loadSingleBatchExperience,c=r.singlebatchexperience,s=r.singlebatch_experience_loading;return Object(n.useEffect)((function(){i(a)}),[]),s?Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"Loading...Experience"})}):Object(j.jsx)("div",{className:t.root,children:Object(j.jsx)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:Td,data:c,title:"Experience",options:{search:!1,toolbar:!1}})})})}var kd=Object(E.a)((function(e){return{root:{padding:0}}})),Ld=function(e,t){if(t.type===wt)return Object(D.a)(Object(D.a)({},e),{},{editLeaveID:t.payload});if(t.type===St)return Object(D.a)(Object(D.a)({},e),{},{isLeaveEditing:!0});if(t.type===Et)return Object(D.a)(Object(D.a)({},e),{},{isLeaveEditing:!1});if(t.type===Ct)return Object(D.a)(Object(D.a)({},e),{},{single_leave:{}});if(t.type===ct)return Object(D.a)(Object(D.a)({},e),{},{leaves_loading:!0});if(t.type===st)return Object(D.a)(Object(D.a)({},e),{},{leaves_loading:!1,leaves:t.payload});if(t.type===ot)return Object(D.a)(Object(D.a)({},e),{},{leaves_loading:!1,leaves_error:!0});if(t.type===yt)return Object(D.a)(Object(D.a)({},e),{},{add_leave_loading:!0});if(t.type===vt)return Object(D.a)(Object(D.a)({},e),{},{add_leaves_loading:!1,leaves:t.payload});if(t.type===_t)return Object(D.a)(Object(D.a)({},e),{},{leaves_loading:!1,add_leave_error:!0});if(t.type===xt)return Object(D.a)(Object(D.a)({},e),{},{update_leave_loading:!0});if(t.type===mt)return Object(D.a)(Object(D.a)({},e),{},{leaves_loading:!1,single_leave:t.payload});if(t.type===gt)return Object(D.a)(Object(D.a)({},e),{},{update_leave_loading:!1,update_leave_error:!0});if(t.type===ht)return Object(D.a)(Object(D.a)({},e),{},{delete_leave_loading:!0,delete_leave_error:!1});if(t.type===ft)return Object(D.a)(Object(D.a)({},e),{},{delete_leave_loading:!1,delete_leave_error:!1});if(t.type===Ot)return Object(D.a)(Object(D.a)({},e),{},{delete_leave_loading:!1,delete_leave_error:!0});if(t.type===lt)return Object(D.a)(Object(D.a)({},e),{},{single_leave_loading:!0,single_leave_error:!1});if(t.type===dt)return Object(D.a)(Object(D.a)({},e),{},{single_leave_loading:!1,single_leave:t.payload});if(t.type===ut)return Object(D.a)(Object(D.a)({},e),{},{single_leave_loading:!1,single_leave_error:!0});if(t.type===pt)return Object(D.a)(Object(D.a)({},e),{},{singlebatch_leave_loading:!0,singlebatch_leave_error:!1});if(t.type===jt)return Object(D.a)(Object(D.a)({},e),{},{singlebatch_leave_loading:!1,singlebatch_leave:t.payload});if(t.type===bt)return Object(D.a)(Object(D.a)({},e),{},{singlebatch_leave_loading:!1,singlebatch_leave_error:!0});throw new Error('No Matching "'.concat(t.type,'" - action type'))},Rd={isLeaveEditing:!1,alertleave:{show:!1,msg:"",type:""},editLeaveID:null,leaves_loading:!1,leaves_error:!1,leaves:[],single_leave_loading:!1,single_leave_error:!1,single_leave:{},singlebatch_leave_loading:!1,singlebatch_leave_error:!1,singlebatch_leave:{},delete_leave_loading:!1,delete_leave_error:!1,update_leave_loading:!1,update_leave_error:!1,add_leave_loading:!1,add_leave_error:!1},Bd=r.a.createContext(),Fd=function(e){var t=e.children,a=Object(n.useReducer)(Ld,Rd),r=Object(w.a)(a,2),i=r[0],c=r[1],s=function(){var e=Object(P.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:ct}),e.prev=1,e.next=4,fetch(q);case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,c({type:st,payload:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c({type:ot});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:ct}),e.prev=1,e.next=4,me.a.get("".concat(q,"?fi=").concat(t));case 4:a=e.sent,n=a.data,c({type:st,payload:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),c({type:ot});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:ct}),e.prev=1,e.next=4,me.a.get("".concat(q,"?fv=").concat(t));case 4:a=e.sent,n=a.data,c({type:st,payload:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),c({type:ot});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{c({type:wt,payload:t})}catch(a){c(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:lt}),e.prev=1,e.next=4,me.a.get("".concat(q,"?id=").concat(t));case 4:a=e.sent,n=a.data,c({type:dt,payload:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),c({type:ut});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:pt}),e.prev=1,e.next=4,me.a.get("".concat(q,"?fv=").concat(t));case 4:a=e.sent,n=a.data,c({type:jt,payload:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),c({type:bt});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.id,t.name,t.from_date,t.to_date,t.reason,t.no_of_days,t.status,c({type:yt}),e.prev=2,e.next=5,fetch(q,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 5:c({type:vt}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:_t});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),c({type:xt}),e.prev=2,e.next=5,fetch(q,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 5:c({type:mt}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:gt});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:ht}),e.prev=1,e.next=4,fetch(q,{method:"DELETE",body:JSON.stringify({id:t})});case 4:c({type:ft}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c({type:Ot});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(Bd.Provider,{value:Object(D.a)(Object(D.a)({},i),{},{loadLeaves:s,loadPendingLeaves:o,loadEmpLeaves:l,addLeave:b,updateLeave:h,deleteLeave:f,getSingleLeave:u,getSingleBatchLeave:p,setEditLeaveID:d,setIsLeaveEditingOn:function(){c({type:St})},setIsLeaveEditingOff:function(){c({type:Et})},resetSingleLeave:function(){c({type:Ct})}}),children:t})},Gd=function(){return Object(n.useContext)(Bd)},Ud=[{title:"From Date",field:"from_date",type:"date",filtering:!1,dateSetting:{locale:"en-GB"}},{title:"To Date",field:"to_date",type:"date",filtering:!1,dateSetting:{locale:"en-GB"}},{title:"Reason",field:"Reason"},{title:"No of Days",field:"no_of_days",type:"numeric",filtering:!1},{title:"Status",field:"status"}];function Vd(){var e=Wd(),t=Jc().editEmployeeID,a=Gd(),r=a.singlebatch_leave,i=a.getSingleBatchLeave,c=a.singlebatch_leave_loading;return Object(n.useEffect)((function(){i(t)}),[]),c?Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"Loading...Leaves"})}):Object(j.jsx)("div",{className:e.root,children:Object(j.jsx)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:Ud,data:r,title:"",options:{search:!1,toolbar:!1}})})})}var Wd=Object(E.a)((function(e){return{root:{padding:0}}})),zd=[{title:"Institute",field:"institute"},{title:"Course",field:"course"},{title:"From Date",field:"from_date",type:"date",filtering:!1,dateSetting:{locale:"en-GB"}},{title:"To Date",field:"to_date",type:"date",filtering:!1,dateSetting:{locale:"en-GB"}},{title:"Expiry Date",field:"expiry_date",type:"date",filtering:!1,dateSetting:{locale:"en-GB"}}];function Md(){var e=Hd(),t=Jc().editEmployeeID,a=Ul(),r=a.singlebatch_training,i=a.getSingleBatchTraining,c=a.singlebatch_training_loading;return Object(n.useEffect)((function(){i(t)}),[]),c?Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"Loading...Trainings"})}):Object(j.jsx)("div",{className:e.root,children:Object(j.jsx)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:zd,data:r,title:"",options:{search:!1,toolbar:!1}})})})}var Hd=Object(E.a)((function(e){return{root:{padding:0}}})),Yd={name:"",gender:"",ic_no:"",email:"",age:0,basic_salary:0,bank_name:"",bank_acno:"",tap_acno:"",scp_acno:"",date_of_join:null,date_of_resign:null,designation:"",department:"",passportno:"",passport_expirydate:null,workpermitno:"",workpermit_expirydate:null,nationality:"",marital_status:"",siteallows_fee:0,perdiem_fee:0,reporting_to:""},Jd=Object(E.a)((function(e){return{button:{margin:e.spacing(1)},leftIcon:{marginRight:e.spacing(1)},rightIcon:{marginLeft:e.spacing(1)},iconSmall:{fontSize:20},root:{padding:e.spacing(3,2)},container:{display:"flex",flexDirection:"row",flexWrap:"wrap"},divider:{padding:4},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:350}}})),Xd=function(e){var t=e.handleDialogClose,a=Jd(),n=Jc(),r=n.isEditing,i=n.single_employee,c=n.updateEmployee,s=n.addEmployee,o=n.editEmployeeID,l=n.single_employee_loading,d=n.getSingleEmployee,u=i||Yd,p=u.name,b=u.ic_no,f=u.ic_expirydate,O=u.gender,x=u.age,m=u.email,g=u.basic_salary,y=u.bank_name,v=u.bank_acno,_=u.tap_acno,S=u.scp_acno,E=u.date_of_join,C=u.date_of_resign,N=u.designation,I=u.department,P=u.passportno,T=u.passport_expirydate,A=u.workpermitno,k=u.workpermit_expirydate,L=u.nationality,R=u.marital_status,B=u.siteallows_fee,F=u.perdiem_fee,G=u.reporting_to,U=Object(M.b)(),V=U.handleSubmit,W=U.control,z=Object(h.d)(_e),H=Object(w.a)(z,2),Y=H[0],J=H[1];return l?Object(j.jsx)("div",{children:"Loading..."}):Object(j.jsx)("div",{children:Object(j.jsx)("form",{onSubmit:V((function(e){r?c(Object(D.a)({id:o},e)):s(Object(D.a)({},e)),J(Object(D.a)(Object(D.a)({},Y),{},{loginEmail:e.email,leave_bal:e.leave_bal,siteallows_fee:e.siteallows_fee,perdiem_fee:e.perdiem_fee,reporting_to:e.reporting_to})),d(Y.loginUserId),t()})),children:Object(j.jsxs)(_o.a,{className:a.root,children:[Object(j.jsx)(vo.a,{container:!0,className:a.root,spacing:15,children:Object(j.jsxs)("div",{children:[Object(j.jsx)(cs.a,{variant:"h5",component:"h3",children:"EMPLOYEE FORM"}),Object(j.jsxs)(Eo.a,{type:"submit",variant:"contained",color:"primary",className:a.button,children:["Submit ",Object(j.jsx)(Co.a,{className:a.rightIcon,children:"send"})]})]})}),Object(j.jsx)(Us.a,{className:a.divider}),Object(j.jsxs)(vo.a,{item:!0,xs:12,children:[Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"name",control:W,defaultValue:p,render:function(e){var t=e.field,n=t.onChange,r=(t.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Name",id:"margin-normal",name:"name",defaultValue:p,className:a.textField,onChange:n,error:!!r,helperText:r?r.message:null})},rules:{required:"Name required"}}),Object(j.jsx)(M.a,{name:"email",control:W,defaultValue:m,render:function(e){var t=e.field,n=t.onChange,r=(t.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Email",id:"margin-normal",name:"email",defaultValue:m,className:a.textField,onChange:n,error:!!r,helperText:r?r.message:null})},rules:{required:"Email is required"}}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"ic_no",control:W,defaultValue:b,render:function(e){var t=e.field,n=t.onChange,r=(t.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"IC No",id:"margin-normal",name:"ic_no",defaultValue:b,className:a.textField,onChange:n,error:!!r,helperText:r?r.message:null})}}),Object(j.jsx)(M.a,{name:"ic_expirydate",control:W,defaultValue:f,render:function(e){var t=e.field,n=t.onChange,r=(t.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"IC Expiry Date",id:"margin-normal",name:"ic_expirydate",type:"date",defaultValue:f,className:a.textField,onChange:n,error:!!r,helperText:r?r.message:null,InputLabelProps:{shrink:!0}})}})]})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"gender",control:W,defaultValue:O,render:function(e){var t=e.field,n=t.onChange,r=(t.value,e.fieldState.error);return Object(j.jsxs)(Do.a,{label:"Gender",id:"margin-normal",name:"gender",defaultValue:O,className:a.textField,onChange:n,error:!!r,helperText:r?r.message:null,select:!0,children:[Object(j.jsx)(No.a,{value:"Male",children:"Male"}),Object(j.jsx)(No.a,{value:"Female",children:"Female"})]})}}),Object(j.jsx)(M.a,{name:"age",control:W,defaultValue:x,render:function(e){var t=e.field,n=t.onChange,r=(t.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Age",type:"number",id:"standard-number",name:"age",defaultValue:x,className:a.textField,onChange:function(e){n(parseInt(e.target.value,10))},error:!!r,helperText:r?r.message:null})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"nationality",control:W,defaultValue:L,render:function(e){var t=e.field,n=t.onChange,r=(t.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Nationality",id:"margin-normal",name:"nationality",defaultValue:L,className:a.textField,onChange:n,error:!!r,helperText:r?r.message:null})}}),Object(j.jsx)(M.a,{name:"marital_status",control:W,defaultValue:R,render:function(e){var t=e.field,n=t.onChange,r=(t.value,e.fieldState.error);return Object(j.jsxs)(Do.a,{label:"Marital Status",id:"margin-normal",name:"marital_status",defaultValue:R,className:a.textField,onChange:n,error:!!r,helperText:r?r.message:null,select:!0,children:[Object(j.jsx)(No.a,{value:"Single",children:"Single"}),Object(j.jsx)(No.a,{value:"Married",children:"Married"}),Object(j.jsx)(No.a,{value:"Divorced",children:"Divorced"})]})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"passportno",control:W,defaultValue:P,render:function(e){var t=e.field,n=t.onChange,r=(t.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Passport No",id:"margin-normal",name:"passportno",defaultValue:P,className:a.textField,onChange:n,error:!!r,helperText:r?r.message:null})}}),Object(j.jsx)(M.a,{name:"passport_expirydate",control:W,defaultValue:T,render:function(e){var t=e.field,n=t.onChange,r=(t.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Passport Expiry Date",id:"margin-normal",name:"passport_expirydate",type:"date",defaultValue:T,className:a.textField,onChange:n,error:!!r,helperText:r?r.message:null,InputLabelProps:{shrink:!0}})}})]})]}),Object(j.jsx)(Us.a,{className:a.divider}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"basic_salary",control:W,defaultValue:g,render:function(e){var t=e.field,n=t.onChange,r=(t.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Basic Salary",type:"number",id:"standard-number",name:"basic_pay",defaultValue:g,className:a.textField,onChange:function(e){n(parseInt(e.target.value,10))},error:!!r,helperText:r?r.message:null})}})}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"siteallows_fee",control:W,defaultValue:B,render:function(e){var t=e.field,n=t.onChange,r=(t.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Site Allowances Fee",type:"number",id:"standard-number",name:"siteallows_fee",defaultValue:B,className:a.textField,onChange:function(e){n(parseInt(e.target.value,10))},error:!!r,helperText:r?r.message:null})}}),Object(j.jsx)(M.a,{name:"perdiem_fee",control:W,defaultValue:F,render:function(e){var t=e.field,n=t.onChange,r=(t.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Perdiem Fee",type:"number",id:"standard-number",name:"perdiem_fee",defaultValue:F,className:a.textField,onChange:function(e){n(parseInt(e.target.value,10))},error:!!r,helperText:r?r.message:null})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"bank_name",control:W,defaultValue:y,render:function(e){var t=e.field,n=t.onChange,r=(t.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Bank Name",id:"margin-normal",name:"bank_name",defaultValue:y,className:a.textField,onChange:n,error:!!r,helperText:r?r.message:null})}}),Object(j.jsx)(M.a,{name:"bank_acno",control:W,defaultValue:v,render:function(e){var t=e.field,n=t.onChange,r=(t.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Bank Ac No",id:"margin-normal",name:"bank_acno",defaultValue:v,className:a.textField,onChange:n,error:!!r,helperText:r?r.message:null})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"tap_acno",control:W,defaultValue:_,render:function(e){var t=e.field,n=t.onChange,r=(t.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"TAP Ac No",id:"margin-normal",name:"tap_acno",defaultValue:_,className:a.textField,onChange:n,error:!!r,helperText:r?r.message:null})}}),Object(j.jsx)(M.a,{name:"scp_acno",control:W,defaultValue:S,render:function(e){var t=e.field,n=t.onChange,r=(t.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"SCP Ac No",id:"margin-normal",name:"scp_acno",defaultValue:S,className:a.textField,onChange:n,error:!!r,helperText:r?r.message:null})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"workpermitno",control:W,defaultValue:A,render:function(e){var t=e.field,n=t.onChange,r=(t.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Work Permit No",id:"margin-normal",name:"workpermitno",defaultValue:A,className:a.textField,onChange:n,error:!!r,helperText:r?r.message:null})}}),Object(j.jsx)(M.a,{name:"workpermit_expirydate",control:W,defaultValue:k,render:function(e){var t=e.field,n=t.onChange,r=(t.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Work Permit Expiry Date",id:"margin-normal",name:"workpermit_expirydate",type:"date",defaultValue:k,className:a.textField,onChange:n,error:!!r,helperText:r?r.message:null,InputLabelProps:{shrink:!0}})}})]}),Object(j.jsx)(Us.a,{className:a.divider}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"date_of_join",control:W,defaultValue:E,render:function(e){var t=e.field,n=t.onChange,r=(t.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Joining Date",id:"margin-normal",name:"date_of_join",type:"date",defaultValue:E,className:a.textField,onChange:n,error:!!r,helperText:r?r.message:null,InputLabelProps:{shrink:!0}})}}),Object(j.jsx)(M.a,{name:"date_of_resign",control:W,defaultValue:C,render:function(e){var t=e.field,n=t.onChange,r=(t.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Resign Date",id:"margin-normal",name:"date_of_resign",type:"date",defaultValue:C,className:a.textField,onChange:n,error:!!r,helperText:r?r.message:null,InputLabelProps:{shrink:!0}})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"designation",control:W,defaultValue:N,render:function(e){var t=e.field,n=t.onChange,r=(t.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Designation",id:"margin-normal",name:"designation",defaultValue:N,className:a.textField,onChange:n,error:!!r,helperText:r?r.message:null})}}),Object(j.jsx)(M.a,{name:"department",control:W,defaultValue:I,render:function(e){var t=e.field,n=t.onChange,r=(t.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Department",id:"margin-normal",name:"department",defaultValue:I,className:a.textField,onChange:n,error:!!r,helperText:r?r.message:null})}})]}),Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"reporting_to",control:W,defaultValue:G,render:function(e){var t=e.field,n=t.onChange,r=(t.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Reporting To",id:"margin-normal",name:"reporting_to",defaultValue:G,className:a.textField,onChange:n,error:!!r,helperText:r?r.message:null})}})}),Object(j.jsx)(Us.a,{className:a.divider})]})]}),Object(j.jsx)(Us.a,{})]})})})};Object(E.a)((function(e){return{root:{flexGrow:1},container:{margin:0,padding:0,width:"80vw",display:"grid",gridTemplateColumns:"repeat(auto-fill,250px)",gridAutoRows:"10px",position:"absolute",left:"50%",transform:"translateX(-50%)",justifyContent:"center",backgroundColor:"primary"},fixedHeight:{height:800},paper:{padding:e.spacing(10),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%",color:"primary",bcakgroundColor:"black"},card:{backgroundColor:"black"},form:{"& > *":{margin:e.spacing(1),width:"25ch"}},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:350},table:{minWidth:650}}})),Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(9),paddingBottom:e.spacing(4),border:"1px solid"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%"},fixedHeight:{height:800}}})),Object(E.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(yo.i)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}}));function qd(e,t){return e.filter((function(e){return e.empid===t})).map((function(e){return Object(D.a)({},e)}))}function Qd(){return(Qd=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("".concat(q));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kd(e){var t=Object(n.useState)("all"),a=Object(w.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(""),s=Object(w.a)(c,2),o=s[0],l=s[1],d=Object(n.useCallback)((function(e){return qd(e,r)}),[r]),u=Object(J.a)(ge.leaves,(function(){return function(e){return Qd.apply(this,arguments)}(o)}),{select:"all"!==r?d:void 0}).data;return{leaves:void 0===u?[]:u,filter:r,setFilter:i,setLeaveId:l}}function $d(){return($d=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(q,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zd(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return $d.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("leaves"),a({title:"Leave record being added!",status:"success"})}}).mutate}function eu(){return(eu=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(q,{method:"DELETE",body:JSON.stringify({id:t})});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tu(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return eu.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("leaves"),a({title:"Leave record being deleted!",status:"warning"})}}).mutate}function au(){return(au=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),e.next=3,fetch(q,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nu(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return au.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("leaves"),a({title:"Leave record being updated!",status:"success"})}}).mutate}var ru={name:"",to_date:"",from_date:"",reason:"",status:"Pending",no_of_days:0,leave_bal:0},iu=Object(E.a)((function(e){return{button:{margin:e.spacing(1)},leftIcon:{marginRight:e.spacing(1)},rightIcon:{marginLeft:e.spacing(1)},iconSmall:{fontSize:20},root:{padding:e.spacing(3,2)},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:400}}})),cu=function(e){var t=e.formdata,a=(e.setFormdata,e.handleDialogClose),r=iu(),i=Y(),c=(ve().employees,Kd()),s=(c.leaves,c.filter,c.setFilter,c.setLeaveId,nu()),o=Zd(),l=Object(n.useState)(ru),d=Object(w.a)(l,2),u=(d[0],d[1],Object(h.d)(_e)),p=Object(w.a)(u,2),b=p[0],f=(p[1],Object(M.b)()),O=f.handleSubmit,x=f.control,m=(Object.values(ru).join(""),Gd()),g=m.isLeaveEditing,y=m.editLeaveID,v=function(e){console.log("leave",e),g?s(Object(D.a)({id:y},e)):(o(Object(D.a)(Object(D.a)({},e),{},{empid:b.loginUserId})),function(e){var t=e.from_date,a=e.to_date,n={to_name:b.loginUser,to_email:b.loginEmail,message:"Your leave application from ".concat(t," to ").concat(a," has been successfully submitted for approval"),cc_to:b.reporting_email};ms.a("service_ffxn6vb","template_1y8odlq",n,"user_oLsKrJJYgmAa4uBnRGkuq").then((function(e){console.log(e.status,e.text),i({title:"Email has sent successfully to ".concat(n.to_email,"!"),status:"success"})}),(function(e){console.log(e),i({title:"Email has fail to send to ".concat(n.to_email,"!"),status:"warning"})}))}(e)),a()};return Object(j.jsx)("div",{children:Object(j.jsxs)(_o.a,{className:r.root,children:[Object(j.jsx)(cs.a,{variant:"h5",component:"h3",children:"LEAVE FORM"}),Object(j.jsx)(cs.a,{component:"p",children:"Leave Application"}),Object(j.jsx)(Us.a,{}),Object(j.jsxs)("form",{onSubmit:O(v),children:[Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"name",control:x,defaultValue:b.loginUser,render:function(e){var t=e.field,a=t.onChange,n=(t.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Name",id:"margin-normal",name:"name",defaultValue:b.loginUser,className:r.textField,onChange:function(e){console.log(e.target.value),a(e.target.value)},InputProps:{readOnly:!0},error:!!n,helperText:n?n.message:null})}})}),Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"from_date",control:x,defaultValue:t.from_date,render:function(e){var a=e.field,n=a.onChange,i=(a.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"From Date",type:"date",id:"margin-normal",name:"from_date",defaultValue:t.from_date,className:r.textField,onChange:n,error:!!i,helperText:i?i.message:null,InputLabelProps:{shrink:!0}})},rules:{required:"From Date is required"}})}),Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"to_date",control:x,defaultValue:t.to_date,render:function(e){var a=e.field,n=a.onChange,i=(a.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"To Date",id:"margin-normal",type:"date",name:"to_date",defaultValue:t.to_date,className:r.textField,onChange:n,error:!!i,helperText:i?i.message:null,InputLabelProps:{shrink:!0}})},rules:{required:"To Date is required"}})}),Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"leave_bal",control:x,defaultValue:b.leave_bal,render:function(e){var t=e.field,a=t.onChange,n=(t.value,e.fieldState.error);return Object(j.jsx)(Do.a,{disable:!0,label:"Leave Balance",type:"number",id:"standard-number",name:"leave_bal",defaultValue:b.leave_bal,className:r.textField,onChange:function(e){a(parseInt(e.target.value,10))},error:!!n,helperText:n?n.message:null,InputProps:{readOnly:!0}})}})}),Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"no_of_days",control:x,defaultValue:t.no_of_days,render:function(e){var a=e.field,n=a.onChange,i=(a.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"No Of Days",type:"number",id:"standard-number",name:"no_of_days",defaultValue:t.no_of_days,className:r.textField,onChange:function(e){n(parseInt(e.target.value,10))},error:!!i,helperText:i?i.message:null})}})}),Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"reason",control:x,defaultValue:t.reason,render:function(e){var a=e.field,n=a.onChange,i=(a.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Reason",id:"margin-normal",name:"reason",defaultValue:t.reason,className:r.textField,onChange:n,error:!!i,helperText:i?i.message:null})}})}),Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"status",control:x,defaultValue:t.status,render:function(e){var a=e.field,n=a.onChange,i=(a.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Status",id:"margin-normal",name:"status",defaultValue:t.status,className:r.textField,onChange:n,error:!!i,helperText:i?i.message:null,InputProps:{readOnly:!0}})}})}),Object(j.jsx)("div",{children:Object(j.jsxs)(Eo.a,{type:"submit",variant:"contained",color:"primary",className:r.button,onClick:O(v),children:["Submit ",Object(j.jsx)(Co.a,{className:r.rightIcon,children:"send"})]})})]})]})})},su=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(9),paddingBottom:e.spacing(4),border:"1px solid"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%"},fixedHeight:{height:800}}})),ou=(Object(E.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(yo.i)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),function(e){e.title;var t=su(),a=Object(as.a)(t.paper,t.fixedHeight);return Object(j.jsxs)("div",{children:[Object(j.jsx)(y.a,{}),Object(j.jsx)("div",{className:t.appBarSpacer,children:Object(j.jsx)(S.a,{maxWidth:"lg",className:t.container,children:Object(j.jsx)(vo.a,{container:!0,spacing:3,children:Object(j.jsx)(vo.a,{item:!0,xs:12,children:Object(j.jsxs)(_o.a,{className:a,children:[Object(j.jsx)(es.b,{to:"/leave",children:Object(j.jsx)("div",{children:Object(j.jsx)(So.a,{fontSize:"large",color:"primary"})})}),Object(j.jsx)("div",{children:Object(j.jsx)(cu,{})})]})})})})})]})}),lu=function(e,t){if(t.type===qt)return Object(D.a)(Object(D.a)({},e),{},{editExpenseID:t.payload});if(t.type===Qt)return Object(D.a)(Object(D.a)({},e),{},{isExpenseEditing:!0});if(t.type===Kt)return Object(D.a)(Object(D.a)({},e),{},{isExpenseEditing:!1});if(t.type===$t)return Object(D.a)(Object(D.a)({},e),{},{single_expense:{}});if(t.type===Dt)return Object(D.a)(Object(D.a)({},e),{},{expenses_loading:!0});if(t.type===Nt)return Object(D.a)(Object(D.a)({},e),{},{expenses_loading:!1,expenses:t.payload});if(t.type===It)return Object(D.a)(Object(D.a)({},e),{},{expenses_loading:!1,expenses_error:!0});if(t.type===Pt)return Object(D.a)(Object(D.a)({},e),{},{unpaid_expenses_loading:!0});if(t.type===Tt)return Object(D.a)(Object(D.a)({},e),{},{unpaid_expenses_loading:!1,unpaidexpenses:t.payload});if(t.type===At)return Object(D.a)(Object(D.a)({},e),{},{unpaid_expenses_loading:!1,unpaid_expenses_error:!0});if(t.type===kt)return Object(D.a)(Object(D.a)({},e),{},{period_expenses_loading:!0});if(t.type===Lt)return Object(D.a)(Object(D.a)({},e),{},{period_expenses_loading:!1,periodexpenses:t.payload});if(t.type===Rt)return Object(D.a)(Object(D.a)({},e),{},{period_expenses_loading:!1,period_expenses_error:!0});if(t.type===Yt)return Object(D.a)(Object(D.a)({},e),{},{add_expense_loading:!0});if(t.type===Jt)return Object(D.a)(Object(D.a)({},e),{},{add_expenses_loading:!1,expenses:t.payload});if(t.type===Xt)return Object(D.a)(Object(D.a)({},e),{},{expenses_loading:!1,add_expense_error:!0});if(t.type===zt)return Object(D.a)(Object(D.a)({},e),{},{update_expense_loading:!0});if(t.type===Mt)return Object(D.a)(Object(D.a)({},e),{},{expenses_loading:!1,single_expense:t.payload});if(t.type===Ht)return Object(D.a)(Object(D.a)({},e),{},{update_expense_loading:!1,update_expense_error:!0});if(t.type===Ut)return Object(D.a)(Object(D.a)({},e),{},{delete_expense_loading:!0,delete_expense_error:!1});if(t.type===Vt)return Object(D.a)(Object(D.a)({},e),{},{delete_expense_loading:!1,delete_expense_error:!1});if(t.type===Wt)return Object(D.a)(Object(D.a)({},e),{},{delete_expense_loading:!1,delete_expense_error:!0});if(t.type===Bt)return Object(D.a)(Object(D.a)({},e),{},{single_expense_loading:!0,single_expense_error:!1});if(t.type===Ft)return Object(D.a)(Object(D.a)({},e),{},{single_expense_loading:!1,single_expense:t.payload});if(t.type===Gt)return Object(D.a)(Object(D.a)({},e),{},{single_expense_loading:!1,single_expense_error:!0});throw new Error('No Matching "'.concat(t.type,'" - action type'))},du={isExpenseEditing:!1,alertExpense:{show:!1,msg:"",type:""},editExpenseID:null,expenses_loading:!1,expenses_error:!1,expenses:[],single_expense_loading:!1,single_expense_error:!1,single_expense:{},delete_expense_loading:!1,delete_expense_error:!1,update_expense_loading:!1,update_expense_error:!1,add_expense_loading:!1,add_expense_error:!1,unpaid_expense_loading:!1,unpaid_expense_error:!1,unpaidexpenses:[],period_expense_loading:!1,period_expense_error:!1,periodexpenses:[]},uu=r.a.createContext(),pu=function(e){var t=e.children,a=Object(n.useReducer)(lu,du),r=Object(w.a)(a,2),i=r[0],c=r[1],s=function(){var e=Object(P.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Dt}),e.prev=1,e.next=4,fetch(Q);case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,c({type:Nt,payload:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c({type:It});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Dt}),e.prev=1,e.next=4,me.a.get("".concat(Q,"?fi=").concat(t));case 4:a=e.sent,n=a.data,c({type:Nt,payload:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),c({type:It});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Dt}),e.prev=1,e.next=4,me.a.get("".concat(Q,"?fv=").concat(t));case 4:a=e.sent,n=a.data,c({type:Nt,payload:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),c({type:It});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(P.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Pt}),e.prev=1,e.next=4,fetch(K);case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,c({type:Tt,payload:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c({type:At});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(P.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:kt}),e.prev=1,e.next=4,me.a.get("".concat(K));case 4:t=e.sent,a=t.data,c({type:Lt,payload:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),c({type:Rt});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{c({type:qt,payload:t})}catch(a){c(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Bt}),e.prev=1,e.next=4,me.a.get("".concat(Q,"?id=").concat(t));case 4:a=e.sent,n=a.data,c({type:Ft,payload:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),c({type:Gt});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.id,t.name,t.date,t.purchased_date,t.remark,t.amount,t.status,c({type:Yt}),e.prev=2,e.next=5,fetch(Q,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 5:c({type:Jt}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:Xt});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),c({type:zt}),e.prev=2,e.next=5,fetch(Q,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 5:c({type:Mt}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:Ht});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Ut}),e.prev=1,e.next=4,fetch(Q,{method:"DELETE",body:JSON.stringify({id:t})});case 4:c({type:Vt}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c({type:Wt});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(uu.Provider,{value:Object(D.a)(Object(D.a)({},i),{},{loadExpenses:s,loadPendingExpenses:o,loadEmpExpenses:l,loadUnpaidExpenses:d,loadPeriodExpenses:u,addExpense:h,updateExpense:f,deleteExpense:O,getSingleExpense:b,setEditExpenseID:p,setIsExpenseEditingOn:function(){c({type:Qt})},setIsExpenseEditingOff:function(){c({type:Kt})},resetSingleExpense:function(){c({type:$t})}}),children:t})},ju=function(){return Object(n.useContext)(uu)};function bu(e,t){return e.filter((function(e){return e.status===t})).map((function(e){return Object(D.a)({},e)}))}function hu(){return(hu=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("".concat(Q));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fu(e){var t=Object(n.useState)("all"),a=Object(w.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(""),s=Object(w.a)(c,2),o=s[0],l=s[1],d=Object(n.useCallback)((function(e){return function(e,t){return e.filter((function(e){return e.empid===t})).map((function(e){return Object(D.a)({},e)}))}(e,r)}),[r]),u=Object(J.a)(ge.expenses,(function(){return function(e){return hu.apply(this,arguments)}(o)}),{select:"all"!==r?d:void 0}).data;return{expenses:void 0===u?[]:u,filter:r,setFilter:i,setExpenseId:l}}function Ou(){return(Ou=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Q,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xu(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return Ou.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("expenses"),a({title:"Expense record being added!",status:"success"})}}).mutate}function mu(){return(mu=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Q,{method:"DELETE",body:JSON.stringify({id:t})});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gu(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return mu.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("expenses"),a({title:"Expense record being deleted!",status:"warning"})}}).mutate}function yu(){return(yu=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),e.next=3,fetch(Q,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vu(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return yu.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("expenses"),a({title:"Expense record being updated!",status:"success"})}}).mutate}var _u=Object(E.a)((function(e){return{button:{margin:e.spacing(1)},leftIcon:{marginRight:e.spacing(1)},rightIcon:{marginLeft:e.spacing(1)},iconSmall:{fontSize:20},root:{padding:e.spacing(3,2)},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:400}}})),wu=function(e){var t=e.formdata,a=(e.setFormdata,e.handleDialogClose),n=_u(),r=Y(),i=fu(),c=(i.expenses,i.filter,i.setFilter,i.setExpenseId,vu()),s=xu(),o=Object(h.d)(_e),l=Object(w.a)(o,2),d=l[0],u=(l[1],ju()),p=u.isExpenseEditing,b=u.editExpenseID,f=Object(M.b)(),O=f.handleSubmit,x=f.control;return Object(j.jsx)("div",{children:Object(j.jsxs)(_o.a,{className:n.root,children:[Object(j.jsx)(cs.a,{variant:"h5",component:"h3",children:"EXPENSES CLAIM FORM"}),Object(j.jsx)(cs.a,{component:"p",children:"Expense Claim Application"}),Object(j.jsxs)("form",{onSubmit:O((function(e,t){t.preventDefault(),p?c(Object(D.a)({id:b},e)):(s(Object(D.a)({empid:d.loginUserId},e)),function(e){var t=e.date,a={to_name:d.loginUser,to_email:d.loginEmail,message:"Your expenses claim application dated on ".concat(t," has been successfully submitted for approval"),cc_to:d.reporting_email};ms.a("service_ffxn6vb","template_1y8odlq",a,"user_oLsKrJJYgmAa4uBnRGkuq").then((function(e){console.log(e.status,e.text),r({title:"Email has sent successfully to ".concat(a.to_email,"!"),status:"success"})}),(function(e){console.log(e),r({title:"Email has fail to send to ".concat(a.to_email,"!"),status:"warning"})}))}(e)),a()})),children:[Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"name",control:x,defaultValue:d.loginUser,render:function(e){var t=e.field,a=t.onChange,r=(t.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Name",id:"margin-normal1",name:"name",defaultValue:d.loginUser,className:n.textField,onChange:a,error:!!r,helperText:r?r.message:null,InputProps:{readOnly:!0}})}})}),Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"date",control:x,defaultValue:t.date,render:function(e){var t=e.field,a=t.onChange,r=t.value,i=e.fieldState.error;return Object(j.jsx)(Do.a,{label:"Date",type:"date",id:"margin-normal2",name:"formdata.date",value:r,className:n.textField,onChange:a,error:!!i,helperText:i?i.message:null,InputLabelProps:{shrink:!0}})},rules:{required:"From Date is required"}})}),Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"purchased_from",control:x,defaultValue:t.purchased_from,render:function(e){var a=e.field,r=a.onChange,i=(a.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Purchased From",id:"margin-normal3",name:"purchased_from",defaultValue:t.purchased_from,className:n.textField,onChange:r,error:!!i,helperText:i?i.message:null})}})}),Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"description",control:x,defaultValue:t.description,render:function(e){var a=e.field,r=a.onChange,i=(a.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Description",id:"margin-normal4",name:"description",defaultValue:t.description,className:n.textField,onChange:r,error:!!i,helperText:i?i.message:null})}})}),Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"amount",control:x,defaultValue:t.amount,render:function(e){var a=e.field,r=a.onChange,i=(a.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Amount",type:"number",id:"standard-number1",name:"amount",defaultValue:t.amount,className:n.textField,onChange:function(e){r(parseInt(e.target.value,10))},error:!!i,helperText:i?i.message:null})}})}),Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"remark",control:x,defaultValue:t.remark,render:function(e){var a=e.field,r=a.onChange,i=(a.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Remark",id:"margin-normal5",name:"remark",defaultValue:t.remark,className:n.textField,onChange:r,error:!!i,helperText:i?i.message:null})}})}),Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"status",control:x,defaultValue:"Pending",render:function(e){var t=e.field,a=t.onChange,r=(t.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Status",id:"margin-normal6",name:"status",defaultValue:"Pending",className:n.textField,onChange:a,error:!!r,helperText:r?r.message:null,InputProps:{readOnly:!0}})}})}),Object(j.jsx)("div",{children:Object(j.jsxs)(Eo.a,{type:"submit",variant:"contained",color:"primary",className:n.button,children:["Save ",Object(j.jsx)(Co.a,{className:n.rightIcon,children:"send"})]})})]})]})})},Su=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(9),paddingBottom:e.spacing(4),border:"1px solid"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%"},fixedHeight:{height:800}}})),Eu=(Object(E.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(yo.i)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),function(e){e.title;var t=Su(),a=Object(as.a)(t.paper,t.fixedHeight);return Object(j.jsxs)("div",{children:[Object(j.jsx)(y.a,{}),Object(j.jsx)("div",{className:t.appBarSpacer,children:Object(j.jsx)(S.a,{maxWidth:"lg",className:t.container,children:Object(j.jsx)(vo.a,{container:!0,spacing:3,children:Object(j.jsx)(vo.a,{item:!0,xs:12,children:Object(j.jsxs)(_o.a,{className:a,children:[Object(j.jsx)(es.b,{to:"/expenses",children:Object(j.jsx)("div",{children:Object(j.jsx)(So.a,{fontSize:"large",color:"primary"})})}),Object(j.jsx)("div",{children:Object(j.jsx)(wu,{})})]})})})})})]})}),Cu=function(e,t){if(t.type===kr)return Object(D.a)(Object(D.a)({},e),{},{dailyallowance_period:t.payload});if(t.type===Ir)return Object(D.a)(Object(D.a)({},e),{},{editDailyAllowanceID:t.payload});if(t.type===Pr)return Object(D.a)(Object(D.a)({},e),{},{isDailyAllowanceEditing:!0});if(t.type===Tr)return Object(D.a)(Object(D.a)({},e),{},{isDailyAllowanceEditing:!1});if(t.type===Ar)return Object(D.a)(Object(D.a)({},e),{},{single_dailyallowance:{}});if(t.type===lr)return Object(D.a)(Object(D.a)({},e),{},{dailyallowances_loading:!0});if(t.type===dr)return Object(D.a)(Object(D.a)({},e),{},{dailyallowances_loading:!1,dailyallowances:t.payload});if(t.type===ur)return Object(D.a)(Object(D.a)({},e),{},{dailyallowances_loading:!1,dailyallowances_error:!0});if(t.type===pr)return Object(D.a)(Object(D.a)({},e),{},{unpaid_dailyallows_loading:!0});if(t.type===jr)return Object(D.a)(Object(D.a)({},e),{},{unpaid_dailyallows_loading:!1,unpaiddailyallows:t.payload});if(t.type===br)return Object(D.a)(Object(D.a)({},e),{},{unpaid_dailyallows_loading:!1,unpaid_dailyallows_error:!0});if(t.type===Cr)return Object(D.a)(Object(D.a)({},e),{},{add_dailyallowance_loading:!0});if(t.type===Dr)return Object(D.a)(Object(D.a)({},e),{},{add_dailyallowance_loading:!1,dailyallowances:t.payload});if(t.type===Nr)return Object(D.a)(Object(D.a)({},e),{},{add_dailyallowance_loading:!1,add_dailyallowance_error:!0});if(t.type===wr)return Object(D.a)(Object(D.a)({},e),{},{update_dailyallowance_loading:!0});if(t.type===Sr)return Object(D.a)(Object(D.a)({},e),{},{update_dailyallowances_loading:!1,single_dailyallowance:t.payload});if(t.type===Er)return Object(D.a)(Object(D.a)({},e),{},{update_dailyallowance_loading:!1,update_dailyallowance_error:!0});if(t.type===yr)return Object(D.a)(Object(D.a)({},e),{},{delete_dailyallowance_loading:!0,delete_dailyallowance_error:!1});if(t.type===vr)return Object(D.a)(Object(D.a)({},e),{},{delete_dailyallowance_loading:!1,delete_dailyallowance_error:!1});if(t.type===_r)return Object(D.a)(Object(D.a)({},e),{},{delete_dailyallowance_loading:!1,delete_dailyallowance_error:!0});if(t.type===hr)return Object(D.a)(Object(D.a)({},e),{},{single_dailyallowance_loading:!0,single_dailyallowance_error:!1});if(t.type===fr)return Object(D.a)(Object(D.a)({},e),{},{single_dailyallowance_loading:!1,single_dailyallowance:t.payload});if(t.type===Or)return Object(D.a)(Object(D.a)({},e),{},{single_dailyallowance_loading:!1,single_dailyallowance_error:!0});if(t.type===xr)return Object(D.a)(Object(D.a)({},e),{},{singlebatch_dailyallowance_loading:!0,singlebatch_dailyallowance_error:!1});if(t.type===mr)return Object(D.a)(Object(D.a)({},e),{},{singlebatch_dailyallowance_loading:!1,singlebatch_dailyallowance:t.payload});if(t.type===gr)return Object(D.a)(Object(D.a)({},e),{},{singlebatch_dailyallowance_loading:!1,singlebatch_dailyallowance_error:!0});if(t.type===ai)return Object(D.a)(Object(D.a)({},e),{},{dailyallowsdetl_period:t.payload});if(t.type===Lr)return Object(D.a)(Object(D.a)({},e),{},{dailyallowsdetls_loading:!0});if(t.type===Rr)return Object(D.a)(Object(D.a)({},e),{},{dailyallowsdetls_loading:!1,dailyallowsdetls:t.payload});if(t.type===Br)return Object(D.a)(Object(D.a)({},e),{},{dailyallowsdetls_loading:!1,dailyallowsdetls_error:!0});if(t.type===Zr)return Object(D.a)(Object(D.a)({},e),{},{add_dailyallowsdetl_loading:!0});if(t.type===ei)return Object(D.a)(Object(D.a)({},e),{},{add_dailyallowsdetl_loading:!1,dailyallowsdetls:t.payload});if(t.type===ti)return Object(D.a)(Object(D.a)({},e),{},{add_dailyallowsdetl_loading:!1,add_dailyallowsdetl_error:!0});if(t.type===Qr)return Object(D.a)(Object(D.a)({},e),{},{update_dailyallowsdetl_loading:!0});if(t.type===Kr)return Object(D.a)(Object(D.a)({},e),{},{update_dailyallowsdetl_loading:!1,single_dailyallowsdetl:t.payload});if(t.type===$r)return Object(D.a)(Object(D.a)({},e),{},{update_dailyallowsdetl_loading:!1,update_dailyallowsdetl_error:!0});if(t.type===Jr)return Object(D.a)(Object(D.a)({},e),{},{delete_dailyallowsdetl_loading:!0,delete_dailyallowsdetl_error:!1});if(t.type===Xr)return Object(D.a)(Object(D.a)({},e),{},{delete_dailyallowsdetl_loading:!1,delete_dailyallowsdetl_error:!1});if(t.type===qr)return Object(D.a)(Object(D.a)({},e),{},{delete_dailyallowsdetl_loading:!1,delete_dailyallowsdetl_error:!0});if(t.type===Fr)return Object(D.a)(Object(D.a)({},e),{},{single_dailyallowsdetl_loading:!0,single_dailyallowsdetl_error:!1});if(t.type===Gr)return Object(D.a)(Object(D.a)({},e),{},{single_dailyallowsdetl_loading:!1,single_dailyallowsdetl:t.payload});if(t.type===Ur)return Object(D.a)(Object(D.a)({},e),{},{single_dailyallowsdetl_loading:!1,single_dailyallowsdetl_error:!0});if(t.type===Vr)return Object(D.a)(Object(D.a)({},e),{},{pending_dailyallowsdetl_loading:!0,pending_dailyallowsdetl_error:!1});if(t.type===Wr)return Object(D.a)(Object(D.a)({},e),{},{pending_dailyallowsdetl_loading:!1,pending_dailyallowsdetl:t.payload});if(t.type===zr)return Object(D.a)(Object(D.a)({},e),{},{pending_dailyallowsdetl_loading:!1,pending_dailyallowsdetl_error:!0});if(t.type===Mr)return Object(D.a)(Object(D.a)({},e),{},{singlebatch_dailyallowsdetl_loading:!0,singlebatch_dailyallowsdetl_error:!1});if(t.type===Hr)return console.log("reducer",t.payload),Object(D.a)(Object(D.a)({},e),{},{singlebatch_dailyallowsdetl_loading:!1,singlebatch_dailyallowsdetl:t.payload});if(t.type===Yr)return Object(D.a)(Object(D.a)({},e),{},{singlebatch_dailyallowsdetl_loading:!1,singlebatch_dailyallowsdetl_error:!0});throw new Error('No Matching "'.concat(t.type,'" - action type'))},Du={isDailyAllowanceEditing:!1,alertDailyAllowance:{show:!1,msg:"",type:""},editDailyAllowanceID:null,dailyallowances_loading:!1,dailyallowances_error:!1,dailyallowances:[],single_dailyallowance_loading:!1,single_dailyallowance_error:!1,single_dailyallowance:{},singlebatch_dailyallowance_loading:!1,singlebatch_dailyallowance_error:!1,singlebatch_dailyallowances:{},delete_dailyallowance_loading:!1,delete_dailyallowance_error:!1,update_dailyallowance_loading:!1,update_dailyallowance_error:!1,add_dailyallowance_loading:!1,add_dailyallowance_error:!1,dailyallowance_period:"",isDailyAllowsDetlEditing:!1,alertDailyAllowsDetl:{show:!1,msg:"",type:""},editDailyAllowsDetlID:null,dailyallowsdetls_loading:!1,dailyallowsdetls_error:!1,dailyallowsdetls:[],single_dailyallowsdetl_loading:!1,single_dailyallowsdetl_error:!1,single_dailyallowsdetl:{},pending_dailyallowsdetl_loading:!1,pending_dailyallowsdetl_error:!1,pending_dailyallowsdetl:{},singlebatch_dailyallowsdetl:{},singlebatch_dailyallowsdetl_loading:!1,singlebatch_dailyallowsdetl_error:!1,delete_dailyallowsdetl_loading:!1,delete_dailyallowsdetl_error:!1,update_dailyallowsdetl_loading:!1,update_dailyallowsdetl_error:!1,add_dailyallowsdetl_loading:!1,add_dailyallowsdetl_error:!1,unpaid_dailyallows_loading:!1,unpaid_dailyallows_error:!1,unpaiddailyallows:[],dailyallowsdetl_period:""},Nu=r.a.createContext(),Iu=function(e){var t=e.children,a=Object(n.useReducer)(Cu,Du),r=Object(w.a)(a,2),i=r[0],c=r[1],s=function(){var e=Object(P.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:lr}),e.prev=1,e.next=4,fetch($);case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,c({type:dr,payload:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c({type:ur});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(P.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:pr}),e.prev=1,e.next=4,fetch("/api/unpaiddailyallows");case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,c({type:jr,payload:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c({type:br});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:lr}),e.prev=1,e.next=4,me.a.get("".concat($,"?fi=").concat(t));case 4:a=e.sent,n=a.data,c({type:dr,payload:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),c({type:ur});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:lr}),e.prev=1,e.next=4,me.a.get("".concat($,"?em=").concat(t));case 4:a=e.sent,n=a.data,c({type:dr,payload:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),c({type:ur});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{c({type:kr,payload:t})}catch(a){c(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{c({type:Ir,payload:t})}catch(a){c(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:hr}),e.prev=1,e.next=4,me.a.get("".concat($,"?id=").concat(t));case 4:a=e.sent,n=a.data,c({type:fr,payload:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),c({type:Or});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:xr}),e.prev=1,e.next=4,fetch("".concat($,"?fv=").concat(t));case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,c({type:mr,payload:n}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c({type:gr});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.id,t.name,t.period,t.location,t.manager_name,t.no_of_days,t.amount,t.status,c({type:Cr}),e.prev=2,e.next=5,fetch($,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 5:c({type:Dr}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:Nr});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),c({type:wr}),e.prev=2,e.next=5,fetch($,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 5:c({type:Sr}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:Er});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:yr}),e.prev=1,e.next=4,fetch($,{method:"DELETE",body:JSON.stringify({id:t})});case 4:c({type:vr}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c({type:_r});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(P.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Lr}),e.prev=1,e.next=4,fetch(Z);case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,c({type:Rr,payload:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c({type:Br});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(P.a)(I.a.mark((function e(t,a){var n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Lr}),e.prev=1,e.next=4,me.a.get("".concat(Z,"?fv=").concat(t,"&period=").concat(a));case 4:n=e.sent,r=n.data,c({type:Rr,payload:r}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),c({type:Br});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}(),y=function(){var e=Object(P.a)(I.a.mark((function e(t,a){var n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Vr}),e.prev=1,e.next=4,me.a.get("".concat("/api/pendingdailyallowsdetls"));case 4:n=e.sent,r=n.data,c({type:Wr,payload:r}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),c({type:zr});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}(),v=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{c({type:ai,payload:t})}catch(a){c(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Fr}),e.prev=1,e.next=4,me.a.get("".concat(Z,"?id=").concat(t));case 4:a=e.sent,n=a.data,c({type:Gr,payload:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),c({type:Ur});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(P.a)(I.a.mark((function e(t,a){var n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Mr}),e.prev=1,e.next=4,me.a.get("".concat(Z,"?fv=").concat(t,"&period=").concat(a));case 4:n=e.sent,r=n.data,c({type:Hr,payload:r}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),c({type:Yr});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}(),E=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.id,t.name,t.period,t.location,t.manager_name,t.no_of_days,t.amount,t.status,c({type:Zr}),e.prev=2,e.next=5,fetch(Z,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 5:c({type:ei}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:ti});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),c({type:Qr}),e.prev=2,e.next=5,fetch(Z,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 5:c({type:Kr}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:$r});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Jr}),e.prev=1,e.next=4,fetch(Z,{method:"DELETE",body:JSON.stringify({id:t})});case 4:c({type:Xr}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c({type:qr});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(Nu.Provider,{value:Object(D.a)(Object(D.a)({},i),{},Object(Zc.a)({loadDailyAllowances:s,loadPendingDailyAllowances:l,loadEmpDailyAllowances:d,loadUnpaidDailyAllows:o,addDailyAllowance:f,updateDailyAllowance:O,deleteDailyAllowance:x,getSingleDailyAllowance:b,getSingleBatchDailyAllowance:h,setEditDailyAllowanceID:p,setIsDailyAllowanceEditingOn:function(){c({type:Pr})},setIsDailyAllowanceEditingOff:function(){c({type:Tr})},setDailyAllowancePeriod:u,resetSingleDailyAllowance:function(){c({type:Ar})},loadDailyAllowsDetls:m,loadEmpDailyAllowsDetls:g,loadPendingDailyAllowsDetls:y,addDailyAllowsDetl:E,updateDailyAllowsDetl:C,deleteDailyAllowsDetl:N,getSingleDailyAllowsDetl:_,getSingleBatchDailyAllowsDetl:S,setDailyAllowsDetlPeriod:v},"setDailyAllowsDetlPeriod",v)),children:t})},Pu=function(){return Object(n.useContext)(Nu)},Tu={name:"",period:"",location:"",manager_name:"",status:"Pending",no_of_days:0,amount:0},Au=Object(E.a)((function(e){return{button:{margin:e.spacing(1)},leftIcon:{marginRight:e.spacing(1)},rightIcon:{marginLeft:e.spacing(1)},iconSmall:{fontSize:20},root:{padding:e.spacing(3,2)},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:400}}})),ku=function(){var e=Object(ts.f)(),t=Au(),a=Pu(),r=a.isDailyAllowanceEditing,i=a.single_dailyallowance,c=a.updateDailyAllowance,s=a.addDailyAllowance,o=a.editDailyAllowanceID,l=a.loadDailyAllowances,d=a.single_dailyallowance_loading,u=a.dailyallowance_period,p=Jc(),b=p.loadEmployees,h=p.employees,f=i||Tu,O=f.name,x=f.period,m=f.location,g=f.manager_name,y=f.status,v=f.no_of_days,_=f.amount,w=Object(M.b)(),S=w.handleSubmit,E=w.control;Object(n.useEffect)((function(){b()}),[]);return d?Object(j.jsx)("div",{children:"Loading..."}):Object(j.jsx)("div",{children:Object(j.jsxs)(_o.a,{className:t.root,children:[Object(j.jsx)(cs.a,{variant:"h5",component:"h3",children:"DAILY ALLOWANCES CLAIM FORM"}),Object(j.jsx)(cs.a,{component:"p",children:"Daily Allowances Claim Application"}),Object(j.jsxs)("form",{onSubmit:S((function(t){r?c(Object(D.a)({id:o},t)):s(Object(D.a)({},t)),l(),e.push("/batchdailyallowances")})),children:[Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"name",control:E,defaultValue:O,render:function(e){var a=e.field,n=a.onChange,r=(a.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Name",id:"margin-normal",name:"name",defaultValue:O,className:t.textField,onChange:n,error:!!r,helperText:r?r.message:null,select:!0,children:h.map((function(e){return Object(j.jsx)(No.a,{value:e.name,children:e.name},e.name)}))})},rules:{required:"Name required"}})}),Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"period",control:E,defaultValue:r?x:u,render:function(e){var a=e.field,n=a.onChange,i=(a.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Period",id:"margin-normal",name:"period",defaultValue:r?x:u,className:t.textField,onChange:n,error:!!i,helperText:i?i.message:null,InputProps:{readOnly:!0}})},rules:{required:"Period is required"}})}),Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"location",control:E,defaultValue:m,render:function(e){var a=e.field,n=a.onChange,r=(a.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Location",id:"margin-normal",name:"location",defaultValue:m,className:t.textField,onChange:n,error:!!r,helperText:r?r.message:null})},rules:{required:"Purchased Date is required"}})}),Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"manager_name",control:E,defaultValue:g,render:function(e){var a=e.field,n=a.onChange,r=(a.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Manager Name",id:"margin-normal",name:"manager_name",defaultValue:g,className:t.textField,onChange:n,error:!!r,helperText:r?r.message:null})}})}),Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"no_of_days",control:E,defaultValue:v,render:function(e){var a=e.field,n=a.onChange,r=(a.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"No Of Days",type:"number",id:"standard-number",name:"no_of_days",defaultValue:v,className:t.textField,onChange:function(e){n(parseInt(e.target.value,10))},error:!!r,helperText:r?r.message:null})}})}),Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"amount",control:E,defaultValue:_,render:function(e){var a=e.field,n=a.onChange,r=(a.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Amount",type:"number",id:"standard-number",name:"amount",defaultValue:_,className:t.textField,onChange:function(e){n(parseInt(e.target.value,10))},error:!!r,helperText:r?r.message:null})}})}),Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"status",control:E,defaultValue:"Pending",render:function(e){var a=e.field,n=a.onChange,r=(a.value,e.fieldState.error);return Object(j.jsxs)(Do.a,{label:"Status",id:"margin-normal",name:"status",defaultValue:y,className:t.textField,onChange:n,error:!!r,helperText:r?r.message:null,select:!0,children:[Object(j.jsx)(No.a,{value:"Pending",children:"Pending"}),Object(j.jsx)(No.a,{value:"Cancel",children:"Cancel"}),Object(j.jsx)(No.a,{value:"Approved",children:"Approved"}),Object(j.jsx)(No.a,{value:"Rejected",children:"Rejected"})]})}})}),Object(j.jsx)("div",{children:Object(j.jsxs)(Eo.a,{type:"submit",variant:"contained",color:"primary",className:t.button,children:["Submit ",Object(j.jsx)(Co.a,{className:t.rightIcon,children:"send"})]})})]})]})})},Lu=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(9),paddingBottom:e.spacing(4),border:"1px solid"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%"},fixedHeight:{height:800}}})),Ru=(Object(E.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(yo.i)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),function(e){e.title;var t=Lu(),a=Object(as.a)(t.paper,t.fixedHeight);return Object(j.jsxs)("div",{children:[Object(j.jsx)(y.a,{}),Object(j.jsx)("div",{className:t.appBarSpacer,children:Object(j.jsx)(S.a,{maxWidth:"lg",className:t.container,children:Object(j.jsx)(vo.a,{container:!0,spacing:3,children:Object(j.jsx)(vo.a,{item:!0,xs:12,children:Object(j.jsxs)(_o.a,{className:a,children:[Object(j.jsx)(es.b,{to:"/batchdailyallowances",children:Object(j.jsx)("div",{children:Object(j.jsx)(So.a,{fontSize:"large",color:"primary"})})}),Object(j.jsx)("div",{children:Object(j.jsx)(ku,{})})]})})})})})]})});Object(h.c)({key:"departmentsSelector",get:function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.get,e.prev=1,e.next=4,fetch(ce);case 4:return a=e.sent,e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",n);case 11:throw e.prev=11,e.t0=e.catch(1),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()}),Object(h.c)({key:"employeesSelector",get:function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.get,e.prev=1,e.next=4,fetch(X);case 4:return a=e.sent,e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",n);case 11:throw e.prev=11,e.t0=e.catch(1),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()}),Object(h.c)({key:"dailyallowancesSelector",get:function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n,r,i,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.get,e.prev=1,n=a(Te),e.next=5,me.a.get("".concat($,"?fv=").concat(n));case 5:return r=e.sent,i=r.data,e.next=9,i;case 9:return c=e.sent,e.abrupt("return",c);case 13:throw e.prev=13,e.t0=e.catch(1),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}()}),Object(h.c)({key:"dailyallowsDetlsSelector",get:function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n,r,i,c,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.get,e.prev=1,n=a(Te),r=a(Ae),e.next=6,me.a.get("".concat(Z,"?fv=").concat(r,"&period=").concat(n));case 6:return i=e.sent,c=i.data,e.next=10,c;case 10:return s=e.sent,e.abrupt("return",s);case 14:throw e.prev=14,e.t0=e.catch(1),e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}()});function Bu(e,t){return e.filter((function(e){return e.empid===t})).map((function(e){return Object(D.a)({},e)}))}function Fu(){return(Fu=Object(P.a)(I.a.mark((function e(t,a){var n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("".concat(Z,"?fv=").concat(t,"&pe=").concat(a));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gu(e){var t=Object(n.useState)("all"),a=Object(w.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(""),s=Object(w.a)(c,2),o=s[0],l=s[1],d=Object(n.useState)(""),u=Object(w.a)(d,2),p=u[0],j=u[1],b=Object(n.useCallback)((function(e){return Bu(e,r)}),[r]),h=Object(J.a)([ge.dailyallowsdetls,o,p],(function(){return function(e,t){return Fu.apply(this,arguments)}(o,p)}),{select:"all"!==r?b:void 0}),f=h.data,O=void 0===f?[]:f;return{isLoading:h.isLoading,dailyallowsdetls:O,dailyAllowsDetlsfilter:r,setDailyAllowsDetlsFilter:i,setDailyAllowsDetlsId:l,setDailyAllowsDetlsPeriod:j}}function Uu(e,t){return e.filter((function(e){return e.empid===t})).map((function(e){return Object(D.a)({},e)}))}function Vu(){return(Vu=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("".concat($,"?em=").concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wu(e){var t=Object(n.useState)("all"),a=Object(w.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(""),s=Object(w.a)(c,2),o=s[0],l=s[1],d=Object(n.useCallback)((function(e){return Uu(e,r)}),[r]),u=Object(J.a)([ge.dailyallows,o],(function(){return function(e){return Vu.apply(this,arguments)}(o)}),{select:"all"!==r?d:void 0}).data;return{dailyallows:void 0===u?[]:u,filter:r,setFilter:i,dailyAllowsId:o,setDailyAllowsId:l}}var zu=[{title:"Date",field:"date",type:"date",dateSetting:{locale:"en-GB"},cellStyle:{width:120,maxWidth:120},editComponent:function(e){return Object(j.jsx)(Do.a,{defaultValue:e.value||null,onChange:function(t){return e.onChange(t.target.value)},type:"date"})}},{title:"District",field:"district"},{title:"Operation Type",field:"typeoperation"},{title:"Client",field:"client"},{title:"Location/Rig",field:"location"},{title:"Ticket No/Job No",field:"jobno"},{title:"Crew Operation",field:"crewoperation"},{title:"Job Bonus",field:"jobbonus",type:"currency",cellStyle:{width:8,maxWidth:8},headerStyle:{width:8,maxWidth:8}},{title:"Per Diem",field:"perdiem",type:"currency",cellStyle:{width:8,maxWidth:8},headerStyle:{width:8,maxWidth:8}}];function Mu(){Object(ts.f)();var e=Hu(),t=Object(h.d)(_e),a=Object(w.a)(t,2),r=(a[0],a[1],Object(h.e)(Te)),i=Object(h.e)(Ae),c=Wu(),s=(c.dailyallows,c.dailyAllowsId,c.setDailyAllowsId),o=l(),l=o.useDailyAllowsDetlsBatch,d=o.setDailyAllowsDetlsId,u=o.setDailyAllowsDetlsPeriod,p=Pu(),b=p.dailyallowsdetls;p.addDailyAllowsDetl,p.dailyallowsdetls_loading,p.updateDailyAllowsDetl,p.deleteDailyAllowsDetl,p.getSingleBatchDailyAllowsDetl,p.singlebatch_dailyallowsdetl_loading,p.dailyallowance_period,p.single_dailyallowance,p.editDailyAllowanceID;return Object(n.useEffect)((function(){s(i),u(r),d(i)}),[r,i]),Object(j.jsx)("div",{className:e.root,children:Object(j.jsx)("div",{style:{maxWidth:"75%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:zu,data:b,title:"Site Allowances Details",editable:{onRowAdd:function(e){return new Promise((function(e,t){}))},onRowUpdate:function(e,t){return new Promise((function(a,n){setTimeout((function(){Object(dd.a)(b)[t.tableData.id]=e,a()}),1e3)}))}},options:{filtering:!0,headerStyle:{backgroundColor:"orange",color:"primary"},showTitle:!0},components:{Toolbar:function(t){return Object(j.jsxs)("div",{children:[Object(j.jsx)(Qo.MTableToolbar,Object(D.a)({},t)),Object(j.jsx)("div",{style:{padding:"5px 10px"},children:Object(j.jsxs)(Eo.a,{type:"submit",variant:"contained",color:"secondary",className:e.button,children:["Update ",Object(j.jsx)(Co.a,{className:e.rightIcon,children:"send"})]})})]})}}})})})}var Hu=Object(E.a)((function(e){return{root:{padding:0,width:1500}}})),Yu=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(9),paddingBottom:e.spacing(4),border:"1px solid"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%"},fixedHeight:{height:800}}})),Ju=(Object(E.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(yo.i)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),function(e){e.title;var t=Yu(),a=Object(as.a)(t.paper,t.fixedHeight);return Object(j.jsxs)("div",{children:[Object(j.jsx)(y.a,{}),Object(j.jsx)("div",{className:t.appBarSpacer,children:Object(j.jsx)(S.a,{maxWidth:"lg",className:t.container,children:Object(j.jsx)(vo.a,{container:!0,spacing:3,children:Object(j.jsx)(vo.a,{item:!0,xs:12,children:Object(j.jsxs)(_o.a,{className:a,children:[Object(j.jsx)(es.b,{to:"/batchdailyallowances",children:Object(j.jsx)("div",{children:Object(j.jsx)(So.a,{fontSize:"large",color:"primary"})})}),Object(j.jsx)("div",{children:Object(j.jsx)(Mu,{})})]})})})})})]})}),Xu=a(939),qu=a(924),Qu=a(196),Ku=function(e){var t=e.isOpen,a=e.onClose,r=e.onConfirm,i=e.title,c=e.children,s=Object(n.useRef)(null);return Object(j.jsx)(qu.a,{isOpen:t,cancelRef:s,onClose:a,conConfirm:r,blockScrollOnMount:!0,children:Object(j.jsx)(Qu.g,{children:Object(j.jsxs)(qu.b,{children:[Object(j.jsx)(Qu.f,{fontFamily:"roboto",fontWeight:"bold",fontSize:"1.5rem",children:i}),Object(j.jsx)(Qu.b,{fontFamily:"roboto",fontSize:"1.25rem",children:c}),Object(j.jsxs)(Qu.e,{children:[Object(j.jsx)(z.a,{w:"100px",py:"0.5rem",fontFamily:"cursive",onClick:a,children:"Cancel"}),Object(j.jsx)(z.a,{colorScheme:"red",py:"0.5rem",w:"100px",ml:3,fontFamily:"cursive",onClick:function(){a(),r()},children:"Confirm"})]})]})})})},$u=a(62),Zu=a.n($u),ep=a(46),tp=a.n(ep),ap=a(64),np=a.n(ap),rp=a(65),ip=a.n(rp),cp=a(953),sp=a(467);function op(){return(op=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch($,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lp(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return op.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("dailyallows"),a({title:"Site Allowance record being added!",status:"success"})}}).mutate}function dp(){return(dp=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("".concat(Z,"?em=").concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function up(e){var t=Object(n.useState)("all"),a=Object(w.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(""),s=Object(w.a)(c,2),o=s[0],l=s[1],d=Object(n.useCallback)((function(e){return Bu(e,r)}),[r]),u=Object(J.a)(ge.dailyallowsdetls,(function(){return function(e){return dp.apply(this,arguments)}(o)}),{select:"all"!==r?d:void 0}).data;return{dailyallowsdetls:void 0===u?[]:u,dailyAllowsDetlsfilter:r,setDailyAllowsDetlsFilter:i,setDailyAllowsDetlsId:l}}function pp(){return(pp=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Z,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jp(e){var t=Object(o.b)();Y();return Object(Ro.a)((function(e){return function(e){return pp.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("dailyallowsdetls")}}).mutate}var bp=Object(E.a)((function(e){return{root:{flexGrow:1},button:{margin:e.spacing(1)},container:{margin:0,padding:0,width:"80vw",display:"grid",gridTemplateColumns:"repeat(auto-fill,250px)",gridAutoRows:"10px",position:"absolute",left:"50%",transform:"translateX(-50%)",justifyContent:"center",backgroundColor:"primary"},fixedHeight:{height:800},paper:{padding:e.spacing(0),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%",color:"primary",bcakgroundColor:"black"},card:{backgroundColor:"black"},section:{width:"95vw",margin:"5rem auto",maxWidth:"var(--max-width)"},underline:{width:"5rem",height:"0.25rem",marginBottom:"1.25rem",background:"var(--clr-primary-5)",marginLeft:"auto",marginRight:"auto"},title:{marginbottom:"4rem",textAlign:"center"},jobscenter:{width:"80vw",margin:"0 auto",maxWidth:"var(--max-width)",flexDirection:"row"},btncontainer:{display:"flex",flexDirection:"row",justifyContent:"center",marginBottom:"4rem",flexWrap:"wrap"},jobbtn:{background:"transparent",borderColor:"transparent",textTransform:"capitalize",fontSize:"1.25rem",letterSpacing:"var(--spacing)",margin:"0 0.5rem",transition:"var(--transition)",cursor:"pointer",padding:"0.25rem 0",lineHeight:"1",outlineColor:"var(--clr-primary-10)","&:hover":{color:"var(--clr-primary-5)",boxShadow:"0 2px var(--clr-primary-5)"}},activebtn:{color:"var(--clr-primary-5)",boxShadow:"0 2px var(--clr-primary-5)"},jobinfo:{fontWeight:"400"},rightIcon:{marginLeft:e.spacing(1)},formLabel:{fontSize:12,textAlign:"left",marginLeft:8,marginTop:8},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200}}})),hp=function(e){var t=e.handleDialogClose,a=((new Date).toLocaleString("en-us",{month:"long"}),bp()),r=Object(as.a)(a.paper,a.fixedHeight),i=Y(),c=Wu().dailyallows,s=(up().dailyallowsdetls,lp()),o=jp(),l=Object(h.d)(Be),d=Object(w.a)(l,2),u=d[0],p=d[1],b=Object(h.d)(_e),f=Object(w.a)(b,2),O=f[0],x=(f[1],Object(n.useState)("")),m=Object(w.a)(x,2),g=(m[0],m[1],Object(n.useState)(!1)),y=Object(w.a)(g,2),v=(y[0],y[1],Object(n.useState)(!1)),_=Object(w.a)(v,2),S=_[0],E=_[1];Object(n.useEffect)((function(){p(Object(D.a)(Object(D.a)({},u),{},{empid:O.loginUserId,name:O.loginUser,jobbonus:O.siteallows_fee,perdiem:O.perdiem_fee,manager:O.reporting_to,client:""}))}),[]);var C=function(){var e=u.fromdate.substring(0,4)+"-"+u.fromdate.substring(5,7);if(function(e){return c.some((function(t){return t.period===e&&t.empid===O.loginUserId}))}(e))return i({title:"Site Allowance period is existed!",status:"warning"}),null;for(var a=Object(cp.a)(new Date(u.todate),new Date(u.fromdate)),n=0,r=0,l=0,d=0;d<=a;d++){r+=Number(u.jobbonus),l+=Number(u.perdiem),n=n+Number(u.jobbonus)+Number(u.perdiem);var p=Object(sp.a)(new Date(u.fromdate),d);o({empid:O.loginUserId,name:O.loginUser,period:e,date:p,district:u.district,typeoperation:u.typeoperation,client:u.client,location:u.location,jobno:u.jobno,crewoperation:u.crewoperation,jobbonus:u.jobbonus,perdiem:u.perdiem,status:"Pending"})}s({period:e,location:u.location,manager:u.manager,name:O.loginUser,empid:O.loginUserId,status:"Pending",no_of_days:a+1,amount:n,totaljobbonus:r,totalperdiem:l}),t()},N=function(e){e.preventDefault();var t=e.target,a=t.name,n=t.type,r=t.value,i="number"===n?parseFloat(r):r;p(Object(D.a)(Object(D.a)({},u),{},Object(Zc.a)({},a,i)))};return Object(j.jsx)(_o.a,{className:r,style:{backgroundColor:"secondary"},children:Object(j.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault();var t=u.fromdate.substring(0,4)+"-"+u.fromdate.substring(5,7);p(Object(D.a)(Object(D.a)({},u),{},{period:t})),C()}(e)},children:[Object(j.jsx)(vo.a,{container:!0,spacing:0,direction:"row",alignItems:"center",justify:"center",style:{border:"1px solid white"},children:Object(j.jsx)(F.a,{as:"h2",size:"lg",color:"blue",p:5,children:"Build Site Allowances"})}),Object(j.jsx)(vo.a,{container:!0,spacing:0,direction:"row",alignItems:"center",justify:"center",style:{border:"1px solid white"},children:Object(j.jsx)("div",{children:Object(j.jsxs)(vo.a,{item:!0,sm:12,style:{border:"1px solid white"},align:"left",children:[Object(j.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(j.jsx)(Do.a,{label:"From Date",variant:"filled",required:!0,style:{width:"100%"},name:"fromdate",value:u.fromdate,type:"date",className:a.textField,onChange:function(e){return N(e)},InputLabelProps:{shrink:!0}})}),Object(j.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(j.jsx)(Do.a,{label:"To Date",variant:"filled",required:!0,style:{width:"100%"},name:"todate",value:u.todate,type:"date",className:a.textField,onChange:function(e){return N(e)},InputLabelProps:{shrink:!0}})}),Object(j.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(j.jsx)(Do.a,{label:"Manager",variant:"filled",required:!0,style:{width:"100%"},name:"manager",value:u.manager,className:a.textField,onChange:function(e){return N(e)}})}),Object(j.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(j.jsx)(Do.a,{label:"Location/Rig",variant:"filled",required:!0,value:u.location,style:{width:"100%"},name:"location",className:a.textField,onChange:function(e){return N(e)}})}),Object(j.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(j.jsx)(Do.a,{label:"Operation Type",variant:"filled",required:!0,value:u.typeoperation,style:{width:"100%"},name:"typeoperation",className:a.textField,onChange:function(e){return N(e)}})}),Object(j.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(j.jsx)(Do.a,{label:"Client",variant:"filled",required:!0,value:u.client,style:{width:"100%"},name:"client",className:a.textField,onChange:function(e){return N(e)}})}),Object(j.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(j.jsx)(Do.a,{label:"Ticket No/Job No",variant:"filled",required:!0,value:u.jobno,style:{width:"100%"},name:"jobno",className:a.textField,onChange:function(e){return N(e)}})}),Object(j.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(j.jsx)(Do.a,{label:"Operation Role",variant:"filled",required:!0,value:u.creqoperation,style:{width:"100%"},name:"crewoperation",className:a.textField,onChange:function(e){return N(e)}})}),Object(j.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(j.jsx)(Do.a,{label:"Job Bonus",variant:"filled",required:!0,value:u.jobbonus,style:{width:"100%"},name:"jobbonus",type:"number",className:a.textField,onChange:function(e){return N(e)},InputLabelProps:{shrink:!0}}),Object(j.jsx)(Do.a,{label:"Per Diem",variant:"filled",required:!0,value:u.perdiem,style:{width:"100%"},name:"perdiem",type:"number",className:a.textField,onChange:function(e){return N(e)},InputLabelProps:{shrink:!0}})]})]})})}),Object(j.jsxs)(vo.a,{container:!0,spacing:0,direction:"row",alignItems:"center",justify:"center",style:{border:"1px solid white"},children:[Object(j.jsx)("div",{children:Object(j.jsxs)(Eo.a,{type:"submit",variant:"contained",color:"primary",className:a.button,children:["Build ",Object(j.jsx)(Co.a,{className:a.rightIcon,children:"send"})]})}),Object(j.jsx)("div",{children:S&&Object(j.jsx)(Xu.a,{severity:"error",onClose:function(){return E(!1)},children:"Period already existed!"})})]})]})})};function fp(){return(fp=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),e.next=3,fetch(Z,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Op(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return fp.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("dailyallowsdetls"),a({title:"Site Allowance daily details record being updated!",status:"success"})}}).mutate}function xp(){return(xp=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(Z,{method:"DELETE",body:JSON.stringify({id:t})});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mp(e){var t=Object(o.b)();Y();return Object(Ro.a)((function(e){return function(e){return xp.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("dailyallowsdetls")}}).mutate}function gp(){return(gp=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),e.next=3,fetch($,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yp(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return gp.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("dailyallows"),a({title:"Site Allowance record being updated!",status:"success"})}}).mutate}var vp=[{totalamount:0,totalbonus:0,totaldiem:0,totaldays:0}],_p=[{title:"Date",field:"date",type:"date",dateSetting:{locale:"en-GB"},cellStyle:{width:120,maxWidth:120},editComponent:function(e){return Object(j.jsx)(Do.a,{defaultValue:e.value||null,onChange:function(t){return e.onChange(t.target.value)},type:"date"})}},{title:"Operation Type",field:"typeoperation"},{title:"Client",field:"client"},{title:"Location/Rig",field:"location"},{title:"Ticket No/Job No",field:"jobno"},{title:"Operation Role",field:"crewoperation"},{title:"Job Bonus",field:"jobbonus",type:"currency",cellStyle:{width:8,maxWidth:8},headerStyle:{width:8,maxWidth:8}},{title:"Per Diem",field:"perdiem",type:"currency",cellStyle:{width:8,maxWidth:8},headerStyle:{width:8,maxWidth:8}}];function wp(){var e=Object(ts.f)(),t=Y(),a=Sp(),r=(Object(p.a)(),Wu()),i=r.dailyallows,c=(r.dailyAllowsId,r.setDailyAllowsId),s=Gu(),o=s.dailyallowsdetls,l=s.setDailyAllowsDetlsId,d=s.setDailyAllowsDetlsPeriod,u=(s.isLoading,jp(),Op()),b=(mp(),yp()),f=Object(h.d)(_e),O=Object(w.a)(f,2),x=O[0],m=(O[1],Object(h.d)(Pe)),g=Object(w.a)(m,2),y=(g[0],g[1],Object(h.e)(Te)),v=Object(h.e)(Ae),_=Object(h.d)(Fe),S=Object(w.a)(_,2),E=(S[0],S[1],Object(h.d)(Ne)),C=Object(w.a)(E,2),N=C[0],I=(C[1],Object(n.useState)(Ie)),P=Object(w.a)(I,2),T=(P[0],P[1],Object(n.useState)({})),A=Object(w.a)(T,2),k=(A[0],A[1],Object(n.useState)(!1)),L=Object(w.a)(k,2),R=(L[0],L[1],Object(n.useState)(!1)),B=Object(w.a)(R,2),F=(B[0],B[1],Object(n.useState)({initial_totals:vp})),G=Object(w.a)(F,2),U=G[0],V=(G[1],Object(n.useState)(!1)),W=Object(w.a)(V,2),z=W[0],M=W[1],H=Object(n.useState)(!1),J=Object(w.a)(H,2),X=J[0],q=J[1],Q=Object(n.useState)({}),K=Object(w.a)(Q,2);K[0],K[1],Object.values(U).join("");Object(n.useEffect)((function(){c(v),l(v),d(y)}),[v,y]);var $=function(){M(!0)},Z=function(e){if(e){var t=e.filter((function(e){return e.period===y&&e.empid===v})).reduce((function(e,t){return isNaN(t.jobbonus)?e:e+t.jobbonus}),0),a=e.filter((function(e){return e.period===y&&e.empid===v})).reduce((function(e,t){return isNaN(t.perdiem)?e:e+t.perdiem}),0),n=e.filter((function(e){return e.period===y&&e.empid===v})).reduce((function(e,t){return e+(t.jobbonus>0||t.perdiem>0?1:0)}),0),r=t+a,c=i.filter((function(e){return e.period===y&&e.empid===v})).map((function(e){return Object(D.a)({},e)}));console.log("data",c),b({id:c[0].id,no_of_days:n,amount:r,totaljobbonus:t,totalperdiem:a})}};return Object(j.jsxs)("div",{className:a.root,children:[Object(j.jsx)("div",{style:{maxWidth:"75%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:_p,data:o,title:"Daily Allowances Details",editable:{onRowUpdate:function(e,t){return new Promise((function(a,n){setTimeout((function(){var n=Object(dd.a)(o),r=t.tableData.id;n[r]=e,function(e,t){var a=o,n=e.id,r=(e.rec_id,e.tableData,Object(Ge.a)(e,["id","rec_id","tableData"]));u(Object(D.a)({id:n},r)),a[t].jobbonus=e.jobbonus,a[t].perdiem=e.perdiem,Z(a)}(e,r),a()}),1e3)}))}},options:{filtering:!0,selection:!1,pageSize:10,headerStyle:{backgroundColor:"orange",color:"primary"},showTitle:!0},components:{Toolbar:function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)(Qo.MTableToolbar,Object(D.a)({},e)),Object(j.jsxs)("div",{style:{padding:"5px 10px"},children:[Object(j.jsxs)(Eo.a,{type:"submit",variant:"contained",color:"secondary",className:a.button,onClick:function(e){return function(e){e.preventDefault(),$()}(e)},children:["Submit ",Object(j.jsx)(Co.a,{className:a.rightIcon,children:"send"})]}),Object(j.jsx)("div",{children:Object(j.jsx)(vo.a,{container:!0,spacing:0,direction:"row",style:{border:"1px solid white"},children:Object(j.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(j.jsx)(Do.a,{label:"Total Job Bonus",variant:"filled",style:{width:"100%"},name:"totalbonus",value:i&&i.filter((function(e){return e.period===y&&e.empid===v})).map((function(e){return e.totaljobbonus})),type:"currency",className:a.textField,InputLabelProps:{shrink:!0}}),Object(j.jsx)(Do.a,{label:"Total Diem",variant:"filled",style:{width:"100%"},name:"totaldiem",value:i&&i.filter((function(e){return e.period===y&&e.empid===v})).map((function(e){return e.totalperdiem})),type:"currency",className:a.textField,InputLabelProps:{shrink:!0}}),Object(j.jsx)(Do.a,{label:"No of Days",variant:"filled",style:{width:"100%"},name:"totaldays",value:i&&i.filter((function(e){return e.period===y&&e.empid===v})).map((function(e){return e.no_of_days})),type:"numeric",className:a.textField,InputLabelProps:{shrink:!0}}),Object(j.jsx)(Do.a,{label:"Total Amount",variant:"filled",style:{width:"100%"},name:"totalamount",value:i&&i.filter((function(e){return e.period===y&&e.empid===v})).map((function(e){return e.amount})),type:"currency",className:a.textField,InputLabelProps:{shrink:!0}})]})})})]})]})}}})}),Object(j.jsx)("div",{children:Object(j.jsxs)(Ku,{onClose:function(){M(!1)},onConfirm:function(){var a=N.id;b(Object(D.a)(Object(D.a)({id:a},N),{},{no_of_days:U.totaldays,amount:U.totalamount,totaljobbonus:U.totalbonus,totalperdiem:U.totaldiem,status:"Submitted"})),function(e){var a=e.period,n={to_name:x.loginUser,to_email:x.loginEmail,message:"Your site allowances for the period ".concat(a," has been successfully submitted for approval"),cc_to:x.reporting_email};ms.a("service_ffxn6vb","template_1y8odlq",n,"user_oLsKrJJYgmAa4uBnRGkuq").then((function(e){console.log(e.status,e.text),t({title:"Email has sent successfully to ".concat(n.to_email,"!"),status:"success"})}),(function(e){console.log(e),t({title:"Email has fail to send to ".concat(n.to_email,"!"),status:"warning"})}))}(N),e.push("/dailyallowances"),t({title:"Site Allowances table being submitted!",status:"success"})},isOpen:z,title:"Site Allowances Batch",children:[Object(j.jsx)("h2",{children:"After submition for approval, no changes can be made."}),Object(j.jsx)("h2",{children:"Are you sure you want to submit ?"})]})}),Object(j.jsx)("div",{children:Object(j.jsx)(Ku,{onClose:function(){q(!1)},onConfirm:function(){var a=N.id;b(Object(D.a)(Object(D.a)({id:a},N),{},{no_of_days:U.totaldays,amount:U.totalamount,totaljobbonus:U.totalbonus,totalperdiem:U.totaldiem})),e.push("/dailyallowances"),t({title:"Site Allowances table being submitted!",status:"success"})},isOpen:X,title:"Site Allowances Batch",children:Object(j.jsx)("h2",{children:"Are you sure you want to exit ?"})})})]})}var Sp=Object(E.a)((function(e){return{root:{padding:0,width:1500},button:{margin:e.spacing(1)}}}));function Ep(){return(Ep=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch($,{method:"DELETE",body:JSON.stringify({id:t})});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cp(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return Ep.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("dailyallows"),a({title:"Site Allowance record being deleted!",status:"warning"})}}).mutate}function Dp(){var e=Object(ts.f)(),t=Np(),a=(Y(),Wu()),r=a.dailyallows,i=a.dailyAllowsId,c=a.setDailyAllowsId,s=up(),o=s.dailyallowsdetls,l=(s.setDailyAllowsDetlsId,s.setDailyAllowsDetlsFilter,lp(),yp(),Cp()),d=mp(),u=Object(h.d)(_e),p=Object(w.a)(u,2),b=p[0],f=(p[1],Object(n.useState)(!1)),O=Object(w.a)(f,2),x=O[0],m=O[1],g=Object(n.useState)([]),y=Object(w.a)(g,2),v=(y[0],y[1],Object(h.d)(Ne)),_=Object(w.a)(v,2),S=_[0],E=_[1],C=Object(n.useState)(!1),N=Object(w.a)(C,2),I=N[0],P=N[1],T=Object(h.d)(Pe),A=Object(w.a)(T,2),k=(A[0],A[1],Object(h.d)(Te)),L=Object(w.a)(k,2),R=(L[0],L[1]),B=Object(h.d)(Ae),F=Object(w.a)(B,2),G=(F[0],F[1]),U=Object(n.useState)(Ie),V=Object(w.a)(U,2),W=V[0],z=V[1],M=Object(n.useState)(!0),H=Object(w.a)(M,2),J=(H[0],H[1]),X=Object(n.useState)(""),q=Object(w.a)(X,2),Q=q[0],K=q[1],$=Object(n.useState)({id:"",period:"",empid:""}),Z=Object(w.a)($,2),ee=Z[0],te=Z[1],ae=Object(n.useState)(!1),ne=Object(w.a)(ae,2),re=ne[0],ie=ne[1],ce=Pu(),se=(ce.loadEmpDailyAllowances,ce.loadEmpDailyAllowsDetls);ce.dailyallowances_loading,ce.dailyallowances_error,ce.updateDailyAllowance,ce.getSingleBatchDailyAllowsDetl;Object(n.useEffect)((function(){c(b.loginUserId)}),[i]);var oe=function(){P(!0)},le=function(){m(!0)},de=function(){m(!1)},ue=function(){J(!0),ie(!1)};return Object(j.jsx)("div",{className:t.root,children:Object(j.jsxs)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:[Object(j.jsx)(Ko.a,{columns:[{title:"Name",field:"name",editable:"never"},{title:"Period",field:"period",editable:"never"},{title:"Location",field:"location",editable:"never"},{title:"Manager Name",field:"manager",editable:"never"},{title:"No Of Days",field:"no_of_days",type:"numeric",editable:"never"},{title:"Job Bonus",field:"totaljobbonus",type:"currency",editable:"never"},{title:"Per Diem",field:"totalperdiem",type:"currency",editable:"never"},{title:"Amount",field:"amount",type:"currency",editable:"never"},{title:"Status",field:"status",editable:"never"}],data:r,title:"Site Allowances",icons:{Add:function(e){return Object(j.jsx)(Zu.a,{})},Edit:function(e){return Object(j.jsx)(hd.a,{})},Delete:function(e){return Object(j.jsx)(tp.a,{})},Clear:function(e){return Object(j.jsx)(tp.a,{})},Check:function(e){return Object(j.jsx)(np.a,{})},Search:function(e){return Object(j.jsx)(ip.a,{})},ResetSearch:function(e){return Object(j.jsx)(tp.a,{})}},actions:[{icon:"add",tooltip:"Add Record",isFreeAction:!0,onClick:function(e,t){le()}},function(t){return{disabled:"Approved"===t.status||"Submitted"===t.status,icon:"edit",tooltip:"Edit Record",onClick:function(t,a){!function(t){var a=t.id,n=t.empid,r=t.period,i=t.no_of_days,c=t.amount,s=t.totaljobbonus,o=t.totalperdiem;se(n,r),R(r),G(n),z(a),R(r),G(n),z(a),E(Object(D.a)(Object(D.a)({},S),{},{id:a,no_of_days:i,totaljobbonus:s,totalperdiem:o,amount:c,period:r,empid:n})),e.push("/singledailyallowsdetlstable")}(a)}}},function(e){return{disabled:"Approved"===e.status||"Submitted"===e.status,icon:"delete",tooltip:"Delete Record",onClick:function(e,t){!function(e){var t=e.id,a=e.period,n=e.empid;te({id:t,period:a,empid:n}),oe()}(t)}}}],options:{filtering:!0,sorting:!0,headerStyle:{backgroundColor:"orange",color:"#FFF"},showTitle:!0},components:{Toolbar:function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)(Qo.MTableToolbar,Object(D.a)({},e)),Object(j.jsx)("div",{style:{padding:"5px 10px"},children:Q&&Object(j.jsx)(Xu.a,{severity:"error",onClose:function(){return K(!1)},children:"Period already existed!"})})]})}}}),Object(j.jsx)("div",{className:t.dialog,children:Object(j.jsx)(Sd,{isOpen:x,handleClose:de,title:"",showButton:!0,isFullscreen:!1,isFullwidth:!1,children:Object(j.jsx)(hp,{handleDialogClose:de})})}),Object(j.jsx)("div",{children:Object(j.jsx)(Sd,{isOpen:re,handleClose:ue,title:"",showButton:!0,isFullscreen:!1,isFullwidth:!1,children:Object(j.jsx)(wp,{allowsdata:S,allowsdataId:W,handleDialogClose:ue})})}),Object(j.jsx)("div",{children:Object(j.jsx)(Ku,{onClose:function(){P(!1)},onConfirm:function(e){var t=ee.id,a=ee.period,n=ee.empid;o.filter((function(e){return e.empid===n})).forEach((function(e){e.period===a&&e.empid===n&&d(e.id)})),l(t)},isOpen:I,title:"Delete Site Allowances Batch",children:Object(j.jsx)("h2",{children:"Are you sure you want to delete ?"})})})]})})}var Np=Object(E.a)((function(e){return{root:{padding:0},dialog:{width:1e3}}})),Ip=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(9),paddingBottom:e.spacing(4),border:"1px solid"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%"},fixedHeight:{height:"80vh"}}})),Pp=function(){var e=Ip(),t=Object(as.a)(e.paper,e.fixedHeight);return Object(j.jsxs)("div",{children:[Object(j.jsx)(y.a,{}),Object(j.jsx)("div",{className:e.appBarSpacer,children:Object(j.jsx)(S.a,{maxWidth:"lg",className:e.container,children:Object(j.jsx)(vo.a,{container:!0,children:Object(j.jsx)(vo.a,{item:!0,xs:12,children:Object(j.jsx)(_o.a,{className:t,children:Object(j.jsx)("div",{children:Object(j.jsx)(Dp,{title:"Site Allowances Claims"})})})})})})})]})},Tp=function(e,t){if(t.type===Ya)return Object(D.a)(Object(D.a)({},e),{},{payslip_period:t.payload});if(t.type===Ja)return Object(D.a)(Object(D.a)({},e),{},{payslip_endmonthdate:t.payload});if(t.type===Wa)return Object(D.a)(Object(D.a)({},e),{},{editPayslipID:t.payload});if(t.type===Xa)return Object(D.a)(Object(D.a)({},e),{},{payslip_earning_amount:t.payload});if(t.type===qa)return Object(D.a)(Object(D.a)({},e),{},{payslip_deduction_amount:t.payload});if(t.type===Qa)return Object(D.a)(Object(D.a)({},e),{},{payslipsdata:t.payload});if(t.type===Ka)return Object(D.a)(Object(D.a)({},e),{},{payslipsdata:[]});if(t.type===$a)return console.log("reducer",t.payload.name,t.payload.value),null;if(t.type===za)return Object(D.a)(Object(D.a)({},e),{},{isPayslipEditing:!0});if(t.type===Ma)return Object(D.a)(Object(D.a)({},e),{},{isPayslipEditing:!1});if(t.type===Ha)return Object(D.a)(Object(D.a)({},e),{},{single_payslip:{}});if(t.type===ya)return Object(D.a)(Object(D.a)({},e),{},{payslips_loading:!0});if(t.type===va)return Object(D.a)(Object(D.a)({},e),{},{payslips_loading:!1,payslips:t.payload});if(t.type===_a)return Object(D.a)(Object(D.a)({},e),{},{payslips_loading:!1,payslips_error:!0});if(t.type===Ca)return Object(D.a)(Object(D.a)({},e),{},{pending_payslips_loading:!0});if(t.type===Da)return Object(D.a)(Object(D.a)({},e),{},{pending_payslips_loading:!1,pending_payslips:t.payload});if(t.type===Na)return Object(D.a)(Object(D.a)({},e),{},{pending_payslips_loading:!1,pending_payslips_error:!0});if(t.type===Ga)return Object(D.a)(Object(D.a)({},e),{},{add_payslip_loading:!0});if(t.type===Ua)return Object(D.a)(Object(D.a)({},e),{},{add_payslips_loading:!1,payslips:t.payload});if(t.type===Va)return Object(D.a)(Object(D.a)({},e),{},{payslips_loading:!1,add_payslip_error:!0});if(t.type===Ra)return Object(D.a)(Object(D.a)({},e),{},{update_payslip_loading:!0});if(t.type===Ba)return Object(D.a)(Object(D.a)({},e),{},{payslips_loading:!1,single_payslip:t.payload});if(t.type===Fa)return Object(D.a)(Object(D.a)({},e),{},{update_payslip_loading:!1,update_payslip_error:!0});if(t.type===Aa)return Object(D.a)(Object(D.a)({},e),{},{delete_payslip_loading:!0,delete_payslip_error:!1});if(t.type===ka)return Object(D.a)(Object(D.a)({},e),{},{delete_payslip_loading:!1,delete_payslip_error:!1});if(t.type===La)return Object(D.a)(Object(D.a)({},e),{},{delete_payslip_loading:!1,delete_payslip_error:!0});if(t.type===wa)return Object(D.a)(Object(D.a)({},e),{},{single_payslip_loading:!0,single_payslip_error:!1});if(t.type===Sa)return Object(D.a)(Object(D.a)({},e),{},{single_payslip_loading:!1,single_payslip:t.payload});if(t.type===Ea)return Object(D.a)(Object(D.a)({},e),{},{single_payslip_loading:!1,single_payslip_error:!0});if(t.type===Ia)return Object(D.a)(Object(D.a)({},e),{},{singlebatch_payslip_loading:!0,singlebatch_payslip_error:!1});if(t.type===Pa)return Object(D.a)(Object(D.a)({},e),{},{singlebatch_payslip_loading:!1,singlebatchpayslip:t.payload});if(t.type===Ta)return Object(D.a)(Object(D.a)({},e),{},{singlebatch_payslip_loading:!1,singlebatch_payslip_error:!0});if(t.type===Gn)return Object(D.a)(Object(D.a)({},e),{},{payslipearnings_loading:!0});if(t.type===Un)return Object(D.a)(Object(D.a)({},e),{},{payslipearnings_loading:!1,payslipearnings:t.payload});if(t.type===Vn)return Object(D.a)(Object(D.a)({},e),{},{payslipearnings_loading:!1,payslipearnings_error:!0});if(t.type===Xn)return Object(D.a)(Object(D.a)({},e),{},{add_payslipearning_loading:!0});if(t.type===qn)return Object(D.a)(Object(D.a)({},e),{},{add_payslipearnings_loading:!1,payslipearnings:t.payload});if(t.type===Qn)return Object(D.a)(Object(D.a)({},e),{},{add_payslipearnings_loading:!1,add_payslipearning_error:!0});if(t.type===Hn)return Object(D.a)(Object(D.a)({},e),{},{update_payslipearning_loading:!0});if(t.type===Yn)return Object(D.a)(Object(D.a)({},e),{},{update_payslipearnings_loading:!1,single_payslipearning:t.payload});if(t.type===Jn)return Object(D.a)(Object(D.a)({},e),{},{update_payslipearning_loading:!1,update_payslipearning_error:!0});if(t.type===Wn)return Object(D.a)(Object(D.a)({},e),{},{delete_payslipearning_loading:!0,delete_payslipearning_error:!1});if(t.type===zn)return Object(D.a)(Object(D.a)({},e),{},{delete_payslipearning_loading:!1,delete_payslipearning_error:!1});if(t.type===Mn)return Object(D.a)(Object(D.a)({},e),{},{delete_payslipearning_loading:!1,delete_payslipearning_error:!0});if("GET_SINGLE_PAYSLIPEARNING_BEGIN"===t.type)return Object(D.a)(Object(D.a)({},e),{},{single_payslipearning_loading:!0,single_payslipearning_error:!1});if("GET_SINGLE_PAYSLIPEARNING_SUCCESS"===t.type)return Object(D.a)(Object(D.a)({},e),{},{single_payslipearning_loading:!1,single_payslipearning:t.payload});if("GET_SINGLE_PAYSLIPEARNING_ERROR"===t.type)return Object(D.a)(Object(D.a)({},e),{},{single_payslipearning_loading:!1,single_payslipearning_error:!0});if(t.type===Kn)return Object(D.a)(Object(D.a)({},e),{},{payslipdeductions_loading:!0});if(t.type===$n)return Object(D.a)(Object(D.a)({},e),{},{payslipdeductions_loading:!1,payslipdeductions:t.payload});if(t.type===Zn)return Object(D.a)(Object(D.a)({},e),{},{payslipdeductions_loading:!1,payslipdeductions_error:!0});if(t.type===cr)return Object(D.a)(Object(D.a)({},e),{},{add_payslipdeduction_loading:!0});if(t.type===sr)return Object(D.a)(Object(D.a)({},e),{},{add_payslipdeductions_loading:!1,payslipdeductions:t.payload});if(t.type===or)return Object(D.a)(Object(D.a)({},e),{},{add_payslipdeductions_loading:!1,add_payslipdeduction_error:!0});if(t.type===nr)return Object(D.a)(Object(D.a)({},e),{},{update_payslipdeduction_loading:!0});if(t.type===rr)return Object(D.a)(Object(D.a)({},e),{},{update_payslipdeductions_loading:!1,single_payslipdeduction:t.payload});if(t.type===ir)return Object(D.a)(Object(D.a)({},e),{},{update_payslipdeduction_loading:!1,update_payslipdeduction_error:!0});if(t.type===er)return Object(D.a)(Object(D.a)({},e),{},{delete_payslipdeduction_loading:!0,delete_payslipdeduction_error:!1});if(t.type===tr)return Object(D.a)(Object(D.a)({},e),{},{delete_payslipdeduction_loading:!1,delete_payslipdeduction_error:!1});if(t.type===ar)return Object(D.a)(Object(D.a)({},e),{},{delete_payslipdeduction_loading:!1,delete_payslipdeduction_error:!0});if("GET_SINGLE_PAYSLIPDEDUCTION_BEGIN"===t.type)return Object(D.a)(Object(D.a)({},e),{},{single_payslipdeduction_loading:!0,single_payslipdeduction_error:!1});if("GET_SINGLE_PAYSLIPDEDUCTION_SUCCESS"===t.type)return Object(D.a)(Object(D.a)({},e),{},{single_payslipdeduction_loading:!1,single_payslipdeduction:t.payload});if("GET_SINGLE_PAYSLIPDEDUCTION_ERROR"===t.type)return Object(D.a)(Object(D.a)({},e),{},{single_payslipdeduction_loading:!1,single_payslipdeduction_error:!0});if(t.type===Cn)return Object(D.a)(Object(D.a)({},e),{},{payslipitems_loading:!0});if(t.type===Dn)return Object(D.a)(Object(D.a)({},e),{},{payslipitems_loading:!1,payslipitems:t.payload});if(t.type===Nn)return Object(D.a)(Object(D.a)({},e),{},{payslipitems_loading:!1,payslipitems_error:!0});if(t.type===In)return Object(D.a)(Object(D.a)({},e),{},{add_payslipitem_loading:!0});if(t.type===Pn)return Object(D.a)(Object(D.a)({},e),{},{add_payslipitem_loading:!1,payslipitem:t.payload});if(t.type===Tn)return Object(D.a)(Object(D.a)({},e),{},{add_payslipitem_loading:!1,add_payslipitem_error:!0});if(t.type===Rn)return Object(D.a)(Object(D.a)({},e),{},{update_payslipitem_loading:!0});if(t.type===Bn)return Object(D.a)(Object(D.a)({},e),{},{update_payslipitem_loading:!1,single_payslipitem:t.payload});if(t.type===Fn)return Object(D.a)(Object(D.a)({},e),{},{update_payslipitem_loading:!1,update_payslipitem_error:!0});if(t.type===An)return Object(D.a)(Object(D.a)({},e),{},{delete_payslipitem_loading:!0,delete_payslipitem_error:!1});if(t.type===kn)return Object(D.a)(Object(D.a)({},e),{},{delete_payslipitem_loading:!1,delete_payslipitem_error:!1});if(t.type===Ln)return Object(D.a)(Object(D.a)({},e),{},{delete_payslipitem_loading:!1,delete_payslipitem_error:!0});if(t.type===Za)return Object(D.a)(Object(D.a)({},e),{},{payrun_loading:!0});if(t.type===en)return Object(D.a)(Object(D.a)({},e),{},{payrun_loading:!1,payrun:t.payload});if(t.type===tn)return Object(D.a)(Object(D.a)({},e),{},{payrun_loading:!1,payrun_error:!0});if(t.type===an)return Object(D.a)(Object(D.a)({},e),{},{batchpayrun_loading:!0});if(t.type===nn)return Object(D.a)(Object(D.a)({},e),{},{batchpayrun_loading:!1,batchpayrun:t.payload});if(t.type===rn)return Object(D.a)(Object(D.a)({},e),{},{batchpayrun_loading:!1,batchpayrun_error:!0});if(t.type===cn)return Object(D.a)(Object(D.a)({},e),{},{add_payrun_loading:!0});if(t.type===sn)return Object(D.a)(Object(D.a)({},e),{},{add_payrun_loading:!1,single_payrun:t.payload});if(t.type===on)return Object(D.a)(Object(D.a)({},e),{},{add_payrun_loading:!1,add_payrun_error:!0});if(t.type===ln)return Object(D.a)(Object(D.a)({},e),{},{update_payrun_loading:!0});if(t.type===dn)return Object(D.a)(Object(D.a)({},e),{},{update_payrun_loading:!1,single_payrun:t.payload});if(t.type===un)return Object(D.a)(Object(D.a)({},e),{},{update_payrun_loading:!1,update_payrun_error:!0});if(t.type===pn)return Object(D.a)(Object(D.a)({},e),{},{delete_payrun_loading:!0,delete_payrun_error:!1});if(t.type===jn)return Object(D.a)(Object(D.a)({},e),{},{delete_payrun_loading:!1,delete_payrun_error:!1});if(t.type===bn)return Object(D.a)(Object(D.a)({},e),{},{delete_payrun_loading:!1,delete_payrun_error:!0});throw new Error('No Matching "'.concat(t.type,'" - action type'))},Ap={isPayslipEditing:!1,alertPayslip:{show:!1,msg:"",type:""},editPayslipID:null,payslips_loading:!1,payslips_error:!1,payslip_period:"",payslip_endmonthdate:"",payslip_earning_amount:0,payslip_deduction_amount:0,payslips:[],payslipsdata:[],single_payslip_loading:!1,single_payslip_error:!1,single_payslip:{},singlebatch_payslip_loading:!1,singlebatch_payslip_error:!1,singlebatch_payslip:{},delete_payslip_loading:!1,delete_payslip_error:!1,update_payslip_loading:!1,update_payslip_error:!1,add_payslip_loading:!1,add_payslip_error:!1,isPayslipEarningEditing:!1,alertPayslipEarning:{show:!1,msg:"",type:""},editPayslipEarningID:null,payslipearnings_loading:!1,payslipearnings_error:!1,payslipearnings:[],pending_payslips_loading:!1,pending_payslips_error:!1,pending_payslips:[],single_payslipearning_loading:!1,single_payslipearning_error:!1,single_payslipearning:{},delete_payslipearning_loading:!1,delete_payslipearning_error:!1,update_payslipearning_loading:!1,update_payslipearning_error:!1,add_payslipearning_loading:!1,add_payslipearning_error:!1,isPayslipDeductionEditing:!1,alertPayslipDeduction:{show:!1,msg:"",type:""},editPayslipDeductionID:null,payslipdeductions_loading:!1,payslipdeductions_error:!1,payslipdeductions:[],single_payslipdeduction_loading:!1,single_payslipdeduction_error:!1,single_payslipdeduction:{},delete_payslipdeduction_loading:!1,delete_payslipdeduction_error:!1,update_payslipdeduction_loading:!1,update_payslipdeduction_error:!1,add_payslipdeduction_loading:!1,add_payslipdeduction_error:!1,payslipitems_loading:!1,payslipitems_error:!1,payslipitems:[],delete_payslipitem_loading:!1,delete_payslipitem_error:!1,update_payslipitem_loading:!1,update_payslipitem_error:!1,add_payslipitem_loading:!1,add_payslipitem_error:!1,single_payslipitem:{},payrun_loading:!1,payrun_error:!1,payrun:[],batchpayrun_loading:!1,batchpayrun_error:!1,batchpayrun:[],delete_payrun_loading:!1,delete_payrun_error:!1,update_payrun_loading:!1,update_payrun_error:!1,add_payrun_loading:!1,add_payrun_error:!1,single_payrun:{}},kp=r.a.createContext(),Lp=function(e){var t=e.children,a=Object(n.useReducer)(Tp,Ap),r=Object(w.a)(a,2),i=r[0],c=r[1],s=function(){var e=Object(P.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:ya}),e.prev=1,e.next=4,fetch(ee);case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,c({type:va,payload:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c({type:_a});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Ca}),e.prev=1,e.next=4,fetch("".concat(ee,"?fi=").concat(t));case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,c({type:Da,payload:n}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c({type:Na});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:ya}),e.prev=1,e.next=4,fetch("".concat(ee,"?em=").concat(t));case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,c({type:va,payload:n}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c({type:_a});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Ia}),e.prev=1,e.next=4,fetch("".concat(ee,"?fv=").concat(t));case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,console.log("context",n),c({type:Pa,payload:n}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),c({type:Ta});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{c({type:Ya,payload:t})}catch(a){c(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{c({type:Ja,payload:t})}catch(a){c(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{c({type:Wa,payload:t})}catch(a){c(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:wa}),e.prev=1,e.next=4,me.a.get("".concat(ee,"?id=").concat(t));case 4:a=e.sent,n=a.data,c({type:Sa,payload:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),c({type:Ea});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.id,t.name,t.from_date,t.to_date,t.reason,t.no_of_days,t.status,c({type:Ga}),e.prev=2,e.next=5,fetch(ee,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 5:c({type:Ua}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:Va});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),c({type:Ra}),e.prev=2,e.next=5,fetch(ee,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 5:c({type:Ba}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:Fa});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Aa}),e.prev=1,e.next=4,fetch(ee,{method:"DELETE",body:JSON.stringify({id:t})});case 4:c({type:ka}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c({type:La});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Cn}),e.prev=1,e.next=4,me.a.get("".concat(te,"?period=").concat(t));case 4:a=e.sent,n=a.data,c({type:Dn,payload:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),c({type:Nn});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:In}),e.prev=1,e.next=4,fetch(te,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 4:c({type:Pn}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c({type:Tn});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),c({type:Rn}),e.prev=2,e.next=5,fetch(te,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 5:c({type:Bn}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:Fn});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:An}),e.prev=1,e.next=4,fetch(te,{method:"DELETE",body:JSON.stringify({id:t})});case 4:c({type:kn}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c({type:Ln});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(P.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Za}),e.prev=1,e.next=4,me.a.get("".concat(ne));case 4:t=e.sent,a=t.data,c({type:en,payload:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),c({type:tn});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:an}),e.prev=1,e.next=4,me.a.get("".concat(ne,"?fi=").concat(t));case 4:a=e.sent,n=a.data,c({type:nn,payload:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),c({type:rn});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:cn}),e.prev=1,e.next=4,fetch(ne,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 4:c({type:sn}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c({type:on});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),c({type:ln}),e.prev=2,e.next=5,fetch(ne,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 5:c({type:dn}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:un});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:pn}),e.prev=1,e.next=4,fetch(ne,{method:"DELETE",body:JSON.stringify({id:t})});case 4:c({type:jn}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c({type:bn});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(P.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Gn}),e.prev=1,e.next=4,fetch(de);case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,c({type:Un,payload:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c({type:Vn});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(P.a)(I.a.mark((function e(t,a){var n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Gn}),e.prev=1,e.next=4,fetch("".concat(de,"?fv=").concat(t,"&period=").concat(a));case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,c({type:Un,payload:r}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c({type:Vn});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}(),k=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.id,t.name,t.period,t.description,t.amount,c({type:Xn}),e.prev=2,e.next=5,fetch(de,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 5:c({type:qn}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:Qn});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),c({type:Hn}),e.prev=2,e.next=5,fetch(de,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 5:c({type:Yn}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:Jn});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Wn}),e.prev=1,e.next=4,fetch(de,{method:"DELETE",body:JSON.stringify({id:t})});case 4:c({type:zn}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c({type:Mn});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(P.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Kn}),e.prev=1,e.next=4,fetch(ue);case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,c({type:$n,payload:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c({type:Zn});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(P.a)(I.a.mark((function e(t,a){var n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:Kn}),e.prev=1,e.next=4,fetch("".concat(ue,"?fv=").concat(t,"&period=").concat(a));case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,c({type:$n,payload:r}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c({type:Zn});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}(),G=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.id,t.name,t.period,t.description,t.amount,c({type:cr}),e.prev=2,e.next=5,fetch(ue,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 5:c({type:sr}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:or});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),c({type:nr}),e.prev=2,e.next=5,fetch(ue,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 5:c({type:rr}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c({type:ir});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:er}),e.prev=1,e.next=4,fetch(ue,{method:"DELETE",body:JSON.stringify({id:t})});case 4:c({type:tr}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c({type:ar});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(kp.Provider,{value:Object(D.a)(Object(D.a)({},i),{},{loadPayslips:s,loadPendingPayslips:o,loadEmpPayslips:l,addPayslip:f,updatePayslip:O,deletePayslip:x,getSinglePayslip:h,getSingleBatchPayslip:d,setEditPayslipID:b,setIsPayslipEditingOn:function(){c({type:za})},setIsPayslipEditingOff:function(){c({type:Ma})},setPayslipsData:function(e){c({type:Qa,payload:e})},resetPayslipsData:function(){c({type:Ka})},updatePayslipsData:function(e,t){c({type:$a,payload:{name:e,value:t}})},loadPayslipEarnings:T,addPayslipEarning:k,updatePayslipEarning:L,deletePayslipEarning:R,getSingleBatchPayslipEarnings:A,setPayslipEarningAmount:function(e){c({type:Xa,payload:e})},loadPayslipDeductions:B,addPayslipDeduction:G,updatePayslipDeduction:U,deletePayslipDeduction:V,getSingleBatchPayslipDeductions:F,setPayslipDeductionAmount:function(e){c({type:qa,payload:e})},resetSinglePayslip:function(){c({type:Ha})},setPayslipPeriod:u,setPayslipEndMonthDate:p,getPayslipitems:m,deletePayslipitem:v,updatePayslipitem:y,addPayslipitem:g,getPayrun:_,getBatchPayrun:S,deletePayrun:N,updatePayrun:C,addPayrun:E}),children:t})},Rp=function(){return Object(n.useContext)(kp)};function Bp(e){e.setCalc,Object(ts.f)();var t=Object(n.useState)(!0),a=Object(w.a)(t,2),r=(a[0],a[1],Fp()),i=Object(h.e)(De),c=Object(h.e)(Se),s=Rp(),o=s.payslipearnings,l=(s.payslip_earning_amount,s.setPayslipEarningAmount,s.addPayslipEarning,s.payslipearnings_loading),d=(s.updatePayslipEarning,s.deletePayslipEarning,s.updatePayslip,s.editPayslipID,s.single_payslip,s.payslip_period,s.getSingleBatchPayslipEarnings);o.description,o.amount,wl().allowances;console.log("recoil",c,i);Object(n.useEffect)((function(){d(i,c)}),[]);return l?Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"Loading... Incomes."})}):Object(j.jsx)("div",{className:r.root,children:Object(j.jsx)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:[{title:"Name",field:"description"},{title:"Amount",field:"amount",type:"currency"}],data:o,title:"Income",options:{search:!1,toolbar:!1}})})})}var Fp=Object(E.a)((function(e){return{root:{padding:0}}}));function Gp(){var e=Up(),t=Object(h.e)(De),a=Object(h.e)(Se),r=Rp(),i=r.payslipdeductions,c=(r.payslip_deduction_amount,r.setPayslipDeductionAmount,r.loadPayslipDeductions,r.addPayslipDeduction,r.payslipdeductions_loading),s=(r.updatePayslipDeduction,r.deletePayslipDeduction,r.updatePayslip,r.editPayslipID,r.single_payslip,r.payslip_period,r.getSingleBatchPayslipDeductions);i.name,i.amount,wl().deductions;Object(n.useEffect)((function(){s(t,a)}),[]);return c?Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"Loading... Expenses."})}):Object(j.jsx)("div",{className:e.root,children:Object(j.jsx)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:[{title:"Name",field:"description"},{title:"Amount",field:"amount",type:"currency"}],data:i,title:"Expense",options:{search:!1,toolbar:!1}})})})}var Up=Object(E.a)((function(e){return{root:{padding:0}}}));function Vp(e){e.setCalc;var t=e.earningsdata,a=e.oldEarningsdata,r=e.setEarningsdata,i=e.handleDialogClose,c=(Object(ts.f)(),Wp()),s=Object(h.e)(De),o=Object(h.e)(Se),l=(Object(h.e)(ke),Rp()),d=l.payslipearnings,u=(l.payslip_earning_amount,l.setPayslipEarningAmount,l.addPayslipEarning),p=l.payslipearnings_loading,b=l.updatePayslipEarning,f=l.deletePayslipEarning,O=(l.updatePayslip,l.editPayslipID,l.single_payslip),x=l.payslip_period,m=l.getSingleBatchPayslipEarnings,g=(d.name,d.amount,wl().allowances),y=[{title:"Description",field:"description",editComponent:function(e){return Object(j.jsx)(Do.a,{onChange:function(t){return e.onChange(t.target.value)},style:{width:200},value:e.value,select:!0,children:g.map((function(e){return Object(j.jsx)(No.a,{value:e.name,children:e.name})}))})}},{title:"Amount",field:"amount",type:"currency"}];Object(n.useEffect)((function(){m(O.empid,x)}),[]);var v=function(){console.log("update",t,a),a.forEach((function(e){var a=e.id,n=e.rec_id,r=t.find((function(e){return e.rec_id===n}));console.log("find",a,r),r||f(a)})),t.forEach((function(e){var t=e.id,a=e.description,n=e.amount;if(t){var r=e.id,i=(e.rec_id,e.tableData,Object(Ge.a)(e,["id","rec_id","tableData"]));b(Object(D.a)({id:r},i))}else u({description:a,amount:n,name:O.name,empid:s,period:o})})),i()};return p?Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"Loading... Incomes."})}):Object(j.jsx)("div",{className:c.root,children:Object(j.jsx)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:y,data:t,title:"Income",editable:{onRowAdd:function(e){return new Promise((function(a,n){setTimeout((function(){r([].concat(Object(dd.a)(t),[e])),a()}),1e3)}))},onRowUpdate:function(e,a){return new Promise((function(n,i){setTimeout((function(){var i=Object(dd.a)(t);i[a.tableData.id]=e,r(Object(dd.a)(i)),n()}),1e3)}))},onRowDelete:function(e){return new Promise((function(a,n){setTimeout((function(){var n=Object(dd.a)(t),i=e.tableData.id;n.splice(i,1),r(Object(dd.a)(n)),a()}),1e3)}))}},options:{filtering:!0,headerStyle:{backgroundColor:"orange",color:"primary"},showTitle:!0},components:{Toolbar:function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)(Qo.MTableToolbar,Object(D.a)({},e)),Object(j.jsx)("div",{style:{padding:"5px 10px"},children:Object(j.jsxs)(Eo.a,{type:"submit",variant:"contained",color:"secondary",className:c.button,onClick:v,children:["Update ",Object(j.jsx)(Co.a,{className:c.rightIcon,children:"send"})]})})]})}}})})})}var Wp=Object(E.a)((function(e){return{root:{padding:0}}}));function zp(e){e.setCalc;var t=e.deductionsdata,a=e.oldDeductionsdata,r=e.setDeductionsdata,i=e.handleDialogClose,c=Mp(),s=Object(h.e)(De),o=Object(h.e)(Se),l=(Object(h.e)(ke),Rp()),d=l.payslipdeductions,u=(l.payslip_deduction_amount,l.setPayslipDeductionAmount,l.loadPayslipDeductions,l.addPayslipDeduction),p=l.payslipdeductions_loading,b=l.updatePayslipDeduction,f=l.deletePayslipDeduction,O=(l.updatePayslip,l.editPayslipID,l.single_payslip),x=l.payslip_period,m=l.getSingleBatchPayslipDeductions,g=(d.name,d.amount,wl().deductions),y=[{title:"Description",field:"description",editComponent:function(e){return Object(j.jsx)(Do.a,{onChange:function(t){return e.onChange(t.target.value)},style:{width:200},value:e.value,select:!0,children:g.map((function(e){return Object(j.jsx)(No.a,{value:e.name,children:e.name})}))})}},{title:"Amount",field:"amount",type:"currency"}];Object(n.useEffect)((function(){m(O.empid,x)}),[]);var v=function(){console.log("update",t,a),a.forEach((function(e){var a=e.id,n=e.rec_id,r=t.find((function(e){return e.rec_id===n}));console.log("find",a,r),r||f(a)})),t.forEach((function(e){var t=e.id,a=e.description,n=e.amount;if(t){var r=e.id,i=(e.rec_id,e.tableData,Object(Ge.a)(e,["id","rec_id","tableData"]));b(Object(D.a)({id:r},i))}else u({description:a,amount:n,name:O.name,empid:s,period:o})})),i()};return p?Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"Loading... Expenses."})}):Object(j.jsx)("div",{className:c.root,children:Object(j.jsx)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:y,data:t,title:"Deductions",editable:{onRowAdd:function(e){return new Promise((function(a,n){setTimeout((function(){r([].concat(Object(dd.a)(t),[e])),a()}),1e3)}))},onRowUpdate:function(e,a){return new Promise((function(n,i){setTimeout((function(){var i=Object(dd.a)(t);i[a.tableData.id]=e,r(Object(dd.a)(i)),n()}),1e3)}))},onRowDelete:function(e){return new Promise((function(a,n){setTimeout((function(){var n=Object(dd.a)(t),i=e.tableData.id;n.splice(i,1),r(Object(dd.a)(n)),a()}),1e3)}))}},options:{filtering:!0,headerStyle:{backgroundColor:"orange",color:"primary"},showTitle:!0},components:{Toolbar:function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)(Qo.MTableToolbar,Object(D.a)({},e)),Object(j.jsx)("div",{style:{padding:"5px 10px"},children:Object(j.jsxs)(Eo.a,{type:"submit",variant:"contained",color:"secondary",className:c.button,onClick:v,children:["Update ",Object(j.jsx)(Co.a,{className:c.rightIcon,children:"send"})]})})]})}}})})})}var Mp=Object(E.a)((function(e){return{root:{padding:0}}})),Hp=Object(E.a)((function(e){return{button:{margin:e.spacing(1)},leftIcon:{marginRight:e.spacing(1)},rightIcon:{marginLeft:e.spacing(1)},iconSmall:{fontSize:20},root:{padding:e.spacing(3,2)},container:{display:"flex",flexWrap:"wrap"},divider:{padding:4},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:350},grid:{padding:e.spacing(3,2)},box:{height:100,display:"flex",border:"1px solid black",padding:8}}})),Yp=function(){var e=Object(ts.f)(),t=Object(n.useState)(!1),a=Object(w.a)(t,2),r=(a[0],a[1],Hp()),i=Rp(),c=(i.isPayslipEditing,i.single_payslip),s=i.updatePayslip,o=(i.addPayslip,i.editPayslipID),l=(i.loadPayslips,i.getSinglePayslip),d=i.single_payslip_loading,u=i.single_payslip_error,p=(i.payslip_period,i.payslip_earning_amount,i.payslip_deduction_amount,i.setPayslipEarningAmount),b=i.setPayslipDeductionAmount,f=i.payslipearnings,O=i.payslipdeductions,x=i.getSingleBatchPayslipEarnings,m=i.getSingleBatchPayslipDeductions,g=Jc(),y=(g.loadEmployees,g.employees,wl()),v=(y.loadAllowances,y.loadDeductions,y.allowances,y.deductions,Object(h.e)(De)),_=Object(h.e)(Se),S=(Object(h.g)(ke),Object(h.g)(Le),Object(n.useState)([])),E=Object(w.a)(S,2),C=E[0],D=E[1],N=Object(n.useState)([]),T=Object(w.a)(N,2),A=T[0],k=T[1],L=Object(n.useState)([]),R=Object(w.a)(L,2),B=R[0],F=R[1],G=Object(n.useState)([]),U=Object(w.a)(G,2),V=U[0],W=U[1],z=Object(n.useState)(!1),H=Object(w.a)(z,2),Y=H[0],J=H[1],X=Object(n.useState)(!1),q=Object(w.a)(X,2),Q=q[0],K=q[1],$=Object(M.b)(),Z=$.handleSubmit,ee=$.control,te=c.name,ae=c.period,ne=c.date,re=c.bank_name,ie=c.bank_acno,ce=(c.status,c.total_earnings),se=c.total_deductions,oe=c.tap_amount,le=c.scp_amount,de=c.basic_pay,ue=c.nett_pay,pe=c.tap_checkbox;Object(n.useEffect)(Object(P.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(o);case 1:case"end":return e.stop()}}),e)}))),[]);var je=function(e){},be=function(){J(!1),x(v,_)},he=function(){K(!1),m(v,_)};return d?Object(j.jsx)("div",{children:"Loading..."}):(u&&e.push("/error"),Object(j.jsx)("div",{children:Object(j.jsxs)(_o.a,{className:r.root,children:[Object(j.jsx)(vo.a,{xs:12,md:8,lg:12,children:Object(j.jsx)(md,{title:"Employee Profile",children:Object(j.jsxs)("form",{onSubmit:Z((function(e){c.rec_id;var t=Object(Ge.a)(c,["rec_id"]);s.apply(void 0,Object(dd.a)(t))})),children:[Object(j.jsx)(vo.a,{children:Object(j.jsxs)("div",{children:[Object(j.jsx)(cs.a,{variant:"h5",component:"h3",children:"PAYSLIP FORM"}),Object(j.jsx)(cs.a,{component:"p",children:"Payslip Preparation"}),Object(j.jsxs)(Eo.a,{type:"submit",variant:"contained",color:"primary",className:r.button,children:["Submit ",Object(j.jsx)(Co.a,{className:r.rightIcon,children:"send"})]})]})}),Object(j.jsx)(Us.a,{className:r.divider}),Object(j.jsxs)(vo.a,{item:!0,xs:12,children:[Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"name",control:ee,defaultValue:te,render:function(e){var t=e.field;t.onChange,t.value,e.fieldState.error;return Object(j.jsx)(Do.a,{label:"Name",id:"margin-normal",name:"name",defaultValue:te,className:r.textField,onChange:je,InputProps:{readOnly:!0}})},rules:{required:"Name required"}})}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"period",control:ee,defaultValue:ae,render:function(e){var t=e.field;t.onChange,t.value,e.fieldState.error;return Object(j.jsx)(Do.a,{label:"Period",id:"margin-normal",name:"period",defaultValue:ae,className:r.textField,onChange:je,InputProps:{readOnly:!0}})}}),Object(j.jsx)(M.a,{name:"date",control:ee,defaultValue:ne,render:function(e){var t=e.field;t.onChange,t.value,e.fieldState.error;return Object(j.jsx)(Do.a,{label:"Date",type:"date",id:"margin-normal",name:"date",defaultValue:ne,className:r.textField,onChange:je,InputLabelProps:{shrink:!0}})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"bank_name",control:ee,defaultValue:re,render:function(e){var t=e.field;t.onChange,t.value,e.fieldState.error;return Object(j.jsx)(Do.a,{label:"Bank Name",id:"margin-normal",name:"bank_name",defaultValue:re,className:r.textField,onChange:je,InputProps:{readOnly:!0}})}}),Object(j.jsx)(M.a,{name:"bank_acno",control:ee,defaultValue:ie,render:function(e){var t=e.field;t.onChange,t.value,e.fieldState.error;return Object(j.jsx)(Do.a,{label:"Bank AC No",id:"margin-normal",name:"bank_acno",value:ie,className:r.textField,onChange:je,InputProps:{readOnly:!0}})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"tap_amount",control:ee,defaultValue:oe,render:function(e){var t=e.field;t.onChange,t.value,e.fieldState.error;return Object(j.jsx)(Do.a,{label:"TAP Contrinution",type:"currency",id:"standard-number",name:"tap_amount",defaultValue:oe,className:r.textField,onChange:function(e){parseInt(e.target.value,10)},InputProps:{readOnly:!0}})}}),Object(j.jsx)(M.a,{name:"scp_amount",control:ee,defaultValue:le,render:function(e){var t=e.field;t.onChange,t.value,e.fieldState.error;return Object(j.jsx)(Do.a,{label:"SCP Contribution",type:"currency",id:"standard-number",name:"scp_amount",defaultValue:le,className:r.textField,onChange:function(e){parseInt(e.target.value,10)},InputProps:{readOnly:!0}})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"total_earnings",control:ee,defaultValue:ce,render:function(e){var t=e.field;t.onChange,t.value,e.fieldState.error;return Object(j.jsx)(Do.a,{label:"Total Earnings",type:"number",id:"standard-number",name:"total_earnings",value:ce,className:r.textField,onChange:function(e){parseInt(e.target.value,10)},InputProps:{readOnly:!0}})}}),Object(j.jsx)(M.a,{name:"total_deductions",control:ee,defaultValue:se,render:function(e){var t=e.field;t.onChange,t.value,e.fieldState.error;return Object(j.jsx)(Do.a,{label:"Total Deductions",type:"number",id:"standard-number",name:"total_deductions",value:se,className:r.textField,onChange:function(e){parseInt(e.target.value,10)},InputProps:{readOnly:!0}})}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{name:"basic_pay",control:ee,defaultValue:de,render:function(e){var t=e.field;t.onChange,t.value,e.fieldState.error;return Object(j.jsx)(Do.a,{label:"Basic Pay",type:"number",id:"standard-number",name:"basic_pay",value:de,className:r.textField,onChange:je,InputProps:{readOnly:!0}})}}),Object(j.jsx)(M.a,{name:"nett_pay",control:ee,defaultValue:ue,render:function(e){var t=e.field;t.onChange,t.value,e.fieldState.error;return Object(j.jsx)(Do.a,{label:"Nett Pay",type:"number",id:"standard-number",name:"nett_pay",value:ue,className:r.textField,onChange:function(e){parseInt(e.target.value,10)},InputProps:{readOnly:!0}})}})]}),Object(j.jsxs)(Eo.a,{type:"submit",variant:"contained",color:"primary",className:r.button,onClick:function(){var e=0,t=0;pe&&(e=Math.ceil(.05*de),t=Math.round(.035*(de+Number.EPSILON)*100)/100),console.log("calc",e,t);var a=f.reduce((function(e,t){return e+t.amount}),0),n=O.reduce((function(e,t){return e+t.amount}),0),r=de+a-n-e-t;p(a),b(n),s({id:o,total_earnings:a,total_deductions:n,tap_amount:e,scp_amount:t,nett_pay:r}),console.log("total",a,n,e,t,r),l(o)},children:["Calc ",Object(j.jsx)(Co.a,{className:r.rightIcon,children:"send"})]})]}),Object(j.jsx)(Us.a,{className:r.divider})]})})}),Object(j.jsx)("div",{children:Object(j.jsxs)(vo.a,{container:!0,alignItems:"center",className:r.grid,children:[Object(j.jsx)(vo.a,{item:!0,xs:6,md:8,lg:6,children:Object(j.jsx)("div",{children:Object(j.jsx)(Od,{title:"Earnings",handleClick:function(){k(Object(dd.a)(f)),D(Object(dd.a)(f)),J(!0)},children:Object(j.jsx)(Bp,{})})})}),Object(j.jsx)(vo.a,{item:!0,xs:6,md:8,lg:6,children:Object(j.jsx)("div",{children:Object(j.jsx)(Od,{title:"Deductions",handleClick:function(){W(Object(dd.a)(O)),F(Object(dd.a)(O)),K(!0)},children:Object(j.jsx)(Gp,{})})})})]})}),Object(j.jsx)(Us.a,{className:r.divider}),Object(j.jsx)(Sd,{isOpen:Y,handleClose:be,title:"",showButton:!0,isFullscreen:!1,isFullwidth:!1,children:Object(j.jsx)(Vp,{setEarningsdata:D,earningsdata:C,oldEarningsdata:A,handleDialogClose:be})}),Object(j.jsx)(Sd,{isOpen:Q,handleClose:he,title:"",showButton:!0,isFullscreen:!1,isFullwidth:!1,children:Object(j.jsx)(zp,{setDeductionsdata:F,deductionsdata:B,oldDeductionsdata:V,handleDialogClose:he})})]})}))},Jp=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(9),paddingBottom:e.spacing(4),border:"1px solid"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%"},fixedHeight:{height:800}}})),Xp=(Object(E.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(yo.i)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),function(e){e.title;var t=Jp(),a=Object(as.a)(t.paper,t.fixedHeight);return Object(j.jsxs)("div",{children:[Object(j.jsx)(y.a,{}),Object(j.jsx)("div",{className:t.appBarSpacer,children:Object(j.jsx)(S.a,{maxWidth:"lg",className:t.container,children:Object(j.jsx)(vo.a,{container:!0,spacing:3,children:Object(j.jsx)(vo.a,{item:!0,xs:12,children:Object(j.jsxs)(_o.a,{className:a,children:[Object(j.jsx)(es.b,{to:"/batchpayslips",children:Object(j.jsx)("div",{children:Object(j.jsx)(So.a,{fontSize:"large",color:"primary"})})}),Object(j.jsx)("div",{children:Object(j.jsx)(Yp,{})})]})})})})})]})}),qp=a(926);function Qp(e,t){return e.filter((function(e){return e.empid===t})).map((function(e){return Object(D.a)({},e)}))}function Kp(){return(Kp=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("".concat(ne));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $p(e){var t=Object(n.useState)("all"),a=Object(w.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(""),s=Object(w.a)(c,2),o=s[0],l=s[1],d=Object(n.useCallback)((function(e){return Qp(e,r)}),[r]),u=Object(J.a)(ge.payrun,(function(){return function(e){return Kp.apply(this,arguments)}(o)}),{select:"all"!==r?d:void 0}).data;return{payrun:void 0===u?[]:u,filter:r,setFilter:i,setPayrunId:l}}function Zp(){return(Zp=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),e.next=3,fetch(oe,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ej(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return Zp.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("currency"),a({title:"Currency item being updated!",status:"success"})}}).mutate}function tj(){return(tj=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(oe,{method:"DELETE",body:JSON.stringify({id:t})});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aj(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return tj.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("currency"),a({title:"Currency item being deleted!",status:"warning"})}}).mutate}function nj(){return(nj=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(oe,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rj(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return nj.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("currency"),a({title:"Currency item being added!",status:"success"})}}).mutate}var ij=[{title:"Currency",field:"currency"},{title:"Rate",field:"rate"}];function cj(){var e=sj(),t=qo().currency,a=ej(),n=aj(),r=rj();return Object(j.jsx)("div",{className:e.root,children:Object(j.jsx)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:ij,data:t,title:"Currency Tables",editable:{onRowAdd:function(e){return new Promise((function(t,a){setTimeout((function(){!function(e){var t=e.rate,a=Object(Ge.a)(e,["rate"]),n=parseFloat(t);r(Object(D.a)({rate:n},a))}(e),t()}),1e3)}))},onRowUpdate:function(e,t){return new Promise((function(t,n){setTimeout((function(){!function(e){var t=e.id,n=(e.rec_id,e.rate),r=Object(Ge.a)(e,["id","rec_id","rate"]),i=parseFloat(n);a(Object(D.a)({id:t,rate:i},r))}(e),t()}),1e3)}))},onRowDelete:function(e){return new Promise((function(t,a){setTimeout((function(){!function(e){var t=e.id;n(t)}(e),t()}),1e3)}))}},options:{filtering:!0,headerStyle:{backgroundColor:"#90CDF4",color:"primary"},showTitle:!0}})})})}var sj=Object(E.a)((function(e){return{root:{padding:0}}}));function oj(){return(oj=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("".concat(ee,"?fv=").concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lj(e){var t=Object(n.useState)("all"),a=Object(w.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(""),s=Object(w.a)(c,2),o=s[0],l=s[1],d=Object(n.useCallback)((function(e){return function(e,t){return e.filter((function(e){return e.payrun===t})).map((function(e){return Object(D.a)({},e)}))}(e,r)}),[r]),u=Object(J.a)([ge.payslipsbatch,o],(function(){return function(e){return oj.apply(this,arguments)}(o)}),{select:"all"!==r?d:void 0}).data;return{payslipsbatch:void 0===u?[]:u,filter:r,setFilter:i,setPSBPayrunId:l}}var dj=[{title:"Name",field:"name",editable:"never",cellStyle:{width:280,maxWidth:280}}],uj=Object(E.a)((function(e){return{root:{flexGrow:1},button:{margin:e.spacing(1)},container:{margin:0,padding:0,width:"80vw",display:"grid",gridTemplateColumns:"repeat(auto-fill,250px)",gridAutoRows:"10px",position:"absolute",left:"50%",transform:"translateX(-50%)",justifyContent:"center",backgroundColor:"primary"},fixedHeight:{height:800},paper:{padding:e.spacing(10),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%",color:"primary",bcakgroundColor:"black"},card:{backgroundColor:"black"},section:{width:"95vw",margin:"5rem auto",maxWidth:"var(--max-width)"},underline:{width:"5rem",height:"0.25rem",marginBottom:"1.25rem",background:"var(--clr-primary-5)",marginLeft:"auto",marginRight:"auto"},title:{marginbottom:"4rem",textAlign:"center"},jobscenter:{width:"80vw",margin:"0 auto",maxWidth:"var(--max-width)",flexDirection:"row"},btncontainer:{display:"flex",flexDirection:"row",justifyContent:"center",marginBottom:"4rem",flexWrap:"wrap"},jobbtn:{background:"transparent",borderColor:"transparent",textTransform:"capitalize",fontSize:"1.25rem",letterSpacing:"var(--spacing)",margin:"0 0.5rem",transition:"var(--transition)",cursor:"pointer",padding:"0.25rem 0",lineHeight:"1",outlineColor:"var(--clr-primary-10)","&:hover":{color:"var(--clr-primary-5)",boxShadow:"0 2px var(--clr-primary-5)"}},activebtn:{color:"var(--clr-primary-5)",boxShadow:"0 2px var(--clr-primary-5)"},jobinfo:{fontWeight:"400"},rightIcon:{marginLeft:e.spacing(1)},formLabel:{fontSize:12,textAlign:"left",marginLeft:8,marginTop:5}}})),pj=function(){var e=Object(ts.f)(),t=((new Date).toLocaleString("en-us",{month:"long"}),uj()),a=Object(as.a)(t.paper,t.fixedHeight),r=lj(),i=(r.payslipsbatch,r.psbpayrunId,r.setPSBPayrunId,qo().currency),c=Object(qp.a)(),s=c.isOpen,o=c.onOpen,l=c.onClose,d=Object(n.useState)(!1),u=Object(w.a)(d,2),p=u[0],b=u[1],f=Jc(),O=f.loadEmployees,x=f.employees,m=ju(),g=m.loadUnpaidExpenses,y=(m.expenses,m.unpaidexpenses),v=m.updateExpense,_=Pu(),S=_.unpaiddailyallows,E=_.loadUnpaidDailyAllows,C=_.updateDailyAllowance,N=Rp(),I=N.addPayrun,P=N.getPayrun,T=N.payrun,A=N.payrun_loading,L=N.addPayslip,R=N.resetPayslipsData,B=N.singlebatch_payslip_loading,F=N.setPayslipPeriod,G=Object(h.d)(Re),U=Object(w.a)(G,2),V=U[0],W=U[1],z=Object(h.d)(Ee),M=Object(w.a)(z,2),H=(M[0],M[1]),Y=Object(n.useState)(!1),J=Object(w.a)(Y,2),X=J[0],q=J[1],Q=Object(n.useState)(!1),K=Object(w.a)(Q,2),$=K[0],Z=(K[1],Object(n.useState)(!1)),ee=Object(w.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),re=Object(w.a)(ne,2),ie=re[0],ce=re[1],se=Object(n.useState)(!1),oe=Object(w.a)(se,2),le=oe[0],de=oe[1];function ue(e){return new Date(e).toLocaleDateString("en-GB",{year:"numeric",month:"long",day:"numeric"})}Object(n.useEffect)((function(){A||b(!1)}),[p]);var pe=function(e){W(Object(D.a)(Object(D.a)({},V),{},Object(Zc.a)({},e.target.name,e.target.value)))},je=function(e,t){var a=0,n=0,r=0,c=0,s=0,o=0,l=0,d=0,u=0,p=0,j=0,b=0,h=0,f=0,O=0;R(),x&&x.forEach((function(x,m){if(a=0,n=0,r=0,c=0,s=0,o=0,l=0,d=0,u=0,p=0,j=0,h=0,f=0,b=0,O=0,x.tableData.checked){a=0,y&&y.filter((function(e){return e.empid===x.id})).map((function(e){return v({id:e.id,payrun:t}),a+=e.amount})),n=0,S&&S.filter((function(e){return e.empid===x.id})).map((function(e){return C({id:e.id,payrun:t}),n+=e.amount}));var g=x.id,_=x.name,w=x.bank_name,E=x.bank_acno,N=x.basic_salary,I=x.salary_currency,P=x.tap_acno,T=x.scp_acno,A=x.tap_checkbox;if(r=N,I&&"BND"!==I){var k=i.filter((function(e){return e.currency===I})).map((function(e){return Object(D.a)({},e)}));d=k[0].rate}else d=1;s=A?Math.ceil(.05*r):0,(o=A?Math.round(.035*(r+Number.EPSILON)*100)/100:0)>98&&(o=98),l=r+n+a+c-s-o,u=Math.round((N+Number.EPSILON)*d*100)/100,j=Math.round((s+Number.EPSILON)*d*100)/100,b=Math.round((o+Number.EPSILON)*d*100)/100,O=Math.round((l+Number.EPSILON)*d*100)/100,h=Math.round((n+Number.EPSILON)*d*100)/100,f=Math.round((a+Number.EPSILON)*d*100)/100,O=u+h+f-j-b;var R={name:_,period:e,pay_date:V.pay_date,payrun:t,bank_name:w,bank_acno:E,salary_currency:I||"BND",currency_rate:d,tap_acno:P,scp_acno:T,tap_checkbox:A,empid:g,status:"Pending",allows_type1:"Site Allowances",allows_type1amt:n,allows_type2:"Expenses Claims",allows_type2amt:a,allows_type3:" ",allows_type3amt:0,allows_type4:" ",allows_type4amt:0,allows_type5:" ",allows_type5amt:0,allows_type6:" ",allows_type6amt:0,allows_type7:" ",allows_type7amt:0,allows_type8:" ",allows_type8amt:0,deducts_type1:" ",deducts_type1amt:0,deducts_type2:" ",deducts_type2amt:0,deducts_type3:" ",deducts_type3amt:0,deducts_type4:" ",deducts_type4amt:0,deducts_type5:" ",deducts_type5amt:0,deducts_type6:" ",deducts_type6amt:0,deducts_type7:" ",deducts_type7amt:0,deducts_type8:" ",deducts_type8amt:0,wages:r,tap_amount:s,scp_amount:o,total_allowances:c,total_deductions:0,site_allows:n,expenses_claims:a,nett_pay:l,wages_bnd:u,site_allows_bnd:h,expenses_claims_bnd:f,total_allowances_bnd:p,total_deductions_bnd:0,tap_amount_bnd:j,scp_amount_bnd:b,nett_pay_bnd:O};L(Object(D.a)({},R))}}))},be=function(e,t){I({pay_freq:V.payfreq,from_date:V.fromdate,to_date:V.todate,pay_date:V.paydate,period:e,payrun:t,status:"Pending"}),P()};return Object(n.useEffect)((function(){O(),g(),E(),P()}),[]),Object(j.jsx)(_o.a,{className:a,style:{backgroundColor:"659dbd"},children:Object(j.jsxs)("section",{className:t.section,children:[Object(j.jsxs)(vo.a,{direction:"row",container:!0,spacing:1,children:[Object(j.jsx)(vo.a,{container:!0,item:!0,sm:3,style:{border:"1px solid black"},direction:"column",align:"left",children:Object(j.jsxs)("article",{className:t.jobinfo,children:[Object(j.jsx)("h2",{children:"Pay Run"}),Object(j.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),H(""),0===x.reduce((function(e,t){return t.tableData.checked?e+1:e}),0))return ae(!0),setTimeout((function(){ae(!1)}),3e3),null;var t,a=ue(V.fromdate)+" - "+ue(V.todate),n=V.fromdate.substring(0,4)+"-"+V.fromdate.substring(5,7);W(Object(D.a)(Object(D.a)({},V),{},{period:a,payrun:n,status:"New"})),V.fromdate.substring(0,4),V.fromdate.substring(5,7),V.fromdate.substring(5,7),V.fromdate,F(n),(t=n,T.some((function(e){return e.payrun===t})))?(ce(!0),de(!1),q(!0)):(je(a,n),be(a,n),ce(!1),q(!0),de(!0),b(!0))},children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Pay Frequency",variant:"filled",required:!0,defaultValue:"Monthly",style:{width:"100%"},name:"payfreq",value:V.payfreq,onChange:function(e){return pe(e)},Select:!0,children:Object(j.jsx)("option",{value:"Monthly",children:"Monthly"})})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"From Date",variant:"filled",name:"fromdate",type:"date",value:V.fromdate,required:!0,style:{width:"100%"},onChange:function(e){return pe(e)},InputLabelProps:{shrink:!0}})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"To Date",variant:"filled",type:"date",name:"todate",value:V.todate,required:!0,onChange:function(e){return pe(e)},style:{width:"100%"},InputLabelProps:{shrink:!0}})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Payment Date",variant:"filled",type:"date",name:"paydate",value:V.paydate,required:!0,style:{width:"100%"},onChange:function(e){return pe(e)},InputLabelProps:{shrink:!0}})}),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{children:Object(j.jsx)(Eo.a,{variant:"contained",color:"primary",className:t.button,onClick:o,disabled:le,children:"Currency Exchange Table"})}),Object(j.jsxs)("div",{children:[Object(j.jsxs)(Eo.a,{type:"submit",variant:"contained",color:"primary",className:t.button,children:["Submit ",Object(j.jsx)(Co.a,{className:t.rightIcon,children:"send"})]}),X&&!ie&&Object(j.jsxs)(Eo.a,{type:"submit",variant:"contained",color:"primary",className:t.button,onClick:function(){e.push("/payrunbatch")},children:["Next ",Object(j.jsx)(Co.a,{className:t.rightIcon,children:"send"})]})]})]}),Object(j.jsxs)("div",{children:[X&&!ie&&!B&&Object(j.jsx)("h3",{children:"New Payrun being added!"}),X&&ie&&Object(j.jsx)("h3",{children:"This payrun already existed!"})]}),Object(j.jsxs)("div",{children:[$&&Object(j.jsx)("h3",{children:"This Payrun period already existed!"}),te&&Object(j.jsx)("h3",{children:"You must select employees!"})]})]})]})}),Object(j.jsx)(Us.a,{orientation:"vertical",flexItem:!0,style:{background:"white"}}),Object(j.jsx)(vo.a,{container:!0,item:!0,sm:3,style:{border:"1px solid black"},align:"right",children:Object(j.jsx)(Ko.a,{columns:dj,data:x,title:"Employee Listing",options:{filtering:!1,search:!1,toolbar:!0,selection:!0,pageSize:10,headerStyle:{backgroundColor:"#daad86",color:"primary"},showTitle:!0}})})]}),Object(j.jsxs)(Qu.a,{isOpen:s,onClose:l,children:[Object(j.jsx)(Qu.g,{}),Object(j.jsxs)(Qu.d,{children:[Object(j.jsx)(Qu.f,{children:"Currency Table"}),Object(j.jsx)(Qu.c,{}),Object(j.jsx)(Qu.b,{children:Object(j.jsx)(k.a,{children:Object(j.jsx)(cj,{})})}),Object(j.jsx)(Qu.e,{children:Object(j.jsx)(Eo.a,{colorScheme:"blue",mr:3,onClick:l,children:"Close"})})]})]})]})})},jj=a(456),bj=(a(431),a(276)),hj=a(927),fj=a(601),Oj=a(938),xj=a(928),mj=a(455),gj=a(598),yj=a(942);function vj(){return(vj=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),e.next=3,fetch(ee,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _j(e){var t=Object(o.b)();Y();return Object(Ro.a)((function(e){return function(e){return vj.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("payslips")}}).mutate}function wj(){return Sj.apply(this,arguments)}function Sj(){return(Sj=Object(P.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("".concat(re));case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ej(){var e=Object(J.a)(ge.allowances,wj).data;return{allowances:void 0===e?[]:e}}var Cj=[{name:"",period:"",date:"",payrun:"",bank_name:"",bank_acno:"",tap_acno:"",scp_acno:"",empid:"",status:"",allows_type1:" ",allows_type1amt:0,allows_type2:" ",allows_type2amt:0,allows_type3:" ",allows_type3amt:0,allows_type4:" ",allows_type4amt:0,allows_type5:" ",allows_type5amt:0,allows_type6:" ",allows_type6amt:0,allows_type7:" ",allows_type7amt:0,allows_type8:" ",allows_type8amt:0,deducts_type1:" ",deducts_type1amt:0,deducts_type2:" ",deducts_type2amt:0,deducts_type3:" ",deducts_type3amt:0,deducts_type4:" ",deducts_type4amt:0,deducts_type5:" ",deducts_type5amt:0,deducts_type6:" ",deducts_type6amt:0,deducts_type7:" ",deducts_type7amt:0,deducts_type8:" ",deducts_type8amt:0,tap_checkbox:!1,salary_currency:" ",currency_rate:1,wages:0,nett_pay:0,tap_amount:0,scp_amount:0,total_allowances:0,total_deductions:0,site_allows:0,expenses_claims:0,nett_pay_bnd:0,wages_bnd:0,site_allows_bnd:0,expenses_claims_bnd:0,tap_amount_bnd:0,scp_amount_bnd:0,total_allowances_bnd:0,total_deductions_bnd:0}],Dj=Object(E.a)((function(e){return{root:{flexGrow:1},button:{margin:e.spacing(1)},container:{margin:0,padding:0,width:"80vw",display:"grid",gridTemplateColumns:"repeat(auto-fill,250px)",gridAutoRows:"10px",position:"absolute",left:"50%",transform:"translateX(-50%)",justifyContent:"center",backgroundColor:"primary"},fixedHeight:{height:800},paper:{padding:e.spacing(10),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%",color:"primary",bcakgroundColor:"black"},card:{backgroundColor:"black"},section:{width:"80vw",margin:"1rem auto",maxWidth:"var(--max-width)"},underline:{width:"5rem",height:"0.25rem",marginBottom:"1.25rem",background:"var(--clr-primary-5)",marginLeft:"auto",marginRight:"auto"},title:{marginbottom:"4rem",textAlign:"center"},jobscenter:{width:"80vw",margin:"0 auto",maxWidth:"var(--max-width)",flexDirection:"row"},btncontainer:{display:"flex",flexDirection:"row",justifyContent:"center",marginBottom:"4rem",flexWrap:"wrap"},jobbtn:{background:"transparent",borderColor:"transparent",textTransform:"capitalize",fontSize:"1.25rem",letterSpacing:"var(--spacing)",margin:"0 0.5rem",transition:"var(--transition)",cursor:"pointer",padding:"0.25rem 0",lineHeight:"1",outlineColor:"var(--clr-primary-10)","&:hover":{color:"var(--clr-primary-5)",boxShadow:"0 2px var(--clr-primary-5)"}},activebtn:{color:"var(--clr-primary-5)",boxShadow:"0 2px var(--clr-primary-5)"},jobinfo:{fontWeight:"400"},divider:{background:"white"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:350},divContainer:{display:"flex",flexDirection:"row"},formLabel:{fontSize:12,textAlign:"left",marginLeft:8,marginTop:5}}})),Nj=function(e){var t=e.formdata,a=(e.setFormdata,e.loadFormdata),r=e.setLoadFormdata,i=e.payitems,c=(e.setLoadUpdatedata,e.rowindex),s=(e.isCalc,e.isStart),o=(e.setIsStart,e.setIsCalc,e.singlebatchpayslip),l=Dj(),d=Object(n.useState)(Cj),p=Object(w.a)(d,2),b=p[0],h=p[1],f=(Ej().allowances,Object(n.useState)(!1)),O=Object(w.a)(f,2),x=O[0],m=O[1];Object(n.useEffect)((function(){h(Cj),h(Object(D.a)({},t)),r(!1)}),[a]),Object(n.useEffect)((function(){b&&(y(),m(!1))}),[x]);var g=function(e){e.preventDefault();var t=e.target,a=t.name,n=t.type,r=t.value,i="number"===n?isNaN(r)||void 0===r?0:parseFloat(r):r;h(Object(D.a)(Object(D.a)({},b),{},Object(Zc.a)({},a,i))),function(e){var t=e.name,a=e.value;o[c][t]=a}({name:a,value:i}),m(!0)},y=function(e){if(!s&&lj&&o&&b){var t,a,n,r,i,l,d,u,p,j,f,O,x,m=0,g=0,y=0,v=o[c];if(!v)return!1;t=isNaN(b.wages)||void 0===b.wages?0:b.wages,console.log("Wages",t),a=b.tap_checkbox?Math.ceil(.05*t):0,(m=b.tap_checkbox?Math.round(.035*(t+Number.EPSILON)*100)/100:0)>98&&(m=98),r=parseFloat(isNaN(b.site_allows)?0:b.site_allows),i=parseFloat(isNaN(b.expenses_claims)?0:b.expenses_claims),g=parseFloat(isNaN(b.allows_type3amt)?0:b.allows_type3amt)+parseFloat(isNaN(b.allows_type4amt)?0:b.allows_type4amt)+parseFloat(isNaN(b.allows_type5amt)?0:b.allows_type5amt)+parseFloat(isNaN(b.allows_type6amt)?0:b.allows_type6amt)+parseFloat(isNaN(b.allows_type7amt)?0:b.allows_type7amt)+parseFloat(isNaN(b.allows_type8amt)?0:b.allows_type8amt),y=parseFloat(isNaN(b.deducts_type1amt)?0:b.deducts_type1amt)+parseFloat(isNaN(b.deducts_type2amt)?0:b.deducts_type2amt)+parseFloat(isNaN(b.deducts_type3amt)?0:b.deducts_type3amt)+parseFloat(isNaN(b.deducts_type4amt)?0:b.deducts_type4amt)+parseFloat(isNaN(b.deducts_type5amt)?0:b.deducts_type5amt)+parseFloat(isNaN(b.deducts_type6amt)?0:b.deducts_type6amt)+parseFloat(isNaN(b.deducts_type7amt)?0:b.deducts_type7amt)+parseFloat(isNaN(b.deducts_type8amt)?0:b.deducts_type8amt),n=t+r+i-a-m+(g=isNaN(g)?0:g)-(y=isNaN(y)?0:y),l=Math.round((t+Number.EPSILON)*b.currency_rate*100)/100,j=Math.round((g+Number.EPSILON)*b.currency_rate*100)/100,f=Math.round((y+Number.EPSILON)*b.currency_rate*100)/100,d=Math.round((a+Number.EPSILON)*b.currency_rate*100)/100,u=Math.round((m+Number.EPSILON)*b.currency_rate*100)/100,O=Math.round((r+Number.EPSILON)*b.currency_rate*100)/100,x=Math.round((i+Number.EPSILON)*b.currency_rate*100)/100,p=Math.round((n+Number.EPSILON)*b.currency_rate*100)/100,h(Object(D.a)(Object(D.a)({},b),{},{wages:t,total_allowances:g,total_deductions:y,tap_amount:a,scp_amount:m,site_allows:r,expenses_claims:i,nett_pay:n,wages_bnd:l,total_allowances_bnd:j,total_deductions_bnd:f,tap_amount_bnd:d,scp_amount_bnd:u,site_allows_bnd:O,expenses_claims_bnd:x,nett_pay_bnd:p})),v.tap_amount=a,v.scp_amount=m,v.total_allowances=g,v.total_deductions=y,v.site_allows=r,v.expenses_claims=i,v.nett_pay=n,v.wages_bnd=l,v.site_allows_bnd=O,v.expenses_claims_bnd=x,v.total_allowances_bnd=j,v.total_deductions_bnd=f,v.nett_pay_bnd=p}};return Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),y()},children:[Object(j.jsxs)(vo.a,{container:!0,direction:"row",style:{border:"1px solid white"},children:[Object(j.jsx)(vo.a,{item:!0,sm:4,align:"center",style:{border:"1px solid white"},children:Object(j.jsx)(u.a,{as:"u",fontSize:"md",children:Object(j.jsx)(F.a,{size:"sm",children:"Allowances"})})}),Object(j.jsx)(vo.a,{item:!0,sm:4,align:"center",style:{border:"1px solid white"},children:Object(j.jsx)(u.a,{as:"u",fontSize:"md",children:Object(j.jsx)(F.a,{size:"sm",children:"Deductions"})})}),Object(j.jsx)(vo.a,{item:!0,sm:4,align:"center",style:{border:"1px solid white"},children:Object(j.jsxs)(u.a,{as:"u",fontSize:"md",children:[Object(j.jsx)(F.a,{size:"sm",children:"Summary"}),Object(j.jsxs)(F.a,{size:"sm",children:["(",b.name,")"]})]})})]}),Object(j.jsxs)(vo.a,{container:!0,direction:"row",style:{border:"1px solid white"},children:[Object(j.jsx)(vo.a,{item:!0,sm:4,align:"center",style:{border:"1px solid white"},children:Object(j.jsxs)(vo.a,{container:!0,direction:"row",style:{border:"1px solid white"},children:[Object(j.jsxs)(vo.a,{item:!0,sm:8,align:"center",style:{border:"1px solid white"},children:[Object(j.jsx)(k.a,{children:Object(j.jsx)(u.a,{fontSize:"sm",children:"Description"})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Allowance",name:"allows_type1",variant:"filled",type:"text",value:b.allows_type1,onChange:g,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Allowance",name:"allows_type2",variant:"filled",type:"text",displayEmpty:!0,defaultValue:"",value:b.allows_type2,onChange:g,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(j.jsxs)("div",{children:[Object(j.jsx)(mj.a,{htmlFor:"deduct-customized-native-simple",className:l.formLabel,children:"Allowance"}),Object(j.jsxs)(gj.a,{name:"allows_type3",value:b.allows_type3,style:{padding:4,marginLeft:5,width:"100%",textAlign:"left"},onChange:g,children:[Object(j.jsx)("option",{value:"",children:"None"}),i.filter((function(e){return"Allowances"===e.pay_type})).map((function(e){return Object(j.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(mj.a,{htmlFor:"deduct-customized-native-simple",className:l.formLabel,children:"Allowance"}),Object(j.jsxs)(gj.a,{name:"allows_type4",value:b.allows_type4,style:{padding:4,marginLeft:5,width:"100%",textAlign:"left"},onChange:g,children:[Object(j.jsx)("option",{value:"",children:"None"}),i.filter((function(e){return"Allowances"===e.pay_type})).map((function(e){return Object(j.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(mj.a,{htmlFor:"deduct-customized-native-simple",className:l.formLabel,children:"Allowance"}),Object(j.jsxs)(gj.a,{name:"allows_type5",value:b.allows_type5,style:{padding:4,marginLeft:5,width:"100%",textAlign:"left"},onChange:g,children:[Object(j.jsx)("option",{value:"",children:"None"}),i.filter((function(e){return"Allowances"===e.pay_type})).map((function(e){return Object(j.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(mj.a,{htmlFor:"deduct-customized-native-simple",className:l.formLabel,children:"Allowance"}),Object(j.jsxs)(gj.a,{name:"allows_type6",value:b.allows_type6,style:{padding:4,marginLeft:5,width:"100%",textAlign:"left"},onChange:g,children:[Object(j.jsx)("option",{value:"",children:"None"}),i.filter((function(e){return"Allowances"===e.pay_type})).map((function(e){return Object(j.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(mj.a,{htmlFor:"deduct-customized-native-simple",className:l.formLabel,children:"Allowance"}),Object(j.jsxs)(gj.a,{name:"allows_type7",value:b.allows_type7,style:{padding:4,marginLeft:5,width:"100%",textAlign:"left"},onChange:g,children:[Object(j.jsx)("option",{value:"",children:"None"}),i.filter((function(e){return"Allowances"===e.pay_type})).map((function(e){return Object(j.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(mj.a,{htmlFor:"deduct-customized-native-simple",className:l.formLabel,children:"Allowance"}),Object(j.jsxs)(gj.a,{name:"allows_type8",value:b.allows_type8,style:{padding:4,marginLeft:5,width:"100%",textAlign:"left"},onChange:g,children:[Object(j.jsx)("option",{value:"",children:"None"}),i.filter((function(e){return"Allowances"===e.pay_type})).map((function(e){return Object(j.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]}),Object(j.jsx)(k.a,{p:2,children:Object(j.jsx)(yj.a,{isInvalid:!b.tap_checkbox,isChecked:b.tap_checkbox,colorScheme:"red",size:"md",children:Object(j.jsx)(F.a,{size:"sm",children:"TAP/SCP Contribution"})})})]}),Object(j.jsxs)(vo.a,{item:!0,sm:4,align:"center",style:{border:"1px solid white"},children:[Object(j.jsx)(k.a,{children:Object(j.jsx)(u.a,{fontSize:"sm",children:b.salary_currency?b.salary_currency:"BND"})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Amount",name:"site_allows",variant:"filled",type:"number",step:"any",value:b.site_allows,onChange:g,style:{width:"100%"},InputLabelProps:{shrink:!0}})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Amount",name:"expenses_claims",variant:"filled",type:"number",step:"any",value:b.expenses_claims,onChange:g,InputLabelProps:{shrink:!0}})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Amount",name:"allows_type3amt",variant:"filled",type:"number",min:"0",max:"9999",step:"any",value:b.allows_type3amt,onChange:function(e){g(e)},InputLabelProps:{shrink:!0},errorText:""})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Amount",name:"allows_type4amt",variant:"filled",type:"number",step:"any",value:b.allows_type4amt,onChange:g,InputLabelProps:{shrink:!0}})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Amount",name:"allows_type5amt",variant:"filled",type:"number",step:"any",value:b.allows_type5amt,onChange:g,InputLabelProps:{shrink:!0}})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Amount",name:"allows_type6amt",variant:"filled",type:"number",step:"any",value:b.allows_type6amt,onChange:g,InputLabelProps:{shrink:!0}})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Amount",name:"allows_type7amt",variant:"filled",type:"number",step:"any",value:b.allows_type7amt,onChange:g,InputLabelProps:{shrink:!0}})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Amount",name:"allows_type8amt",variant:"filled",type:"number",step:"any",value:b.allows_type8amt,onChange:g,InputLabelProps:{shrink:!0}})})]})]})}),Object(j.jsx)(vo.a,{item:!0,sm:4,align:"center",style:{border:"1px solid white"},children:Object(j.jsxs)(vo.a,{container:!0,direction:"row",style:{border:"1px solid white"},children:[Object(j.jsxs)(vo.a,{item:!0,sm:8,align:"center",style:{border:"1px solid white"},children:[Object(j.jsx)(k.a,{children:Object(j.jsx)(u.a,{fontSize:"sm",children:"Description"})}),Object(j.jsxs)("div",{children:[Object(j.jsx)(mj.a,{htmlFor:"deduct-customized-native-simple",className:l.formLabel,children:"Deduction"}),Object(j.jsxs)(gj.a,{name:"deducts_type1",value:b.deducts_type1,style:{padding:4,marginLeft:5,width:"100%",textAlign:"left"},onChange:g,children:[Object(j.jsx)("option",{value:"",children:"None"}),i.filter((function(e){return"Deductions"===e.pay_type})).map((function(e){return Object(j.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(mj.a,{htmlFor:"deduct-customized-native-simple",className:l.formLabel,children:"Deduction"}),Object(j.jsxs)(gj.a,{name:"deducts_type2",value:b.deducts_type2,style:{padding:4,marginLeft:5,width:"100%",textAlign:"left"},onChange:g,children:[Object(j.jsx)("option",{value:"",children:"None"}),i.filter((function(e){return"Deductions"===e.pay_type})).map((function(e){return Object(j.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(mj.a,{htmlFor:"deduct-customized-native-simple",className:l.formLabel,children:"Deduction"}),Object(j.jsxs)(gj.a,{name:"deducts_type3",value:b.deducts_type3,style:{padding:4,marginLeft:5,width:"100%",textAlign:"left"},onChange:g,children:[Object(j.jsx)("option",{value:"",children:"None"}),i.filter((function(e){return"Deductions"===e.pay_type})).map((function(e){return Object(j.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(mj.a,{htmlFor:"deduct-customized-native-simple",className:l.formLabel,children:"Deduction"}),Object(j.jsxs)(gj.a,{name:"deducts_type4",value:b.deducts_type4,style:{padding:4,marginLeft:5,width:"100%",textAlign:"left"},onChange:g,children:[Object(j.jsx)("option",{value:"",children:"None"}),i.filter((function(e){return"Deductions"===e.pay_type})).map((function(e){return Object(j.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(mj.a,{htmlFor:"deduct-customized-native-simple",className:l.formLabel,children:"Deduction"}),Object(j.jsxs)(gj.a,{name:"deducts_type5",value:b.deducts_type5,style:{padding:4,marginLeft:5,width:"100%",textAlign:"left"},onChange:g,children:[Object(j.jsx)("option",{value:"",children:"None"}),i.filter((function(e){return"Deductions"===e.pay_type})).map((function(e){return Object(j.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(mj.a,{htmlFor:"deduct-customized-native-simple",className:l.formLabel,children:"Deduction"}),Object(j.jsxs)(gj.a,{name:"deducts_type6",value:b.deducts_type6,style:{padding:4,marginLeft:5,width:"100%",textAlign:"left"},onChange:g,children:[Object(j.jsx)("option",{value:"",children:"None"}),i.filter((function(e){return"Deductions"===e.pay_type})).map((function(e){return Object(j.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(mj.a,{htmlFor:"deduct-customized-native-simple",className:l.formLabel,children:"Deduction"}),Object(j.jsxs)(gj.a,{name:"deducts_type7",value:b.deducts_type7,style:{padding:4,marginLeft:5,width:"100%",textAlign:"left"},onChange:g,children:[Object(j.jsx)("option",{value:"",children:"None"}),i.filter((function(e){return"Deductions"===e.pay_type})).map((function(e){return Object(j.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(mj.a,{htmlFor:"deduct-customized-native-simple",className:l.formLabel,children:"Deduction"}),Object(j.jsxs)(gj.a,{name:"deducts_type8",value:b.deducts_type8,style:{padding:4,marginLeft:5,width:"100%",textAlign:"left"},onChange:g,children:[Object(j.jsx)("option",{value:"",children:"None"}),i.filter((function(e){return"Deductions"===e.pay_type})).map((function(e){return Object(j.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]}),"BND"!==b.salary_currency&&Object(j.jsx)(k.a,{p:2,children:Object(j.jsx)(u.a,{fontSize:"md",children:Object(j.jsxs)(F.a,{size:"sm",children:["Exchange Rate: ",b.currency_rate]})})})]}),Object(j.jsxs)(vo.a,{item:!0,sm:4,align:"center",style:{border:"1px solid white"},children:[Object(j.jsx)(k.a,{children:Object(j.jsx)(u.a,{fontSize:"sm",children:b.salary_currency?b.salary_currency:"BND"})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Amount",name:"deducts_type1amt",variant:"filled",type:"number",step:"any",inputProps:{minLength:0},value:b.deducts_type1amt,onChange:g,InputLabelProps:{shrink:!0}})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Amount",name:"deducts_type2amt",variant:"filled",type:"number",step:"any",value:b.deducts_type2amt,onChange:g,InputLabelProps:{shrink:!0}})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Amount",name:"deducts_type3amt",variant:"filled",type:"number",step:"any",value:b.deducts_type3amt,onChange:g,InputLabelProps:{shrink:!0}})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Amount",name:"deducts_type4amt",variant:"filled",type:"number",step:"any",value:b.deducts_type4amt,onChange:g,InputLabelProps:{shrink:!0}})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Amount",name:"deducts_type5amt",variant:"filled",type:"number",step:"any",value:b.deducts_type5amt,onChange:g,InputLabelProps:{shrink:!0}})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Amount",name:"deducts_type6amt",variant:"filled",type:"number",step:"any",value:b.deducts_type6amt,onChange:g,InputLabelProps:{shrink:!0}})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Amount",name:"deducts_type7amt",variant:"filled",type:"number",step:"any",value:b.deducts_type7amt,onChange:g,InputLabelProps:{shrink:!0}})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Amount",name:"deducts_type8amt",variant:"filled",type:"number",step:"any",value:b.deducts_type8amt,onChange:g,InputLabelProps:{shrink:!0}})})]})]})}),Object(j.jsx)(vo.a,{item:!0,sm:4,align:"center",style:{border:"1px solid white"},children:Object(j.jsxs)(vo.a,{container:!0,direction:"row",style:{border:"1px solid white"},children:[Object(j.jsxs)(vo.a,{item:!0,sm:b.salary_currency&&"BND"!==b.salary_currency?6:12,align:"center",style:{border:"1px solid white"},children:[Object(j.jsx)(k.a,{children:Object(j.jsx)(u.a,{fontSize:"sm",children:b.salary_currency?b.salary_currency:"BND"})}),Object(j.jsx)(Us.a,{variant:"fullWidth",className:l.divider}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Wages",name:"wages",variant:"filled",type:"number",step:"any",value:b.wages,onChange:g,style:{width:"100%"},InputLabelProps:{shrink:!0}})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"TAP Amount",name:"tap_amount",variant:"filled",type:"number",value:Ao()(b.tap_amount),onChange:g,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"SCP Amount",name:"scp_amount",variant:"filled",type:"number",value:Ao()(b.scp_amount),onChange:g,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Site Allowances",name:"siteallows",variant:"filled",type:"number",value:Ao()(b.site_allows),onChange:g,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Expenses Claims",name:"expclaims",variant:"filled",type:"number",value:Ao()(b.expenses_claims),onChange:g,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Total Allowances",name:"total_allowances",variant:"filled",type:"number",value:Ao()(b.total_allowances),onChange:g,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Total Deductions",name:"total_deductions",variant:"filled",type:"number",value:Ao()(b.total_deductions),onChange:g,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Nett Pay",name:"nett_pay",variant:"filled",type:"number",value:Ao()(b.nett_pay),onChange:g,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(j.jsx)("div",{children:Object(j.jsxs)(Eo.a,{type:"submit",variant:"contained",color:"primary",className:l.button,style:{marginLeft:10},onClick:y,children:["Calc ",Object(j.jsx)(Co.a,{className:l.rightIcon,children:"send"})]})})]}),b.salary_currency&&"BND"!==b.salary_currency&&Object(j.jsxs)(vo.a,{item:!0,sm:6,align:"center",style:{border:"1px solid white"},children:[Object(j.jsx)(Us.a,{variant:"fullWidth",className:l.divider}),Object(j.jsx)(k.a,{children:Object(j.jsxs)(u.a,{fontSize:"sm",children:[" ",(b.salary_currency,"BND")]})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Wages",name:"wages",variant:"filled",type:"number",value:Ao()(b.wages_bnd),onChange:g,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"TAP Amount",name:"tap_amount",variant:"filled",type:"number",value:Ao()(b.tap_amount_bnd),onChange:g,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"SCP Amount",name:"scp_amount",variant:"filled",type:"number",value:Ao()(b.scp_amount_bnd),onChange:g,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Site Allowances",name:"siteallows",variant:"filled",type:"number",value:Ao()(b.site_allows_bnd),onChange:g,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Expenses Claims",name:"expclaims",variant:"filled",type:"number",value:Ao()(b.expenses_claims_bnd),onChange:g,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Total Allowances",name:"total_allowances",variant:"filled",type:"number",value:Ao()(b.total_allowances_bnd),onChange:g,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Total Deductions",name:"total_deductions",variant:"filled",type:"number",value:Ao()(b.total_deductions_bnd),onChange:g,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Nett Pay",name:"nett_pay",variant:"filled",type:"number",value:Ao()(b.nett_pay_bnd),onChange:g,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})})]})]})})]})]})},Ij=a(237),Pj=a.n(Ij),Tj=a(391),Aj=a.n(Tj);function kj(e){return e?e.toLocaleString("en-US",{style:"currency",currency:"USD"}):null}function Lj(e){return e.toLocaleString("en-US",{style:"currency",currency:"USD"})}var Rj=function(e){var t=e.singlebatchpayslip,a=t[0].period,n="Payroll Summary for the period  ".concat(a),r=(t.map((function(e){return{name:e.name,wages:e.wages_bnd}})),t.map((function(e){return e.name}))),i=t.map((function(e){return Lj(e.wages_bnd)})),c=t.map((function(e){return Lj(e.tap_amount_bnd)})),s=t.map((function(e){return Lj(e.scp_amount_bnd)})),o=t.map((function(e){return Lj(e.site_allows_bnd)})),l=t.map((function(e){return Lj(e.expenses_claims_bnd)})),d=t.map((function(e){return Lj(e.total_allowances_bnd)})),u=t.map((function(e){return Lj(e.total_deductions_bnd)})),p=t.map((function(e){return Lj(e.nett_pay_bnd)})),j=t.reduce((function(e,t){return e+t.wages_bnd}),0),b=t.reduce((function(e,t){return e+t.tap_amount_bnd}),0),h=t.reduce((function(e,t){return e+t.scp_amount_bnd}),0),f=t.reduce((function(e,t){return e+t.site_allows_bnd}),0),O=t.reduce((function(e,t){return e+t.expenses_claims_bnd}),0),x=t.reduce((function(e,t){return e+t.total_allowances_bnd}),0),m=t.reduce((function(e,t){return e+t.total_deductions_bnd}),0),g=t.reduce((function(e,t){return e+t.nett_pay_bnd}),0),y=Aj.a.pdfMake.vfs;Pj.a.vfs=y;var v={pageSize:"A4",pageOrientation:"landscape",content:[{text:"AppSmith Sutera Sdn Bhd",style:"header"},{text:n,style:"subheader"},{style:"tableExample",table:{widths:[200,50,50,50,50,50,50,50,50],body:[[{alignment:"center",text:"Employee Name",style:"subheader"},{alignment:"right",text:"Wages",style:"subheader"},{alignment:"right",text:"TAP Amount",style:"subheader"},{alignment:"right",text:"SCP Amount",style:"subheader"},{alignment:"right",text:"Site Allowances",style:"subheader"},{alignment:"right",text:"Expenses Claims",style:"subheader"},{alignment:"right",text:"Allowances",style:"subheader"},{alignment:"right",text:"Deductions",style:"subheader"},{alignment:"right",text:"Nett Pay",style:"subheader"}],[{stack:[{type:"none",fontSize:8,ul:r}]},{stack:[{type:"none",fontSize:8,alignment:"right",ul:i}]},{stack:[{type:"none",fontSize:8,alignment:"right",ul:c}]},{stack:[{type:"none",fontSize:8,alignment:"right",ul:s}]},{stack:[{type:"none",fontSize:8,alignment:"right",ul:o}]},{stack:[{type:"none",fontSize:8,alignment:"right",ul:l}]},{stack:[{type:"none",fontSize:8,alignment:"right",ul:d}]},{stack:[{type:"none",fontSize:8,alignment:"right",ul:u}]},{stack:[{type:"none",fontSize:8,alignment:"right",ul:p}]}],["",{alignment:"right",text:Lj(j),style:"footer"},{alignment:"right",text:Lj(b),style:"footer"},{alignment:"right",text:Lj(h),style:"footer"},{alignment:"right",text:Lj(f),style:"footer"},{alignment:"right",text:Lj(O),style:"footer"},{alignment:"right",text:Lj(x),style:"footer"},{alignment:"right",text:Lj(m),style:"footer"},{alignment:"right",text:Lj(g),style:"footer"}]]}}],styles:{header:{fontSize:12,bold:!0,margin:[0,0,0,10]},subheader:{fontSize:9,bold:!0,margin:[0,10,0,5]},footer:{fontSize:8,bold:!0,margin:[0,10,0,5]},tableExample:{margin:[0,5,0,15]},tableOpacityExample:{margin:[0,5,0,15],fillColor:"blue",fillOpacity:.3},tableHeader:{bold:!0,fontSize:13,color:"black"}},defaultStyle:{}};Pj.a.createPdf(v).open()},Bj=a(11),Fj=a(16),Gj=a(17),Uj=a(18),Vj=(r.a.PureComponent,[{title:"Name",field:"name",editable:"never"},{title:"Wages",field:"wages_bnd",editable:"never",type:"currency"},{title:"TAP Amount",field:"tap_amount_bnd",editable:"never",type:"currency"},{title:"SCP Amount",field:"scp_amount_bnd",editable:"never",type:"currency"},{title:"Site Allowances",field:"site_allows_bnd",editable:"never",type:"currency"},{title:"Expenses Claims",field:"expenses_claims_bnd",editable:"never",type:"currency"},{title:"Allowances",field:"total_allowances_bnd",editable:"never",type:"currency"},{title:"Deductions",field:"total_deductions_bnd",editable:"never",type:"currency"},{title:"Nett Pay",field:"nett_pay_bnd",editable:"never",type:"currency"}]),Wj=[{totalwages:0,totaltap:0,totalscp:0,totalallows:0,totaldeducts:0,totalpayroll:0}],zj=Object(E.a)((function(e){return{root:{flexGrow:1},button:{margin:e.spacing(1)},container:{margin:0,padding:0,width:"80vw",display:"grid",gridTemplateColumns:"repeat(auto-fill,250px)",gridAutoRows:"10px",position:"absolute",left:"50%",transform:"translateX(-50%)",justifyContent:"center",backgroundColor:"primary"},fixedHeight:{height:800},paper:{padding:e.spacing(10),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%",color:"primary",bcakgroundColor:"black"},card:{backgroundColor:"black"},section:{width:"80vw",margin:"1rem auto",maxWidth:"var(--max-width)"},underline:{width:"5rem",height:"0.25rem",marginBottom:"1.25rem",background:"var(--clr-primary-5)",marginLeft:"auto",marginRight:"auto"},title:{marginbottom:"4rem",textAlign:"center"},jobscenter:{width:"80vw",margin:"0 auto",maxWidth:"var(--max-width)",flexDirection:"row"},btncontainer:{display:"flex",flexDirection:"row",justifyContent:"center",marginBottom:"4rem",flexWrap:"wrap"},jobbtn:{background:"transparent",borderColor:"transparent",textTransform:"capitalize",fontSize:"1.25rem",letterSpacing:"var(--spacing)",margin:"0 0.5rem",transition:"var(--transition)",cursor:"pointer",padding:"0.25rem 0",lineHeight:"1",outlineColor:"var(--clr-primary-10)","&:hover":{color:"var(--clr-primary-5)",boxShadow:"0 2px var(--clr-primary-5)"}},activebtn:{color:"var(--clr-primary-5)",boxShadow:"0 2px var(--clr-primary-5)"},jobinfo:{fontWeight:"400"},divider:{background:"white"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:350},divContainer:{display:"flex",flexDirection:"row"}}})),Mj=function(e){var t=e.singlebatchpayslip,a=(zj(),Object(n.useRef)()),r=Object(n.useState)(Wj),i=Object(w.a)(r,2),c=(i[0],i[1],Object(h.d)(Re)),s=Object(w.a)(c,2),o=s[0],l=s[1],d=Object(h.d)(Ce),u=Object(w.a)(d,2),p=(u[0],u[1],Object(n.useState)(!0)),b=Object(w.a)(p,2),f=b[0],O=b[1],x=Rp(),m=(x.payrun,x.updatePayrun,x.payslip_period,Object(jj.useReactToPrint)({content:function(){return a.current}}),function(){var e=t,a=e.reduce((function(e,t){return e+t.wages_bnd}),0),n=e.reduce((function(e,t){return e+t.site_allows_bnd}),0),r=e.reduce((function(e,t){return e+t.expenses_claims_bnd}),0),i=e.reduce((function(e,t){return e+t.total_allowances_bnd}),0),c=e.reduce((function(e,t){return e+t.total_deductions_bnd}),0),s=e.reduce((function(e,t){return e+t.tap_amount_bnd}),0),d=e.reduce((function(e,t){return e+t.scp_amount_bnd}),0),u=e.reduce((function(e,t){return e+t.nett_pay_bnd}),0);l(Object(D.a)(Object(D.a)({},o),{},{totalpayroll:u,totalwages:a,totaltap:s,totalscp:d,totalallows:i,totaldeducts:c,totalsitesallows:n,totalexpensesclaims:r}))});return Object(n.useEffect)((function(){m(),O(!1)}),[f]),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{}),Object(j.jsxs)("form",{children:[Object(j.jsx)(vo.a,{container:!0,direction:"row",style:{border:"1px solid black"},children:Object(j.jsx)(vo.a,{children:Object(j.jsx)("div",{})})}),Object(j.jsxs)(vo.a,{container:!0,direction:"row",style:{border:"1px solid white"},children:[Object(j.jsx)(vo.a,{item:!0,sm:3,align:"center",style:{border:"1px solid white"},children:Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Period",name:"period",variant:"filled",type:"text",value:o.period,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})})}),Object(j.jsx)(vo.a,{item:!0,sm:3,align:"center",style:{border:"1px solid white"},children:Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Pay Run Batch",name:"payrun",variant:"filled",type:"text",value:o.payrun,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})})}),Object(j.jsx)(vo.a,{item:!0,sm:3,align:"center",style:{border:"1px solid white"},children:Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Status",name:"status",variant:"filled",value:o.status,style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})})}),Object(j.jsx)(vo.a,{item:!0,sm:3,align:"center",style:{border:"1px solid white"},children:Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Payroll Total",name:"paytotal",variant:"filled",type:"number",value:Ao()(o.totalpayroll),style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})})})]}),Object(j.jsx)(vo.a,{container:!0,direction:"row",style:{border:"1px solid white"},children:Object(j.jsx)(vo.a,{item:!0,sm:12,align:"center",style:{border:"1px solid white"},children:Object(j.jsx)(Ko.a,{columns:Vj,data:t,title:"Payroll",options:{filtering:!1,search:!1,toolbar:!1,headerStyle:{backgroundColor:"lightblue",color:"primary"},showTitle:!1}})})}),Object(j.jsxs)(vo.a,{container:!0,direction:"row",style:{border:"1px solid white"},children:[Object(j.jsx)(vo.a,{item:!0,sm:3,align:"center",style:{border:"1px solid white"},children:Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Total Wages",name:"totalwages",variant:"filled",type:"currency",value:Ao()(o.totalwages),style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})})}),Object(j.jsx)(vo.a,{item:!0,sm:3,align:"center",style:{border:"1px solid white"},children:Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Total TAP",name:"totaltap",variant:"filled",type:"currency",value:Ao()(o.totaltap),style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})})}),Object(j.jsx)(vo.a,{item:!0,sm:3,align:"center",style:{border:"1px solid white"},children:Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Total SCP",name:"totalscp",variant:"filled",type:"currency",value:Ao()(o.totalscp),style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})})}),Object(j.jsx)(vo.a,{item:!0,sm:3,align:"center",style:{border:"1px solid white"},children:Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Total Sites Allows",name:"totalsitesallows",variant:"filled",type:"currency",value:Ao()(o.totalsiteallows),style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})})}),Object(j.jsx)(vo.a,{item:!0,sm:3,align:"center",style:{border:"1px solid white"},children:Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Total Expenses Claims",name:"totalsitesallows",variant:"filled",type:"currency",value:Ao()(o.totalexpensesclaims),style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})})}),Object(j.jsx)(vo.a,{item:!0,sm:3,align:"center",style:{border:"1px solid white"},children:Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Total Allowances",name:"totalallows",variant:"filled",type:"currency",value:Ao()(o.totalallows),style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})})}),Object(j.jsx)(vo.a,{item:!0,sm:3,align:"center",style:{border:"1px solid white"},children:Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Total Deductions",name:"totaldeducts",variant:"filled",type:"currency",value:Ao()(o.totaldeducts),style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})})}),Object(j.jsx)(vo.a,{item:!0,sm:3,align:"center",style:{border:"1px solid white"},children:Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Total Payroll",name:"totalpayroll",variant:"filled",type:"currency",value:Ao()(o.totalpayroll),style:{width:"100%"},InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})})})]})]})]})};function Hj(){return(Hj=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),e.next=3,fetch(ne,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yj(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return Hj.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("payrun"),a({title:"Payrun batch being updated!",status:"success"})}}).mutate}var Jj={name:"",period:"",pay_date:null,payrun:"",bank_name:"",bank_acno:"",salary_currency:"BND",currency_rate:1,tap_acno:"",scp_acno:"",tap_checkbox:!1,empid:"",status:"",allows_type1:"",allows_type1amt:"",allows_type2:"",allows_type2amt:"",allows_type3:" ",allows_type3amt:0,allows_type4:"",allows_type4amt:0,allows_type5:" ",allows_type5amt:0,allows_type6:" ",allows_type6amt:0,allows_type7:" ",allows_type7amt:0,allows_type8:" ",allows_type8amt:0,deducts_type1:" ",deducts_type1amt:0,deducts_type2:" ",deducts_type2amt:0,deducts_type3:" ",deducts_type3amt:0,deducts_type4:" ",deducts_type4amt:0,deducts_type5:" ",deducts_type5amt:0,deducts_type6:" ",deducts_type6amt:0,deducts_type7:" ",deducts_type7amt:0,deducts_type8:" ",deducts_type8amt:0,wages:0,tap_amount:0,scp_amount:0,total_allowances:0,total_deductions:0,site_allows:0,expenses_claims:0,nett_pay:0,wages_bnd:0,site_allows_bnd:0,expenses_claims_bnd:0,total_allowances_bnd:0,total_deductions_bnd:0,tap_amount_bnd:0,scp_amount_bnd:0,nett_pay_bnd:0},Xj=["January","February","March","April","May","June","July","August","September","October","November","December"],qj=[{title:"Name",field:"name",editable:"never",cellStyle:{width:280,maxWidth:280}}],Qj=Object(E.a)((function(e){return{root:{flexGrow:1},button:{margin:e.spacing(1)},container:{margin:0,padding:0,width:"80vw",display:"grid",gridTemplateColumns:"repeat(auto-fill,250px)",gridAutoRows:"10px",position:"absolute",left:"50%",transform:"translateX(-50%)",justifyContent:"center",backgroundColor:"primary"},fixedHeight:{height:800},paper:{paddingTop:e.spacing(10),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%",color:"primary",bcakgroundColor:"white"},card:{backgroundColor:"white"},section:{width:"80vw",margin:"1rem auto",maxWidth:"var(--max-width)"},underline:{width:"5rem",height:"0.25rem",marginBottom:"1.25rem",background:"var(--clr-primary-5)",marginLeft:"auto",marginRight:"auto"},title:{marginbottom:"4rem",textAlign:"center"},empscenter:{width:"80vw",margin:"0 auto",maxWidth:"var(--max-width)",flexDirection:"row"},empcontainer:{display:"flex",flexDirection:"row",justifyContent:"center",marginBottom:"4rem",flexWrap:"wrap"},empbtn:{background:"transparent",borderColor:"transparent",textTransform:"capitalize",fontSize:"1rem",letterSpacing:"var(--spacing)",margin:"0 0.5rem",transition:"var(--transition)",cursor:"pointer",padding:"0.25rem 0",lineHeight:"1",outlineColor:"var(--clr-primary-10)","&:hover":{color:"var(--clr-primary-5)",boxShadow:"0 2px var(--clr-primary-5)"}},activebtn:{color:"var(--clr-primary-5)",boxShadow:"0 2px var(--clr-primary-5)"},empinfo:{fontWeight:"400"},divider:{background:"white"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:350}}})),Kj=function(){var e=Object(ts.f)(),t=Qj(),a=Y(),r=(Object(n.useRef)(),Object(as.a)(t.paper,t.fixedHeight),Rp()),i=(r.getSingleBatchPayslip,r.payslip_period),c=(r.singlebatch_payslip_loading,r.singlebatch_payslip_error,lj()),s=c.payslipsbatch,o=c.psbpayrunId,l=c.setPSBPayrunId,d=ve().employees,p=$p().payrun,b=_j(),f=Yj(),O=wl(),x=O.loadPayitems,m=O.payitems,g=Object(h.d)(Re),y=Object(w.a)(g,2),v=y[0],_=y[1],S=Object(h.d)(Ee),E=Object(w.a)(S,2),C=E[0],N=(E[1],Object(h.d)(Ce)),I=Object(w.a)(N,2),P=(I[0],I[1]),T=Object(n.useState)(!1),L=Object(w.a)(T,2),R=L[0],B=L[1],G=Object(n.useState)(!1),U=Object(w.a)(G,2),V=U[0],M=U[1],H=Object(n.useState)(Jj),J=Object(w.a)(H,2),X=J[0],q=J[1],Q=Object(n.useState)(0),K=Object(w.a)(Q,2),$=K[0],Z=K[1],ee=Object(n.useState)(!1),te=Object(w.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(!1),ie=Object(w.a)(re,2),ce=(ie[0],ie[1],Object(n.useState)(!1)),se=Object(w.a)(ce,2),oe=se[0],le=se[1],de=Object(n.useState)(!0),ue=Object(w.a)(de,2),pe=ue[0],je=ue[1],be=Object(n.useState)(!1),he=Object(w.a)(be,2),fe=he[0],Oe=he[1],xe=Object(n.useState)(0),me=Object(w.a)(xe,2),ge=me[0],ye=me[1],_e=Object(qp.a)(),we=_e.isOpen,Se=_e.onOpen,De=_e.onClose,Ne=s;Object(n.useEffect)((function(){x(),ne(!0)}),[]),Object(n.useEffect)((function(){Z(0),ne(!1)}),[ae]),Object(n.useEffect)((function(){B(!1)}),[V]),Object(n.useEffect)((function(){l(i)}),[o]),Object(n.useEffect)((function(){Te(),le(!1)}),[oe]);var Ie=function(e){Rj(e={singlebatchpayslip:e})},Pe=function(){Ne.forEach((function(e){var t=e.id,a=(e.rec_id,e.tableData,Object(Ge.a)(e,["id","rec_id","tableData"]));b(Object(D.a)({id:t},a))}))},Te=function(){var e=Ne.filter((function(e){return e.payrun===i})).map((function(e){return Object(D.a)({},e)})),t=e.reduce((function(e,t){var a=isNaN(t.nett_pay_bnd)?0:t.nett_pay_bnd;return e+Math.round(100*(a+Number.EPSILON))/100}),0),a=e.reduce((function(e,t,a){var n=isNaN(t.wages_bnd)?0:t.wages_bnd;return e+Math.round(100*(n+Number.EPSILON))/100}),0),n=e.reduce((function(e,t){var a=isNaN(t.tap_amount_bnd)?0:t.tap_amount_bnd;return e+Math.round(100*(a+Number.EPSILON))/100}),0),r=e.reduce((function(e,t){var a=isNaN(t.scp_amount_bnd)?0:t.scp_amount_bnd;return e+Math.round(100*(a+Number.EPSILON))/100}),0),c=e.reduce((function(e,t){var a=isNaN(t.total_allowances_bnd)?0:t.total_allowances_bnd;return e+Math.round(100*(a+Number.EPSILON))/100}),0),s=e.reduce((function(e,t){var a=isNaN(t.total_deductions_bnd)?0:t.total_deductions_bnd;return e+Math.round(100*(a+Number.EPSILON))/100}),0),o=e.reduce((function(e,t){var a=isNaN(t.site_allows_bnd)?0:t.site_allows_bnd;return e+Math.round(100*(a+Number.EPSILON))/100}),0),l=e.reduce((function(e,t){var a=isNaN(t.expenses_claims_bnd)?0:t.expenses_claims_bnd;return e+Math.round(100*(a+Number.EPSILON))/100}),0);_(Object(D.a)(Object(D.a)({},v),{},{totalpayroll:t,totalwages:a,totaltap:n,totalscp:r,totalallows:c,totaldeducts:s,totalsiteallows:o,totalexpensesclaims:l}))},Ae=function(){if("Verified"===v.status||"Approved"===v.status)return a({title:"This payroll batch has been ".concat(v.status,"! No changes can be made!"),status:"warning"}),Object(j.jsx)("div",{});var t=p.filter((function(e){return e.payrun===i}));console.log("paybatch",i,v),f({id:t[0].id,totalpayroll:v.totalpayroll,totalwages:v.totalwages,totaltap:v.totaltap,totalscp:v.totalscp,totalallows:v.totalallows,totaldeducts:v.totaldeducts,totalsitesallows:v.totalsiteallows,totalexpensesclaims:v.totalexpensesclaims}),e.push("/payslip")};Object(n.useEffect)((function(){Oe(1===ge)}),[ge]);var ke=function(){return Object(j.jsx)(k.a,{children:Object(j.jsx)(Ko.a,{columns:qj,data:s,title:"Employees",options:{filtering:!1,search:!1,toolbar:!0,selection:!0,pageSize:10,headerStyle:{backgroundColor:"#daad86",color:"primary"},showTitle:!0},components:{Toolbar:function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)(Qo.MTableToolbar,Object(D.a)({},e)),Object(j.jsx)("div",{style:{padding:"5px 10px"},children:Object(j.jsx)(z.a,{colorScheme:"blue",isDisabled:"Approve"!==v.status,onClick:function(){return Le()},leftIcon:Object(j.jsx)(bj.b,{color:"white",fontSize:"1.5em"}),children:"Email"})})]})}}})})},Le=function(e){var t=Xj[i.substring(6,7)],n=i.substring(0,4);s.forEach((function(e){if(e.tableData.checked){var r=e.name,i=e.empid,c={to_name:r,to_email:d.filter((function(e){return e.id===i})).map((function(e){return Object(D.a)({},e)}))[0].email,message:"Your payroll for the month of ".concat(t," ").concat(n," has been transfered. Please login in to view your payslip!")};ms.a("service_ffxn6vb","template_1y8odlq",c,"user_oLsKrJJYgmAa4uBnRGkuq").then((function(e){console.log(e.status,e.text),a({title:"Email has sent successfully to ".concat(c.to_email,"!"),status:"success"})}),(function(e){console.log(e),a({title:"Email has fail to send to ".concat(c.to_email,"!"),status:"warning"})}))}}))};return Object(j.jsxs)(hj.a,{marginLeft:4,marginTop:70,w:"98%",h:"100%",style:{backgroundColor:"lightcyan"},children:[Object(j.jsxs)(fj.a,{templateRows:"repeat(10,1fr)",templateColumns:"repeat(1,1fr)",children:[Object(j.jsxs)(fj.b,{rowSpan:1,colSpan:1,children:[Object(j.jsxs)(fj.a,{templateRows:"repeat(1,1fr)",templateColumns:"repeat(10,1fr)",children:[Object(j.jsx)(fj.b,{rowSpan:1,colSpan:2}),Object(j.jsx)(fj.b,{rowSpan:1,colSpan:4,children:Object(j.jsx)(k.a,{textAlign:"center",alignItems:"center",children:Object(j.jsx)(F.a,{pl:"10",pt:"2",children:"Payroll"})})}),Object(j.jsx)(fj.b,{rowSpan:1,colSpan:4,children:Object(j.jsx)(k.a,{pt:"2",pr:5,alignItems:"right",align:"right",children:Object(j.jsxs)(A.b,{spacing:4,direction:"row",align:"center",pl:150,children:[Object(j.jsx)(z.a,{width:"800px",colorScheme:"blue",isDisabled:"Verified"===v.status||"Approved"===v.status||!fe,onClick:function(t){return function(t){t.preventDefault(),Pe(),Ae(),a({title:"Changes have been saved!",status:"success"}),e.push("/payslip")}(t)},leftIcon:Object(j.jsx)(bj.c,{color:"white",fontSize:"1.5em"}),children:"Save/Exit"}),Object(j.jsx)(z.a,{isDisabled:!fe,width:"500px",colorScheme:"blue",onClick:function(e){return function(e){e.preventDefault(),"Verified"===v.status||"Approved"===v.status||(Pe(),f({id:C,totalpayroll:v.totalpayroll,totalwages:v.totalwages,totaltap:v.totaltap,totalscp:v.totalscp,totalallows:v.totalallows,totaldeducts:v.totaldeducts,totalsitesallows:v.totalsiteallows,totalexpensesclaims:v.totalexpensesclaims})),Ie(Ne)}(e)},leftIcon:Object(j.jsx)(bj.c,{color:"white",fontSize:"1.5em"}),children:"Print"}),Object(j.jsx)(z.a,{width:"500px",colorScheme:"blue",isDisabled:"Verified"===v.status||"Approved"===v.status||"New"===v.status||!fe,onClick:function(e){return function(e){e.preventDefault(),_(Object(D.a)(Object(D.a)({},v),{},{status:"Verified"})),P("Verified"),Pe(),f({id:C,status:"Verified",totalpayroll:v.totalpayroll,totalwages:v.totalwages,totaltap:v.totaltap,totalscp:v.totalscp,totalallows:v.totalallows,totaldeducts:v.totaldeducts,totalsitesallows:v.totalsiteallows,totalexpensesclaims:v.totalexpensesclaims}),a({title:"Batch has been verified!",status:"success"})}(e)},leftIcon:Object(j.jsx)(bj.a,{color:"white",fontSize:"1.5em"}),children:"Verify"}),Object(j.jsx)(z.a,{width:"500px",colorScheme:"blue",isDisabled:"Approved"!==v.status,onClick:Se,leftIcon:Object(j.jsx)(bj.b,{color:"white",fontSize:"1.5em"}),children:"Email"})]})})})]}),Object(j.jsx)(W.a,{style:{border:"1px solid lightgrey"},orientation:"horizontal",colorScheme:"red",variant:"solid"})]}),Object(j.jsxs)(Oj.e,{defaultIndex:0,onChange:function(e){return function(e){ye(e),1===e&&Te(),Oe(!1)}(e)},children:[Object(j.jsxs)(Oj.b,{marginLeft:4,children:[Object(j.jsx)(Oj.a,{children:Object(j.jsx)(k.a,{children:Object(j.jsx)(F.a,{size:"sm",children:"Details"})})}),Object(j.jsx)(Oj.a,{children:Object(j.jsx)(k.a,{children:Object(j.jsx)(F.a,{size:"sm",children:"Summary"})})})]}),Object(j.jsxs)(Oj.d,{children:[Object(j.jsx)(Oj.c,{children:Object(j.jsxs)(fj.a,{templateRows:"repeat(1,1fr)",templateColumns:"repeat(10,1fr)",children:[Object(j.jsxs)(fj.b,{colSpan:2,children:[Object(j.jsx)(k.a,{textAlign:"center",p:4,children:Object(j.jsx)(F.a,{size:"sm",alignItems:"center",children:"Employees"})}),Object(j.jsx)(W.a,{backgroundColor:"white"}),Object(j.jsx)(k.a,{border:"2px solid white",backgroundColor:"cyan.100",children:Object(j.jsx)(xj.a,{variant:"simple",children:Object(j.jsx)(xj.b,{children:s.map((function(e,a){return Object(j.jsxs)("div",{children:[Object(j.jsx)(z.a,{className:t.empbtn,variant:"outlined",onClick:function(e){Z(a),je(!1),function(e){var t=Ne[e];q(Jj),q(Object(D.a)(Object(D.a)({},Jj),t)),q(Object(D.a)(Object(D.a)({},Jj),t)),B(!0)}(a)},children:Object(j.jsx)(u.a,{isTruncated:!0,maxWidth:240,children:e.name})}),Object(j.jsx)(W.a,{backgroundColor:"white"})]})}))})})})]}),Object(j.jsx)(fj.b,{colSpan:8,children:Object(j.jsx)(Nj,{formdata:X,setFormdata:q,loadFormdata:R,setLoadFormdata:B,payitems:m,setLoadUpdatedata:M,singlebatchpayslip:Ne,rowindex:$,isCalc:oe,isStart:pe,setIsStart:je,setIsCalc:le})})]})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(Mj,{payrundata:v,singlebatchpayslip:Ne})})]})]})]}),Object(j.jsxs)(Qu.a,{isOpen:we,onClose:De,children:[Object(j.jsx)(Qu.g,{}),Object(j.jsxs)(Qu.d,{children:[Object(j.jsx)(Qu.c,{}),Object(j.jsx)(Qu.b,{children:Object(j.jsx)(ke,{})}),Object(j.jsx)(Qu.e,{children:Object(j.jsx)(z.a,{colorScheme:"blue",mr:3,onClick:De,children:"Close"})})]})]})]})},$j=Object(E.a)((function(e){return{root:{maxWidth:"500"},card:{margin:"15px 10px",padding:0,border:"solid 1px black",borderRadius:"16px",backgroundColor:"dark"},small:{gridRowEnd:"span 26"},medium:{gridRowEnd:"span 33"},large:{gridRowEnd:"span 45"}}})),Zj=function(e){var t=e.title,a=e.children,n=e.handleClick,r=$j();return Object(j.jsxs)(ud.a,{className:r.card,children:[Object(j.jsx)(pd.a,{action:Object(j.jsx)("div",{children:Object(j.jsx)(ss.a,{"aria-label":"settings",onClick:n,children:Object(j.jsx)(hd.a,{})})}),title:t}),Object(j.jsx)(jd.a,{children:a})]})},eb=a(921),tb=function(){return Object(j.jsxs)(cs.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(j.jsx)(eb.a,{color:"inherit",href:"https://material-ui.com/",children:"SK Communication Services"}),(new Date).getFullYear()]})},ab=a(933),nb=a(929),rb=a(930),ib=a(931),cb=a(932),sb={name:"",to_date:"",from_date:"",reason:"",status:"Pending",no_of_days:0,leave_bal:0},ob=Object(E.a)((function(e){return{button:{margin:e.spacing(1)},leftIcon:{marginRight:e.spacing(1)},rightIcon:{marginLeft:e.spacing(1)},iconSmall:{fontSize:20},root:{padding:e.spacing(3,2)},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:400}}})),lb=function(e){var t=e.formdata,a=(e.setFormdata,e.handleDialogClose),r=ob(),i=Kd(),c=(i.leaves,i.filter,i.setFilter,i.setLeaveId,nu()),s=Zd(),o=Object(n.useState)(sb),l=Object(w.a)(o,2),d=(l[0],l[1],Object(h.d)(_e)),u=Object(w.a)(d,2),p=u[0],b=(u[1],Object(M.b)()),f=b.handleSubmit,O=b.control,x=(Object.values(sb).join(""),Gd()),m=x.isLeaveEditing,g=x.editLeaveID;console.log("leave",m,t);return Object(j.jsx)("div",{children:Object(j.jsxs)(_o.a,{className:r.root,children:[Object(j.jsx)(cs.a,{variant:"h5",component:"h3",children:"LEAVE FORM"}),Object(j.jsx)(cs.a,{component:"p",children:"Leave Application"}),Object(j.jsx)(Us.a,{}),Object(j.jsxs)("form",{onSubmit:f((function(e){console.log("leave",e),m?c(Object(D.a)({id:g},e)):s(Object(D.a)(Object(D.a)({},e),{},{empid:p.loginUserId})),a()})),children:[Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"name",control:O,defaultValue:t.name,render:function(e){var a=e.field,n=a.onChange,i=(a.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Name",id:"margin-normal",name:"name",defaultValue:t.name,className:r.textField,onChange:function(e){console.log(e.target.value),n(e.target.value)},InputProps:{readOnly:!0},error:!!i,helperText:i?i.message:null})}})}),Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"from_date",control:O,defaultValue:t.from_date,render:function(e){var a=e.field,n=a.onChange,i=(a.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"From Date",type:"date",id:"margin-normal",name:"from_date",defaultValue:t.from_date,className:r.textField,onChange:n,error:!!i,helperText:i?i.message:null,InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})},rules:{required:"From Date is required"}})}),Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"to_date",control:O,defaultValue:t.to_date,render:function(e){var a=e.field,n=a.onChange,i=(a.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"To Date",id:"margin-normal",type:"date",name:"to_date",defaultValue:t.to_date,className:r.textField,onChange:n,error:!!i,helperText:i?i.message:null,InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}})},rules:{required:"To Date is required"}})}),Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"leave_bal",control:O,defaultValue:t.leave_bal,render:function(e){var a=e.field,n=a.onChange,i=(a.value,e.fieldState.error);return Object(j.jsx)(Do.a,{disable:!0,label:"Leave Balance",type:"number",id:"standard-number",name:"leave_bal",defaultValue:t.leave_bal,className:r.textField,onChange:function(e){n(parseInt(e.target.value,10))},error:!!i,helperText:i?i.message:null,InputProps:{readOnly:!0}})}})}),Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"no_of_days",control:O,defaultValue:t.no_of_days,render:function(e){var a=e.field,n=a.onChange,i=(a.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"No Of Days",type:"number",id:"standard-number",name:"no_of_days",defaultValue:t.no_of_days,className:r.textField,onChange:function(e){n(parseInt(e.target.value,10))},error:!!i,helperText:i?i.message:null,InputProps:{readOnly:!0}})}})}),Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"reason",control:O,defaultValue:t.reason,render:function(e){var a=e.field,n=a.onChange,i=(a.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Reason",id:"margin-normal",name:"reason",defaultValue:t.reason,className:r.textField,onChange:n,error:!!i,helperText:i?i.message:null,InputProps:{readOnly:!0}})}})}),Object(j.jsx)("div",{children:Object(j.jsx)(M.a,{name:"status",control:O,defaultValue:t.status,render:function(e){var a=e.field,n=a.onChange,i=(a.value,e.fieldState.error);return Object(j.jsx)(Do.a,{label:"Status",id:"margin-normal",name:"status",defaultValue:t.status,className:r.textField,onChange:n,error:!!i,helperText:i?i.message:null,InputProps:{readOnly:!0}})}})}),Object(j.jsx)("div",{})]})]})})},db={name:"",to_date:"",from_date:"",reason:"",status:"Pending",no_of_days:0,leave_bal:0},ub=Object(E.a)((function(e){return{root:{padding:0}}})),pb=function(){var e=ub(),t=Object(ts.f)(),a=(Object(as.a)(e.paper,e.fixedHeight),Kd()),r=a.leaves,i=(a.filter,a.setFilter,a.setLeaveId,Object(h.d)(_e)),c=Object(w.a)(i,2),s=(c[0],c[1],Object(n.useState)([])),o=Object(w.a)(s,2),l=(o[0],o[1],Object(n.useState)(!1)),d=Object(w.a)(l,2),u=d[0],p=d[1],b=(Jc().editEmployeeID,Object(n.useState)(db)),f=Object(w.a)(b,2),O=f[0],x=f[1],m=Gd(),g=(m.leaves_loading,m.leaves_error,m.loadEmpLeaves,Date().toLocaleString()),y=Gd(),v=(y.editLeaveID,y.deleteLeave,y.loadLeaves,y.getSingleLeave,y.setEditLeaveID),_=y.setIsLeaveEditingOn,S=(y.setIsLeaveEditingOff,y.resetSingleLeave,function(){p(!0)}),E=function(){p(!1)};return Object(j.jsx)(Gs.a,{className:e.root,children:Object(j.jsxs)(fj.a,{container:!0,direction:"row",children:[Object(j.jsxs)(A.b,{direction:"row",children:[Object(j.jsx)(F.a,{as:"h4",size:"md",children:"Leaves Schedule"}),Object(j.jsx)(nb.a,{}),Object(j.jsx)(rb.a,{size:"md","aria-label":"Edit",icon:Object(j.jsx)(ib.a,{}),onClick:function(){return t.push("/leave")}})]}),r.filter((function(e){return"Approve"===e.status&&Object(cp.a)(new Date(e.from_date),new Date(g))<60&&Object(cp.a)(new Date(e.to_date),new Date(g))<60&&Object(cp.a)(new Date(e.from_date),new Date(g))>0})).map((function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(fj.a,{templateColumns:"repeat(13, 1fr)",gap:3,p:1,children:[Object(j.jsx)(fj.b,{colSpan:1,children:Object(j.jsx)(k.a,{w:"100%",children:Object(j.jsx)(rb.a,{size:"sm","aria-label":"Edit",icon:Object(j.jsx)(cb.a,{}),onClick:function(){return t=e,x(Object(D.a)({},t)),x(Object(D.a)({},t)),v(t.id),_(),void S();var t}})})}),Object(j.jsx)(fj.b,{colSpan:3,children:Object(j.jsx)(k.a,{w:"100%",children:e.name})}),Object(j.jsx)(fj.b,{colSpan:3,children:Object(j.jsx)(k.a,{w:"100%",children:e.from_date})}),Object(j.jsx)(fj.b,{colSpan:3,children:Object(j.jsx)(k.a,{w:"100%",children:e.to_date})}),Object(j.jsx)(fj.b,{colSpan:3,children:Object(j.jsx)(k.a,{w:"100%",children:e.reason})})]}),Object(j.jsx)(Sd,{isOpen:u,handleClose:E,title:"",showButton:!0,isFullscree:!1,children:Object(j.jsx)(lb,{formdata:O,setFormdata:x,handleDialogClose:E})})]})}))]})})},jb=[{title:"Name",field:"name",editable:"never"},{title:"From Date",field:"from_date",type:"date",dateSetting:{locale:"en-GB"},editable:"never"},{title:"To Date",field:"to_date",type:"date",dateSetting:{locale:"en-GB"},editable:"never"},{title:"Leave Balance",field:"leave_bal",editable:"never",cellStyle:{width:10,maxWidth:10}},{title:"Days",field:"no_of_days",editable:"never",cellStyle:{width:10,maxWidth:10}},{title:"Reason",field:"reason",editable:"never",cellStyle:{width:10,maxWidth:10}},{title:"Status",field:"status",editable:"never",cellStyle:{width:50,maxWidth:50},editComponent:function(e){return Object(j.jsxs)(Do.a,{onChange:function(t){return e.onChange(t.target.value)},style:{width:100},value:e.value,select:!0,children:[Object(j.jsx)(No.a,{value:"Pending",children:"Pending"}),Object(j.jsx)(No.a,{value:"Approve",children:"Approve"}),Object(j.jsx)(No.a,{value:"Reject",children:"Reject"}),Object(j.jsx)(No.a,{value:"Cancel",children:"Cancel"})]})}}];function bb(e){var t=e.leavesdata,a=(e.setLeavesdata,e.handleDialogClose,hb()),r=Y(),i=Object(h.d)(_e),c=Object(w.a)(i,2),s=(c[0],c[1],Object(n.useState)(!1)),o=Object(w.a)(s,2),l=o[0],d=o[1],u=Object(n.useState)(!1),p=Object(w.a)(u,2),b=p[0],f=p[1],O=ve().employees,x=Gd(),m=x.editLeaveID,g=x.updateLeave,y=x.deleteLeave,v=x.loadLeaves,_=x.update_leave_error,S=Jc(),E=S.updateEmployee,C=(S.update_employee_error,function(){d(!1),v()}),N=function(e,t){var a=e.from_date,n=e.to_date,i=e.name,c=e.empid,s=O.filter((function(e){return e.id===c})).map((function(e){return Object(D.a)({},e)}));console.log("leave form",e,s);var o={to_name:i,to_email:s[0].email,message:"Your leave application from ".concat(a," to ").concat(n," has been ").concat(t,"!")};ms.a("service_ffxn6vb","template_1y8odlq",o,"user_oLsKrJJYgmAa4uBnRGkuq").then((function(e){console.log(e.status,e.text),r({title:"Email has sent successfully to ".concat(o.to_email,"!"),status:"success"})}),(function(e){console.log(e),r({title:"Email has fail to send to ".concat(o.to_email,"!"),status:"warning"})}))},I=function(){t.forEach((function(e){if(e.tableData.checked){if(g({id:e.id,status:"Approved"}),!_){t.filter((function(t){return t.id===e.id}))[0].status="Approved";var a=O.filter((function(t){return t.id===e.empid})).map((function(e){return e.leave_bal}))-e.no_of_days;E({id:e.empid,leave_bal:a})}N(e,"Approved")}})),t.forEach((function(e){e.tableData&&(e.tableData.checked=!1)}))},P=function(){t.forEach((function(e){if(e.tableData.checked){if(g({id:e.id,status:"Rejected"}),!_)t.filter((function(t){return t.id===e.id}))[0].status="Rejected";N(e,"Rejected")}})),t.forEach((function(e){e.tableData&&(e.tableData.checked=!1)}))};return Object(j.jsx)("div",{className:a.root,children:Object(j.jsxs)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:[Object(j.jsx)(Ko.a,{columns:jb,data:t,title:"Leave Application",icons:{Add:function(e){return Object(j.jsx)(Zu.a,{})},Edit:function(e){return Object(j.jsx)(hd.a,{})},Delete:function(e){return Object(j.jsx)(tp.a,{})},Clear:function(e){return Object(j.jsx)(tp.a,{})},Check:function(e){return Object(j.jsx)(np.a,{})},Search:function(e){return Object(j.jsx)(ip.a,{})},ResetSearch:function(e){return Object(j.jsx)(tp.a,{})}},options:{filtering:!0,selection:!0,headerStyle:{backgroundColor:"#90CDF4",color:"primary"},showTitle:!0},components:{Toolbar:function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)(Qo.MTableToolbar,Object(D.a)({},e)),Object(j.jsxs)("div",{style:{padding:"5px 10px"},children:[Object(j.jsx)(Eo.a,{type:"submit",variant:"contained",color:"secondary",className:a.button,onClick:I,children:"Approve"}),Object(j.jsx)(Eo.a,{type:"submit",variant:"contained",color:"secondary",className:a.button,onClick:P,children:"Reject"})]})]})}}}),Object(j.jsx)(Sd,{isOpen:l,handleClose:C,title:"",showButton:!0,isFullscree:!1,children:Object(j.jsx)(cu,{handleDialogClose:C})}),Object(j.jsx)(Ku,{onClose:function(){f(!1)},onConfirm:function(){y(m),v()},isOpen:b,title:"Delete Expenses",children:Object(j.jsx)("h2",{children:"Are you sure you want to delete ?"})})]})})}var hb=Object(E.a)((function(e){return{root:{padding:0},button:{margin:e.spacing(1)}}})),fb=a(212),Ob=a.n(fb),xb="Pending",mb=[{title:"Name",field:"name",editable:"never"},{title:"From Date",field:"from_date",type:"date",dateSetting:{locale:"en-GB"},editable:"never"},{title:"To Date",field:"to_date",type:"date",dateSetting:{locale:"en-GB"},editable:"never"},{title:"Description",field:"description",editable:"never"},{title:"Amount",field:"amount",type:"currency",editable:"never"},{title:"Status",field:"status",editComponent:function(e){return Object(j.jsxs)(Do.a,{onChange:function(t){return e.onChange(t.target.value)},style:{width:100},value:e.value,select:!0,children:[Object(j.jsx)(No.a,{value:"Pending",children:"Pending"}),Object(j.jsx)(No.a,{value:"Approve",children:"Approve"}),Object(j.jsx)(No.a,{value:"Reject",children:"Reject"}),Object(j.jsx)(No.a,{value:"Cancel",children:"Cancel"})]})}}];function gb(e){var t=e.expensesdata,a=(e.setExpensesdata,e.handleDialogClose,yb()),r=Object(n.useState)(!1),i=Object(w.a)(r,2),c=(i[0],i[1],Object(n.useState)(!1)),s=Object(w.a)(c,2),o=s[0],l=s[1],d=Object(n.useState)(!1),u=Object(w.a)(d,2),p=u[0],b=u[1],h=(Jc().loadEmployees,ju()),f=h.editExpenseID,O=h.updateExpense,x=h.update_expense_error,m=(h.expenses_loading,h.deleteExpense),g=h.loadPendingExpenses,y=function(){l(!1),g(xb)},v=function(){t.forEach((function(e){e.tableData.checked&&(O({id:e.id,status:"Approved"}),x||(t.filter((function(t){return t.id===e.id}))[0].status="Approved"))})),t.forEach((function(e){e.tableData&&(e.tableData.checked=!1)}))},_=function(){t.forEach((function(e){e.tableData.checked&&(O({id:e.id,status:"Rejected"}),x||(t.filter((function(t){return t.id===e.id}))[0].status="Rejected"))})),t.forEach((function(e){e.tableData&&(e.tableData.checked=!1)}))};return t?Object(j.jsx)("div",{className:a.root,children:Object(j.jsxs)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:[Object(j.jsx)(Ko.a,{columns:mb,data:t,title:"Expenses Claims Application",icons:{Add:function(e){return Object(j.jsx)(Zu.a,{})},Edit:function(e){return Object(j.jsx)(Ob.a,{})},Delete:function(e){return Object(j.jsx)(tp.a,{})},Clear:function(e){return Object(j.jsx)(tp.a,{})},Check:function(e){return Object(j.jsx)(np.a,{})},Search:function(e){return Object(j.jsx)(ip.a,{})},ResetSearch:function(e){return Object(j.jsx)(tp.a,{})}},options:{filtering:!0,selection:!0,headerStyle:{backgroundColor:"orange",color:"#FFF"},showTitle:!0},components:{Toolbar:function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)(Qo.MTableToolbar,Object(D.a)({},e)),Object(j.jsxs)("div",{style:{padding:"5px 10px"},children:[Object(j.jsxs)(Eo.a,{type:"submit",variant:"contained",color:"secondary",className:a.button,onClick:v,children:["Approve ",Object(j.jsx)(Co.a,{className:a.rightIcon,children:"send"})]}),Object(j.jsxs)(Eo.a,{type:"submit",variant:"contained",color:"secondary",className:a.button,onClick:_,children:["Reject ",Object(j.jsx)(Co.a,{className:a.rightIcon,children:"send"})]})]})]})}}}),Object(j.jsx)(Sd,{isOpen:o,handleClose:y,title:"",showButton:!0,isFullscree:!1,children:Object(j.jsx)(wu,{handleDialogClose:y})}),Object(j.jsx)(Ku,{onClose:function(){b(!1)},onConfirm:function(){m(f),g(xb)},isOpen:p,title:"Delete Expenses",children:Object(j.jsx)("h2",{children:"Are you sure you want to delete ?"})})]})}):Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"Loading...Expenses"})})}var yb=Object(E.a)((function(e){return{root:{padding:0},button:{margin:e.spacing(1)}}})),vb=a(272),_b=a.n(vb),wb=[{title:"Batch",field:"payrun",editable:"never"},{title:"Period",field:"period",editable:"never"},{title:"Pay Date",field:"pay_date",type:"date",dateSetting:{locale:"en-GB"},editable:"never"},{title:"Wages",field:"totalwages",type:"currency",editable:"never"},{title:"TAP Amount",field:"totaltap",type:"currency",editable:"never"},{title:"SCP Amount",field:"totalscp",type:"currency",editable:"never"},{title:"Site Allowances",field:"totalsitesallows",type:"currency",editable:"never"},{title:"Expenses Claims",field:"totalexpensesclaims",type:"currency",editable:"never"},{title:"Allowances",field:"totalallows",type:"currency",editable:"never"},{title:"Deductions",field:"totaldeducts",type:"currency",editable:"never"},{title:"Total Payroll",field:"totalpayroll",type:"currency",editable:"never"},{title:"Status",field:"status",editable:"never",cellStyle:{width:50,maxWidth:50},editComponent:function(e){return Object(j.jsxs)(Do.a,{onChange:function(t){return e.onChange(t.target.value)},style:{width:100},value:e.value,select:!0,children:[Object(j.jsx)(No.a,{value:"Pending",children:"Pending"}),Object(j.jsx)(No.a,{value:"Approve",children:"Approve"}),Object(j.jsx)(No.a,{value:"Reject",children:"Reject"}),Object(j.jsx)(No.a,{value:"Cancel",children:"Cancel"})]})}}];function Sb(e){e.payslipsdata,e.setPayslipsdata,e.handleDialogClose,Object(ts.f)();var t=Eb(),a=(Object(h.g)(De),Rp()),n=a.updatePayrun,r=a.batchpayrun,i=(a.update_payrun_loading,a.update_payrun_error),c=function(){r.forEach((function(e){e.tableData.checked&&(n({id:e.id,status:"Approved"}),i||(r.filter((function(t){return t.id===e.id}))[0].status="Approved"))})),r.forEach((function(e){e.tableData&&(e.tableData.checked=!1)}))},s=function(){r.forEach((function(e){e.tableData.checked&&(n({id:e.id,status:"Rejected"}),i||(r.filter((function(t){return t.id===e.id}))[0].status="Rejected"))})),r.forEach((function(e){e.tableData&&(e.tableData.checked=!1)}))};return Object(j.jsx)("div",{className:t.root,children:Object(j.jsx)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:wb,data:r,title:"Payslips",icons:{Add:function(e){return Object(j.jsx)(Zu.a,{})},Edit:function(e){return Object(j.jsx)(hd.a,{})},Delete:function(e){return Object(j.jsx)(tp.a,{})},Clear:function(e){return Object(j.jsx)(tp.a,{})},Check:function(e){return Object(j.jsx)(np.a,{})},Search:function(e){return Object(j.jsx)(ip.a,{})},ResetSearch:function(e){return Object(j.jsx)(tp.a,{})},Build:function(e){return Object(j.jsx)(_b.a,{})}},options:{filtering:!0,selection:!0,exportButton:!0,headerStyle:{backgroundColor:"orange",color:"#FFF"},showTitle:!0},components:{Toolbar:function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)(Qo.MTableToolbar,Object(D.a)({},e)),Object(j.jsxs)("div",{style:{padding:"5px 10px"},children:[Object(j.jsxs)(Eo.a,{type:"submit",variant:"contained",color:"secondary",className:t.button,onClick:c,children:["Approve ",Object(j.jsx)(Co.a,{className:t.rightIcon,children:"send"})]}),Object(j.jsxs)(Eo.a,{type:"submit",variant:"contained",color:"secondary",className:t.button,onClick:s,children:["Reject ",Object(j.jsx)(Co.a,{className:t.rightIcon,children:"send"})]})]})]})}}})})})}var Eb=Object(E.a)((function(e){return{root:{padding:0},button:{margin:e.spacing(1)}}})),Cb=[{title:"Name",field:"name",editable:"never"},{title:"Period",field:"period",editable:"never"},{title:"Location",field:"location",editable:"never"},{title:"Manager Name",field:"manager",editable:"never"},{title:"No Of Days",field:"no_of_days",type:"numeric",editable:"never"},{title:"Amount",field:"amount",type:"currency",editable:"never"},{title:"Status",field:"status",editComponent:function(e){return Object(j.jsxs)(Do.a,{onChange:function(t){return e.onChange(t.target.value)},style:{width:100},value:e.value,select:!0,children:[Object(j.jsx)(No.a,{value:"Pending",children:"Pending"}),Object(j.jsx)(No.a,{value:"Approved",children:"Approved"}),Object(j.jsx)(No.a,{value:"Rejected",children:"Rejected"}),Object(j.jsx)(No.a,{value:"Cancel",children:"Cancel"})]})}}];function Db(e){var t=e.dailyallowancesdata,a=(e.setDailyAllowancesdata,e.update_dailyallowance_error),r=e.handleDialogClose,i=(Object(ts.f)(),Nb()),c=Object(n.useState)(!1),s=Object(w.a)(c,2),o=s[0],l=(s[1],Object(n.useState)([])),d=Object(w.a)(l,2),u=(d[0],d[1],Object(h.e)(Te)),p=(Object(h.e)(Ae),Object(h.d)(Ne)),b=Object(w.a)(p,2),f=b[0],O=b[1],x=(Object(h.g)(Ae),"Site Allowances (".concat(u,")")),m=Pu(),g=m.dailyallowances_loading,y=(m.singlebatch_dailyallowance,m.singlebatch_dailyallowance_loading,m.deleteDailyAllowance,m.updateDailyAllowance),v=(m.setEditDailyAllowanceID,m.setIsDailyAllowanceEditingOn,m.setIsDailyAllowanceEditingOff,m.resetSingleDailyAllowance,m.dailyallowance_period,m.getSingleBatchDailyAllowance,function(){t.forEach((function(e){e.tableData.checked&&(y({id:e.id,status:"Approved"}),a||(t.filter((function(t){return t.id===e.id}))[0].status="Approved"))})),t.forEach((function(e){e.tableData&&(e.tableData.checked=!1)}))}),_=function(){t.forEach((function(e){e.tableData.checked&&(y({id:e.id,status:"Rejected"}),a||(t.filter((function(t){return t.id===e.id}))[0].status="Rejected"))})),t.forEach((function(e){e.tableData&&(e.tableData.checked=!1)}))};return g?Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"Loading... daily allowances"})}):Object(j.jsx)("div",{className:i.root,children:Object(j.jsxs)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:[Object(j.jsx)(Ko.a,{columns:Cb,data:t,title:x,icons:{Add:function(e){return Object(j.jsx)(Zu.a,{})},Edit:function(e){return Object(j.jsx)(hd.a,{})},Delete:function(e){return Object(j.jsx)(tp.a,{})},Clear:function(e){return Object(j.jsx)(tp.a,{})},Check:function(e){return Object(j.jsx)(np.a,{})},Search:function(e){return Object(j.jsx)(ip.a,{})},ResetSearch:function(e){return Object(j.jsx)(tp.a,{})}},options:{filtering:!0,selection:!0,headerStyle:{backgroundColor:"orange",color:"#FFF"},showTitle:!0},components:{Toolbar:function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)(Qo.MTableToolbar,Object(D.a)({},e)),Object(j.jsxs)("div",{style:{padding:"5px 10px"},children:[Object(j.jsx)(Eo.a,{type:"submit",variant:"contained",color:"secondary",className:i.button,onClick:v,children:"Approve"}),Object(j.jsx)(Eo.a,{type:"submit",variant:"contained",color:"secondary",className:i.button,onClick:_,children:"Reject"})]})]})}}}),Object(j.jsx)("div",{className:i.dialog,children:Object(j.jsx)(Sd,{isOpen:o,handleClose:r,title:"",showButton:!0,isFullscreen:!0,isFullwidth:!0,children:Object(j.jsx)(Mu,{setAllowsdata:O,allowsdata:f,handleDialogClose:r})})})]})})}var Nb=Object(E.a)((function(e){return{root:{padding:0},button:{margin:e.spacing(1)},dialog:{width:1e3}}})),Ib=Object(E.a)((function(e){return{root:{padding:0}}})),Pb=function(){var e=Ib(),t=Object(ts.f)(),a=(Object(as.a)(e.paper,e.fixedHeight),Wl()),n=a.trainings,r=(a.filter,a.setFilter,a.setTrainingId,Object(h.d)(_e)),i=Object(w.a)(r,2),c=(i[0],i[1],Date().toLocaleString()),s=ve(),o=(s.employees,s.setEmployeeId),l=Jc(),d=(l.editEmployeeID,l.employees_loading,l.setEditEmployeeID),u=l.setIsEditingOn,p=(l.setIsEditingOff,l.resetSingleEmployee),b=l.resetEmployees;return Object(j.jsx)(Gs.a,{className:e.root,children:Object(j.jsxs)(fj.a,{container:!0,direction:"row",children:[Object(j.jsxs)(A.b,{direction:"row",children:[Object(j.jsx)(F.a,{as:"h4",size:"md",children:"Trainings Schedule Expiry Within 90 days"}),Object(j.jsx)(nb.a,{}),Object(j.jsx)(rb.a,{size:"md","aria-label":"Edit",icon:Object(j.jsx)(ib.a,{}),onClick:function(){return t.push("/allemployees")}})]}),n.filter((function(e){return Object(cp.a)(new Date(e.expiry_date),new Date(c))<90&&Object(cp.a)(new Date(c),new Date(e.expiry_date))<0})).map((function(e){return Object(j.jsxs)(fj.a,{templateColumns:"repeat(13, 1fr)",gap:3,p:1,children:[Object(j.jsx)(fj.b,{colSpan:1,children:Object(j.jsx)(k.a,{w:"100%",children:Object(j.jsx)(rb.a,{size:"sm","aria-label":"Edit",icon:Object(j.jsx)(cb.a,{}),onClick:function(){return a=e.empid,p(),b(),d(a),u(),o(a),void t.push("/singleemployee");var a}})})}),Object(j.jsx)(fj.b,{colSpan:3,children:Object(j.jsx)(k.a,{w:"100%",children:e.name})}),Object(j.jsx)(fj.b,{colSpan:3,children:Object(j.jsx)(k.a,{w:"100%",children:e.course})}),Object(j.jsx)(fj.b,{colSpan:3,children:Object(j.jsx)(k.a,{w:"100%",children:e.institute})}),Object(j.jsx)(fj.b,{colSpan:3,children:Object(j.jsx)(k.a,{w:"100%",children:e.expiry_date})})]})}))]})})},Tb=Object(E.a)((function(e){return{root:{padding:0}}})),Ab=function(){var e=Tb(),t=(Y(),Object(ts.f)()),a=(Object(as.a)(e.paper,e.fixedHeight),ve()),r=a.employees,i=(a.setFilter,a.setEmployeeId),c=Object(n.useState)([]),s=Object(w.a)(c,2),o=(s[0],s[1],hs().user,Object(h.d)(_e)),l=Object(w.a)(o,2),d=(l[0],l[1],Object(n.useState)([])),u=Object(w.a)(d,2),p=(u[0],u[1],Date().toLocaleString()),b=Jc(),f=(b.editEmployeeID,b.employees_loading,b.setEditEmployeeID),O=b.setIsEditingOn,x=(b.setIsEditingOff,b.resetSingleEmployee),m=b.resetEmployees,g=r.filter((function(e){return Object(cp.a)(new Date(e.workpermit_expirydate),new Date(p))<90}));return Object(j.jsx)(Gs.a,{className:e.root,children:Object(j.jsxs)(fj.a,{container:!0,direction:"row",children:[Object(j.jsxs)(A.b,{direction:"row",children:[Object(j.jsx)(F.a,{as:"h4",size:"md",children:"Work Permit Expiry Within 90 days"}),Object(j.jsx)(nb.a,{}),Object(j.jsx)(rb.a,{size:"md","aria-label":"Edit",icon:Object(j.jsx)(ib.a,{}),onClick:function(){return t.push("/allemployees")}})]}),g.map((function(e){return Object(j.jsxs)(fj.a,{templateColumns:"repeat(13, 1fr)",gap:3,p:1,children:[Object(j.jsx)(fj.b,{colSpan:1,children:Object(j.jsx)(k.a,{w:"100%",children:Object(j.jsx)(rb.a,{size:"sm","aria-label":"Edit",icon:Object(j.jsx)(cb.a,{}),onClick:function(){return a=e.id,x(),m(),f(a),O(),i(a),void t.push("/singleemployee");var a}})})}),Object(j.jsx)(fj.b,{colSpan:3,children:Object(j.jsx)(k.a,{w:"100%",children:e.name})}),Object(j.jsx)(fj.b,{colSpan:3,children:Object(j.jsx)(k.a,{w:"100%",children:e.workpermitno})}),Object(j.jsx)(fj.b,{colSpan:3,children:Object(j.jsx)(k.a,{w:"100%",children:e.workpermit_expirydate})})]})}))]})})};function kb(){return(kb=Object(P.a)(I.a.mark((function e(t,a){var n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("".concat(Q,"?m=").concat(t,"&y=").concat(a));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lb(e){var t=Object(n.useState)("all"),a=Object(w.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(""),s=Object(w.a)(c,2),o=s[0],l=s[1],d=Object(n.useState)(""),u=Object(w.a)(d,2),p=u[0],j=u[1],b=Object(n.useCallback)((function(e){return bu(e,r)}),[r]),h=Object(J.a)([ge.expensesperiod,p,o],(function(){return function(e,t){return kb.apply(this,arguments)}(p,o)}),{select:"all"!==r?b:void 0}).data;return{expensesperiod:void 0===h?[]:h,expperiodfilter:r,setExpPeriodFilter:i,setExpPeriodYrId:l,setExpPeriodMthId:j}}var Rb=[{title:"Name",field:"name",cellStyle:{width:200,maxWidth:200}},{title:"IC No",field:"ic_no"},{title:"Gender",field:"gender"},{title:"Designation",field:"designation"},{title:"Department",field:"department"},{title:"Leave Entitled",field:"leave_entitled",type:"numeric"},{title:"Leave Balance",field:"leave_bal",type:"numeric"}];function Bb(e){e.year;var t=Fb(),a=ve(),r=a.employees,i=(a.setEmployeeId,Object(n.useState)([])),c=Object(w.a)(i,2),s=(c[0],c[1],Lb());s.expensesperiod,s.setExpPeriodYrId,s.setExpPeriodMthId;return Object(j.jsx)("div",{className:t.root,children:Object(j.jsx)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:Rb,data:r.sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0})),title:"Expenses Claims",options:{filtering:!0,search:!0,toolbar:!1,headerStyle:{backgroundColor:"rgba(75, 192, 192, 1)",color:"white"},showTitle:!1}})})})}var Fb=Object(E.a)((function(e){return{root:{padding:0}}})),Gb="Pending",Ub=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}})),Vb=function(){Object(ts.f)();var e=Ub(),t=(Object(as.a)(e.paper,e.fixedHeight),ve().employees,Object(h.d)(_e)),a=Object(w.a)(t,2),r=(a[0],a[1],Object(n.useState)([])),i=Object(w.a)(r,2),c=i[0],s=i[1],o=Object(n.useState)(!1),l=Object(w.a)(o,2),d=l[0],u=l[1],p=Object(n.useState)([]),b=Object(w.a)(p,2),f=b[0],O=b[1],x=Object(n.useState)(!1),m=Object(w.a)(x,2),g=m[0],y=m[1],v=Object(n.useState)([]),_=Object(w.a)(v,2),E=_[0],C=_[1],D=Object(n.useState)(!1),N=Object(w.a)(D,2),I=N[0],P=N[1],T=Object(n.useState)([]),L=Object(w.a)(T,2),R=L[0],B=L[1],G=Object(n.useState)(!1),U=Object(w.a)(G,2),V=U[0],z=U[1],M=Gd(),H=(M.leaves,M.loadPendingLeaves),Y=ju(),J=(Y.expenses,Y.loadPendingExpenses),X=Rp(),q=(X.payslips,X.loadPendingPayslips),Q=Pu(),K=(Q.dailyallowances,Q.loadPendingDailyAllowances),$=function(){u(!1),H(Gb)},Z=function(){y(!1),J(Gb)},ee=function(){P(!1),q(Gb)},te=function(){z(!1),K(Gb)};return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:e.appBarSpacer}),Object(j.jsx)("div",{style:{paddingLeft:50}}),Object(j.jsxs)(S.a,{maxWidth:"full",className:e.container,children:[Object(j.jsxs)(A.b,{direction:"column",children:[Object(j.jsx)(k.a,{children:Object(j.jsx)(md,{children:Object(j.jsx)(pb,{})})}),Object(j.jsx)(k.a,{children:Object(j.jsx)(md,{children:Object(j.jsx)(Ab,{})})}),Object(j.jsx)(k.a,{children:Object(j.jsx)(md,{children:Object(j.jsx)(Pb,{})})}),Object(j.jsx)(k.a,{maxW:"x3",padding:"4",width:"100%",height:"650",borderColor:"blue.500",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",children:Object(j.jsxs)(ab.a,{children:[Object(j.jsx)(k.a,{children:Object(j.jsx)(F.a,{as:"h2",size:"lg",children:"Employees"})}),Object(j.jsx)(W.a,{}),Object(j.jsx)(k.a,{children:Object(j.jsxs)(Oj.e,{isLazy:!0,children:[Object(j.jsx)(Oj.b,{children:Object(j.jsx)(Oj.a,{children:"Details"})}),Object(j.jsx)(Oj.d,{children:Object(j.jsx)(Oj.c,{children:Object(j.jsx)(Bb,{})})})]})}),Object(j.jsx)(W.a,{})]})})]}),Object(j.jsx)(k.a,{pt:4,children:Object(j.jsx)(tb,{})}),Object(j.jsx)(Sd,{isOpen:d,handleClose:$,title:"",showButton:!0,isFullscreen:!1,isFullwidth:!1,children:Object(j.jsx)(bb,{setLeavesdata:s,leavesdata:c,handleDialogClose:$})}),Object(j.jsx)(Sd,{isOpen:g,handleClose:Z,title:"",showButton:!0,isFullscreen:!1,isFullwidth:!1,children:Object(j.jsx)(gb,{setExpensesdata:O,expensesdata:f,handleDialogClose:Z})}),Object(j.jsx)(Sd,{isOpen:I,handleClose:ee,title:"",showButton:!0,isFullscreen:!0,isFullwidth:!1,children:Object(j.jsx)(Sb,{setPayslipsdata:C,payslipsdata:E,handleDialogClose:ee})}),Object(j.jsx)(Sd,{isOpen:V,handleClose:te,title:"",showButton:!0,isFullscreen:!0,isFullwidth:!1,children:Object(j.jsx)(Db,{setDailyAllowancesdata:B,dailyallowancesdata:R,handleDialogClose:te})})]})]})},Wb=Object(E.a)((function(e){return{root:{padding:0}}})),zb=function(){var e=Wb(),t=Object(ts.f)(),a=(Object(as.a)(e.paper,e.fixedHeight),Kd()),r=a.leaves,i=(a.filter,a.setFilter),c=(a.setLeaveId,Object(h.d)(_e)),s=Object(w.a)(c,2),o=s[0],l=(s[1],Object(n.useState)([])),d=Object(w.a)(l,2),u=(d[0],d[1],Jc().editEmployeeID,Gd());u.leaves_loading,u.leaves_error,u.loadEmpLeaves;return Object(n.useEffect)((function(){i(o.loginUserId)}),[]),Object(j.jsx)(Gs.a,{className:e.root,children:Object(j.jsxs)(fj.a,{direction:"row",children:[Object(j.jsxs)(A.b,{direction:"row",children:[Object(j.jsx)(F.a,{as:"h4",size:"md",children:"Leaves Schedule"}),Object(j.jsx)(nb.a,{}),Object(j.jsx)(rb.a,{size:"md","aria-label":"Edit",icon:Object(j.jsx)(ib.a,{}),onClick:function(){return t.push("/leave")}})]}),r.filter((function(e){return"Pending"===e.status})).map((function(e){return Object(j.jsxs)(fj.a,{templateColumns:"repeat(12, 1fr)",gap:3,p:1,children:[Object(j.jsx)(fj.b,{colSpan:3,children:Object(j.jsx)(k.a,{w:"100%",children:e.from_date})}),Object(j.jsx)(fj.b,{colSpan:3,children:Object(j.jsx)(k.a,{w:"100%",children:e.to_date})}),Object(j.jsx)(fj.b,{colSpan:3,children:Object(j.jsx)(k.a,{w:"100%",children:e.reason})}),Object(j.jsx)(fj.b,{colSpan:3,children:Object(j.jsx)(k.a,{w:"100%",children:e.status})})]},e.id)}))]})})},Mb=Object(E.a)((function(e){return{root:{padding:0}}})),Hb=function(){var e=Mb(),t=Object(ts.f)(),a=(Object(as.a)(e.paper,e.fixedHeight),Wl()),r=a.trainings,i=(a.filter,a.setFilter),c=(a.setTrainingId,Object(h.d)(_e)),s=Object(w.a)(c,2),o=s[0],l=(s[1],Date().toLocaleString());return Object(n.useEffect)((function(){i(o.loginUserId)}),[]),Object(j.jsx)(Gs.a,{className:e.root,children:Object(j.jsxs)(fj.a,{direction:"row",children:[Object(j.jsxs)(A.b,{direction:"row",children:[Object(j.jsx)(F.a,{as:"h4",size:"md",children:"Trainings Schedule Expiry Within 90 days"}),Object(j.jsx)(nb.a,{}),Object(j.jsx)(rb.a,{size:"md","aria-label":"Edit",icon:Object(j.jsx)(ib.a,{}),onClick:function(){return t.push("/singleemployee")}})]}),r.filter((function(e){return Object(cp.a)(new Date(e.expiry_date),new Date(l))<90&&Object(cp.a)(new Date(l),new Date(e.expiry_date))<0})).map((function(e){return Object(j.jsxs)(fj.a,{templateColumns:"repeat(9, 1fr)",gap:3,p:1,children:[Object(j.jsx)(fj.b,{colSpan:3,children:Object(j.jsx)(k.a,{w:"100%",children:e.institute})}),Object(j.jsx)(fj.b,{colSpan:3,children:Object(j.jsx)(k.a,{w:"100%",children:e.course})}),Object(j.jsx)(fj.b,{colSpan:3,children:Object(j.jsx)(k.a,{w:"100%",children:e.expiry_date})})]})}))]})})},Yb=Object(E.a)((function(e){return{root:{padding:0}}})),Jb=function(){var e=Yb(),t=Object(ts.f)(),a=(Object(as.a)(e.paper,e.fixedHeight),Object(h.d)(_e)),r=Object(w.a)(a,2),i=r[0],c=(r[1],fu()),s=c.expenses,o=(c.filter,c.setFilter),l=(c.setExpenseId,Object(n.useState)([])),d=Object(w.a)(l,2),u=(d[0],d[1],ju());u.expenses_loading,u.expenses_error,u.loadEmpExpenses;return Object(n.useEffect)((function(){o(i.loginUserId)}),[]),Object(j.jsx)(Gs.a,{className:e.root,children:Object(j.jsxs)(fj.a,{direction:"row",children:[Object(j.jsxs)(A.b,{direction:"row",children:[Object(j.jsx)(F.a,{as:"h4",size:"md",children:"Expenses Claims (Pending)"}),Object(j.jsx)(nb.a,{}),Object(j.jsx)(rb.a,{size:"md","aria-label":"Edit",icon:Object(j.jsx)(ib.a,{}),onClick:function(){return t.push("/expenses")}})]}),s.filter((function(e){return"Pending"===e.status})).map((function(e){return Object(j.jsxs)(fj.a,{templateColumns:"repeat(15, 1fr)",gap:3,p:1,children:[Object(j.jsx)(fj.b,{colSpan:3,children:Object(j.jsx)(k.a,{w:"100%",children:e.name})}),Object(j.jsx)(fj.b,{colSpan:3,children:Object(j.jsx)(k.a,{w:"100%",children:e.date})}),Object(j.jsx)(fj.b,{colSpan:3,children:Object(j.jsx)(k.a,{w:"100%",children:e.description})}),Object(j.jsx)(fj.b,{colSpan:3,children:Object(j.jsx)(k.a,{w:"100%",children:e.amount})}),Object(j.jsx)(fj.b,{colSpan:3,children:Object(j.jsx)(k.a,{w:"100%",children:e.status})})]},e.id)}))]})})};Object(E.a)((function(e){return{root:{padding:0}}}));Object(E.a)((function(e){return{root:{padding:0},dialog:{width:1e3}}})),Object(E.a)((function(e){return{root:{padding:"2"},paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary}}}));var Xb=Object(E.a)((function(e){return{root:{padding:0}}})),qb=function(){var e=Xb(),t=Object(ts.f)(),a=(Object(as.a)(e.paper,e.fixedHeight),ve()),r=a.employees,i=(a.setFilter,hs().user,Object(h.d)(_e)),c=Object(w.a)(i,2),s=c[0],o=(c[1],Object(n.useState)([])),l=Object(w.a)(o,2),d=(l[0],l[1],Date().toLocaleString());return Object(j.jsx)(Gs.a,{className:e.root,children:Object(j.jsxs)(fj.a,{direction:"row",children:[Object(j.jsxs)(A.b,{direction:"row",children:[Object(j.jsx)(F.a,{as:"h4",size:"md",children:"Work Permit Expiry Within 90 days"}),Object(j.jsx)(nb.a,{}),Object(j.jsx)(rb.a,{size:"md","aria-label":"Edit",icon:Object(j.jsx)(ib.a,{}),onClick:function(){return t.push("/singleemployee")}})]}),r.filter((function(e){return Object(cp.a)(new Date(e.workpermit_expirydate),new Date(d))<90&&e.id===s.loginUserId})).map((function(e){return Object(j.jsxs)(fj.a,{templateColumns:"repeat(6, 1fr)",gap:3,p:1,children:[Object(j.jsx)(fj.b,{colSpan:3,children:Object(j.jsx)(k.a,{w:"100%",children:e.workpermitno})}),Object(j.jsx)(fj.b,{colSpan:3,children:Object(j.jsx)(k.a,{w:"100%",children:e.workpermit_expirydate})})]},e.id)}))]})})};function Qb(){return(Qb=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("".concat(X,"?id=").concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kb(){var e=Object(n.useState)(""),t=Object(w.a)(e,2),a=t[0],r=t[1],i=Object(J.a)([ge.singleemployee,{singleEmployeeId:a}],(function(){return function(e){return Qb.apply(this,arguments)}(a)})).data;return{singleemployee:void 0===i?[]:i,setSingleEmployeeId:r}}var $b=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}})),Zb=function(){Object(ts.f)();var e=$b(),t=(Object(as.a)(e.paper,e.fixedHeight),Object(h.d)(_e)),a=Object(w.a)(t,2),r=a[0],i=(a[1],ve()),c=(i.employees,i.setFilter,i.setEmployeeId,Kb()),s=(c.singleemployee,c.setSingleEmployeeId,Object(n.useState)([])),o=Object(w.a)(s,2),l=o[0],d=o[1],u=Object(n.useState)(!1),p=Object(w.a)(u,2),b=p[0],f=p[1],O=Object(n.useState)([]),x=Object(w.a)(O,2),m=x[0],g=x[1],y=Object(n.useState)(!1),v=Object(w.a)(y,2),_=v[0],E=v[1],C=Object(n.useState)([]),D=Object(w.a)(C,2),N=D[0],I=D[1],P=Object(n.useState)(!1),T=Object(w.a)(P,2),L=T[0],R=T[1],B=Object(n.useState)([]),F=Object(w.a)(B,2),G=F[0],U=F[1],V=Object(n.useState)(!1),W=Object(w.a)(V,2),z=W[0],M=W[1],H=Gd(),Y=(H.leaves,H.loadPendingLeaves,ju()),J=(Y.expenses,Y.loadPendingExpenses,Rp()),X=(J.payslips,J.loadPendingPayslips,Pu()),q=(X.dailyallowances,X.loadPendingDailyAllowances),Q=Jc(),K=(Q.isEditing,Q.setEditEmployeeID),$=Q.setIsEditingOn,Z=function(){f(!1)},ee=function(){E(!1)},te=function(){R(!1)},ae=function(){M(!1),q("Pending")};return Object(n.useEffect)((function(){K(r.loginUserId),$()}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:e.appBarSpacer}),Object(j.jsx)("div",{style:{paddingLeft:50}}),Object(j.jsxs)(S.a,{maxWidth:"full",className:e.container,children:[Object(j.jsxs)(A.b,{direction:"column",children:[Object(j.jsx)(k.a,{children:Object(j.jsx)(md,{children:Object(j.jsx)(zb,{})})}),Object(j.jsx)(k.a,{children:Object(j.jsx)(md,{children:Object(j.jsx)(Jb,{})})}),Object(j.jsx)(k.a,{children:Object(j.jsx)(md,{children:Object(j.jsx)(Hb,{})})}),Object(j.jsx)(k.a,{children:Object(j.jsx)(md,{children:Object(j.jsx)(qb,{})})})]}),Object(j.jsx)(k.a,{pt:4,children:Object(j.jsx)(tb,{})}),Object(j.jsx)(Sd,{isOpen:b,handleClose:Z,title:"",showButton:!0,isFullscreen:!1,isFullwidth:!1,children:Object(j.jsx)(bb,{setLeavesdata:d,leavesdata:l,handleDialogClose:Z})}),Object(j.jsx)(Sd,{isOpen:_,handleClose:ee,title:"",showButton:!0,isFullscreen:!1,isFullwidth:!1,children:Object(j.jsx)(gb,{setExpensesdata:g,expensesdata:m,handleDialogClose:ee})}),Object(j.jsx)(Sd,{isOpen:L,handleClose:te,title:"",showButton:!0,isFullscreen:!0,isFullwidth:!1,children:Object(j.jsx)(Sb,{setPayslipsdata:I,payslipsdata:N,handleDialogClose:te})}),Object(j.jsx)(Sd,{isOpen:z,handleClose:ae,title:"",showButton:!0,isFullscreen:!0,isFullwidth:!1,children:Object(j.jsx)(Db,{setDailyAllowancesdata:U,dailyallowancesdata:G,handleDialogClose:ae})})]})]})};Object(E.a)((function(e){return{root:{maxWidth:"500"},card:{margin:"15px 10px",padding:0,border:"solid 1px black",borderRadius:"16px",backgroundColor:"dark"},small:{gridRowEnd:"span 26"},medium:{gridRowEnd:"span 33"},large:{gridRowEnd:"span 45"}}})),a(394);function eh(){return(eh=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("".concat(Q,"?fi=").concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function th(e){var t=Object(n.useState)("all"),a=Object(w.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(""),s=Object(w.a)(c,2),o=s[0],l=s[1],d=Object(n.useCallback)((function(e){return bu(e,r)}),[r]),u=Object(J.a)([ge.expensesstatus,o],(function(){return function(e){return eh.apply(this,arguments)}(o)}),{select:"all"!==r?d:void 0}).data;return{expensesstatus:void 0===u?[]:u,expstatusfilter:r,setExpStatusFilter:i,setExpStatusId:l}}var ah=[{title:"Name",field:"name"},{title:"Date",field:"date",type:"date",dateSetting:{locale:"en-GB"}},{title:"Description",field:"description"},{title:"Amount",field:"amount",type:"currency"},{title:"Status",field:"status"}];function nh(e){var t=e.year,a=e.month,r=rh(),i=Object(n.useState)(!1),c=Object(w.a)(i,2),s=(c[0],c[1],Object(n.useState)(!1)),o=Object(w.a)(s,2),l=(o[0],o[1],Object(n.useState)(0)),d=Object(w.a)(l,2),u=(d[0],d[1]),p=Object(n.useState)(!1),b=Object(w.a)(p,2),h=b[0],f=b[1],O=(Jc().loadEmployees,th()),x=(O.expensesstatus,O.setExpStatusId,Lb()),m=x.expensesperiod,g=x.setExpPeriodYrId,y=x.setExpPeriodMthId;Object(n.useEffect)((function(){g(t),y(a),f(!0)}),[]),Object(n.useEffect)((function(){m&&(v(),f(!1))}),[h]);var v=function(){var e=m.reduce((function(e,t){return"Approved"===t.status||"Approve"===t.status?e+t.amount:e}),0);u(e)};return Object(j.jsx)("div",{className:r.root,children:Object(j.jsx)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:ah,data:m,title:"Leave Application",options:{filtering:!1,search:!1,toolbar:!1,headerStyle:{backgroundColor:"rgba(75, 192, 192, 1)",color:"white"},showTitle:!1}})})})}var rh=Object(E.a)((function(e){return{root:{padding:0}}}));Object(E.a)((function(e){return{root:{padding:0}}}));function ih(){return(ih=Object(P.a)(I.a.mark((function e(t,a){var n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("".concat(q,"?m=").concat(t,"&y=").concat(a));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ch(e){var t=Object(n.useState)("all"),a=Object(w.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(""),s=Object(w.a)(c,2),o=s[0],l=s[1],d=Object(n.useState)(""),u=Object(w.a)(d,2),p=u[0],j=u[1],b=Object(n.useCallback)((function(e){return qd(e,r)}),[r]),h=Object(J.a)([ge.leavesperiod,p,o],(function(){return function(e,t){return ih.apply(this,arguments)}(p,o)}),{select:"all"!==r?b:void 0}).data;return{leavesperiod:void 0===h?[]:h,leaveperiodfilter:r,setLeavePeriodFilter:i,setLeavePeriodYrId:l,setLeavePeriodMthId:j}}var sh=[{title:"Name",field:"name"},{title:"From Date",field:"from_date",type:"date",dateSetting:{locale:"en-GB"},editable:"never"},{title:"To Date",field:"to_date",type:"date",dateSetting:{locale:"en-GB"},editable:"never"},{title:"No of Days",field:"no_of_days",type:"numeric",editable:"never"},{title:"Reason",field:"reason",editable:"never"},{title:"Status",field:"status"}];function oh(e){var t=e.year,a=e.month,r=lh(),i=ch(),c=i.leavesperiod,s=i.setLeavePeriodYrId,o=i.setLeavePeriodMthId;return Object(n.useEffect)((function(){s(t),o(a)}),[]),Object(j.jsx)("div",{className:r.root,children:Object(j.jsx)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:sh,data:c,title:"Leave Application",options:{filtering:!1,search:!1,toolbar:!1,headerStyle:{backgroundColor:"rgba(75, 192, 192, 1)",color:"white"},showTitle:!1}})})})}var lh=Object(E.a)((function(e){return{root:{padding:0}}}));Object(E.a)((function(e){return{root:{padding:0}}}));function dh(){return(dh=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("".concat($,"?fv=").concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uh(){var e=Object(n.useState)("all"),t=Object(w.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(""),c=Object(w.a)(i,2),s=c[0],o=c[1],l=Object(n.useCallback)((function(e){return Uu(e,a)}),[a]),d=Object(J.a)([ge.dailyallowsperiod,s],(function(){return function(e){return dh.apply(this,arguments)}(s)}),{select:"all"!==a?l:void 0}).data;return{dailyallowsperiod:void 0===d?[]:d,filter:a,setFilter:r,setDailyAllowsPeriodId:o}}var ph=[{title:"Name",field:"name"},{title:"Period",field:"period"},{title:"Location",field:"location"},{title:"Manager",field:"manager_name"},{title:"Days",field:"no_of_days",type:"numeric"},{title:"Amount",field:"amount",type:"currency"},{title:"Status",field:"status"}];function jh(e){var t=e.month,a=e.year,r=(Object(ts.f)(),bh()),i="".concat(a,"-").concat(t),c=Object(n.useState)(!1),s=Object(w.a)(c,2),o=(s[0],s[1],Object(n.useState)([])),l=Object(w.a)(o,2),d=(l[0],l[1],Object(h.e)(Te)),u=(Object(h.e)(Ae),Object(h.d)(Ne)),p=Object(w.a)(u,2),b=(p[0],p[1],Object(h.g)(Ae),"Site Allowances (".concat(d,")")),f=uh(),O=f.dailyallowsperiod,x=f.setDailyAllowsPeriodId,m=Pu();m.dailyallowances,m.loadPendingDailyAllowances,m.singlebatch_dailyallowance,m.singlebatch_dailyallowance_loading,m.deleteDailyAllowance,m.setEditDailyAllowanceID,m.setIsDailyAllowanceEditingOn,m.setIsDailyAllowanceEditingOff,m.resetSingleDailyAllowance,m.dailyallowance_period,m.getSingleBatchDailyAllowance;Object(n.useEffect)((function(){x(i)}),[]);return Object(j.jsx)("div",{className:r.root,children:Object(j.jsx)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:ph,data:O,title:b,options:{filtering:!1,search:!1,toolbar:!1,headerStyle:{backgroundColor:"rgba(75, 192, 192, 1)",color:"#FFF"},showTitle:!1}})})})}var bh=Object(E.a)((function(e){return{root:{padding:0},dialog:{width:1e3}}}));function hh(){return(hh=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("".concat(ne,"?fi=").concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fh(e){var t=Object(n.useState)("all"),a=Object(w.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(""),s=Object(w.a)(c,2),o=s[0],l=s[1],d=Object(n.useCallback)((function(e){return Qp(e,r)}),[r]),u=Object(J.a)([ge.payrunstatus,{payrunstatusId:o}],(function(){return function(e){return hh.apply(this,arguments)}(o)}),{select:"all"!==r?d:void 0}).data;return{payrunstatus:void 0===u?[]:u,filter:r,setFilter:i,setPayrunStatusId:l}}var Oh=[{title:"Payrun Batch",field:"payrun",type:"date",dateSetting:{locale:"en-GB"}},{title:"Total Wages",field:"totalwages",type:"currency"},{title:"TAP Amount",field:"totaltap",type:"currency"},{title:"SCP Amount",field:"totalscp",type:"currency"},{title:"Site Allowances",field:"totalsitesallows",type:"currency"},{title:"Expenses Claims",field:"totalexpensesclaims",type:"currency"},{title:"Total Allowances",field:"totalallows",type:"currency"},{title:"Total Deductions",field:"totaldeducts",type:"currency"},{title:"Total Payroll",field:"totalpayroll",type:"currency"},{title:"Status",field:"status"}];function xh(e){var t=e.status,a=(Object(ts.f)(),mh()),r=(Object(h.g)(De),Rp()),i=(r.payrun,r.getPayrun,r.payrun_loading,r.loadPendingPayslips,fh()),c=i.payrunstatus,s=i.setPayrunStatusId;return Object(n.useEffect)((function(){s(t)}),[]),Object(j.jsx)("div",{className:a.root,children:Object(j.jsx)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:Oh,data:c,title:"Payslips",options:{filtering:!1,search:!1,toolbar:!1,headerStyle:{backgroundColor:"rgba(75, 192, 192, 1)",color:"#FFF"},showTitle:!1}})})})}var mh=Object(E.a)((function(e){return{root:{padding:0}}}));Object(E.a)((function(e){return{root:{padding:0}}}));var gh=[{jan:0,feb:0,mar:0,apr:0,may:0,jun:0,jul:0,aug:0,sep:0,oct:0,nov:0,dec:0}],yh=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}})),vh=function(){var e=yh(),t=(Object(as.a)(e.paper,e.fixedHeight),Lb()),a=(t.expensesperiod,t.setExpPeriodId,Object(n.useState)(gh)),r=Object(w.a)(a,2),i=(r[0],r[1],(new Date).getFullYear()),c=(new Date).getMonth();return Object(j.jsxs)(T.a,{maxW:"full",marginTop:"100",children:[Object(j.jsx)(k.a,{maxW:"x3",padding:"4",width:"100%",height:"650",borderColor:"blue.500",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",children:Object(j.jsxs)(ab.a,{children:[Object(j.jsx)(k.a,{children:Object(j.jsx)(F.a,{as:"h2",size:"lg",children:"Employees"})}),Object(j.jsx)(W.a,{}),Object(j.jsx)(k.a,{children:Object(j.jsxs)(Oj.e,{isLazy:!0,children:[Object(j.jsx)(Oj.b,{children:Object(j.jsx)(Oj.a,{children:"Details"})}),Object(j.jsx)(Oj.d,{children:Object(j.jsx)(Oj.c,{children:Object(j.jsx)(Bb,{})})})]})}),Object(j.jsx)(W.a,{})]})}),Object(j.jsx)(k.a,{maxW:"x3",padding:"4",width:"100%",height:"500",borderColor:"blue.500",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",children:Object(j.jsxs)(ab.a,{children:[Object(j.jsx)(k.a,{children:Object(j.jsx)(F.a,{as:"h2",size:"lg",children:"Leaves"})}),Object(j.jsx)(W.a,{}),Object(j.jsx)(k.a,{children:Object(j.jsxs)(Oj.e,{defaultIndex:c,isLazy:!0,children:[Object(j.jsxs)(Oj.b,{children:[Object(j.jsx)(Oj.a,{children:"January"}),Object(j.jsx)(Oj.a,{children:"February"}),Object(j.jsx)(Oj.a,{children:"March"}),Object(j.jsx)(Oj.a,{children:"April"}),Object(j.jsx)(Oj.a,{children:"May"}),Object(j.jsx)(Oj.a,{children:"June"}),Object(j.jsx)(Oj.a,{children:"July"}),Object(j.jsx)(Oj.a,{children:"August"}),Object(j.jsx)(Oj.a,{children:"September"}),Object(j.jsx)(Oj.a,{children:"October"}),Object(j.jsx)(Oj.a,{children:"November"}),Object(j.jsx)(Oj.a,{children:"December"})]}),Object(j.jsxs)(Oj.d,{children:[Object(j.jsx)(Oj.c,{children:Object(j.jsx)(oh,{year:i,month:1})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(oh,{year:i,month:2})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(oh,{year:i,month:3})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(oh,{year:i,month:4})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(oh,{year:i,month:5})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(oh,{year:i,month:6})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(oh,{year:i,month:7})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(oh,{year:i,month:8})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(oh,{year:i,month:9})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(oh,{year:i,month:10})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(oh,{year:i,month:11})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(oh,{year:i,month:12})})]})]})}),Object(j.jsx)(W.a,{})]})}),Object(j.jsx)(k.a,{maxW:"x3",padding:"4",width:"100%",height:"500",borderColor:"blue.500",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",children:Object(j.jsxs)(ab.a,{children:[Object(j.jsx)(k.a,{children:Object(j.jsx)(F.a,{as:"h2",size:"lg",children:"Expenses Claimed"})}),Object(j.jsx)(W.a,{}),Object(j.jsx)(k.a,{children:Object(j.jsxs)(Oj.e,{defaultIndex:c,isLazy:!0,children:[Object(j.jsxs)(Oj.b,{children:[Object(j.jsx)(Oj.a,{children:"January"}),Object(j.jsx)(Oj.a,{children:"February"}),Object(j.jsx)(Oj.a,{children:"March"}),Object(j.jsx)(Oj.a,{children:"April"}),Object(j.jsx)(Oj.a,{children:"May"}),Object(j.jsx)(Oj.a,{children:"June"}),Object(j.jsx)(Oj.a,{children:"July"}),Object(j.jsx)(Oj.a,{children:"August"}),Object(j.jsx)(Oj.a,{children:"September"}),Object(j.jsx)(Oj.a,{children:"October"}),Object(j.jsx)(Oj.a,{children:"November"}),Object(j.jsx)(Oj.a,{children:"December"})]}),Object(j.jsxs)(Oj.d,{children:[Object(j.jsx)(Oj.c,{children:Object(j.jsx)(nh,{year:i,month:1})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(nh,{year:i,month:2})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(nh,{year:i,month:3})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(nh,{year:i,month:4})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(nh,{year:i,month:5})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(nh,{year:i,month:6})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(nh,{year:i,month:7})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(nh,{year:i,month:8})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(nh,{year:i,month:9})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(nh,{year:i,month:10})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(nh,{year:i,month:11})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(nh,{year:i,month:12})})]})]})}),Object(j.jsx)(W.a,{})]})}),Object(j.jsx)(k.a,{maxW:"x3",padding:"4",width:"100%",height:"500",borderColor:"blue.500",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",children:Object(j.jsxs)(ab.a,{children:[Object(j.jsx)(k.a,{children:Object(j.jsx)(F.a,{as:"h2",size:"lg",children:"Site Allowances"})}),Object(j.jsx)(W.a,{}),Object(j.jsx)(k.a,{children:Object(j.jsxs)(Oj.e,{defaultIndex:c,isLazy:!0,children:[Object(j.jsxs)(Oj.b,{children:[Object(j.jsx)(Oj.a,{children:"January"}),Object(j.jsx)(Oj.a,{children:"February"}),Object(j.jsx)(Oj.a,{children:"March"}),Object(j.jsx)(Oj.a,{children:"April"}),Object(j.jsx)(Oj.a,{children:"May"}),Object(j.jsx)(Oj.a,{children:"June"}),Object(j.jsx)(Oj.a,{children:"July"}),Object(j.jsx)(Oj.a,{children:"August"}),Object(j.jsx)(Oj.a,{children:"September"}),Object(j.jsx)(Oj.a,{children:"October"}),Object(j.jsx)(Oj.a,{children:"November"}),Object(j.jsx)(Oj.a,{children:"December"})]}),Object(j.jsxs)(Oj.d,{children:[Object(j.jsx)(Oj.c,{children:Object(j.jsx)(jh,{year:i,month:"01"})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(jh,{year:i,month:"02"})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(jh,{year:i,month:"03"})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(jh,{year:i,month:"04"})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(jh,{year:i,month:"05"})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(jh,{year:i,month:"06"})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(jh,{year:i,month:"07"})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(jh,{year:i,month:"08"})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(jh,{year:i,month:"09"})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(jh,{year:i,month:"10"})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(jh,{year:i,month:"11"})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(jh,{year:i,month:"12"})})]})]})}),Object(j.jsx)(W.a,{})]})}),Object(j.jsx)(k.a,{maxW:"x3",padding:"4",width:"100%",height:"100%",borderColor:"blue.500",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",children:Object(j.jsxs)(ab.a,{children:[Object(j.jsx)(k.a,{children:Object(j.jsx)(F.a,{as:"h2",size:"lg",children:"Payroll"})}),Object(j.jsx)(W.a,{}),Object(j.jsx)(k.a,{children:Object(j.jsxs)(Oj.e,{isLazy:!0,children:[Object(j.jsxs)(Oj.b,{children:[Object(j.jsx)(Oj.a,{children:"Approved"}),Object(j.jsx)(Oj.a,{children:"Verified"}),Object(j.jsx)(Oj.a,{children:"Pending"}),Object(j.jsx)(Oj.a,{children:"Rejected"})]}),Object(j.jsxs)(Oj.d,{children:[Object(j.jsx)(Oj.c,{children:Object(j.jsx)(xh,{status:"Approved"})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(xh,{status:"Verified"})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(xh,{status:"Pending"})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(xh,{status:"Rejected"})})]})]})}),Object(j.jsx)(W.a,{})]})})]})},_h=[{jan:0,feb:0,mar:0,apr:0,may:0,jun:0,jul:0,aug:0,sep:0,oct:0,nov:0,dec:0}],wh=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}})),Sh=function(){var e=wh(),t=(Object(as.a)(e.paper,e.fixedHeight),Lb()),a=(t.expensesperiod,t.setExpPeriodId,Object(n.useState)(_h)),r=Object(w.a)(a,2),i=(r[0],r[1],(new Date).getFullYear()),c=(new Date).getMonth();return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:e.appBarSpacer}),Object(j.jsx)("div",{style:{paddingLeft:50}}),Object(j.jsx)(T.a,{maxW:"full",children:Object(j.jsx)(k.a,{padding:"4",width:"full",height:"750",borderColor:"blue.500",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",children:Object(j.jsxs)(Oj.e,{children:[Object(j.jsxs)(Oj.b,{children:[Object(j.jsx)(Oj.a,{children:"Employees"}),Object(j.jsx)(Oj.a,{children:"Leaves"}),Object(j.jsx)(Oj.a,{children:"Expenses"}),Object(j.jsx)(Oj.a,{children:"Site Allowances"}),Object(j.jsx)(Oj.a,{children:"Payroll"})]}),Object(j.jsxs)(Oj.d,{children:[Object(j.jsx)(Oj.c,{children:Object(j.jsx)(k.a,{maxW:"full",padding:"4",width:"100%",height:"650",borderColor:"blue.500",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",children:Object(j.jsxs)(ab.a,{children:[Object(j.jsx)(k.a,{children:Object(j.jsx)(F.a,{as:"h2",size:"lg",children:"Employees"})}),Object(j.jsx)(W.a,{}),Object(j.jsx)(k.a,{children:Object(j.jsxs)(Oj.e,{isLazy:!0,children:[Object(j.jsx)(Oj.b,{children:Object(j.jsx)(Oj.a,{children:"Details"})}),Object(j.jsx)(Oj.d,{children:Object(j.jsx)(Oj.c,{children:Object(j.jsx)(Bb,{})})})]})}),Object(j.jsx)(W.a,{})]})})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(k.a,{maxW:"100%",padding:"4",width:"full",height:"650",borderColor:"red.500",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",children:Object(j.jsxs)(ab.a,{w:"100%",children:[Object(j.jsx)(k.a,{children:Object(j.jsx)(F.a,{as:"h2",size:"lg",children:"Leaves"})}),Object(j.jsx)(W.a,{}),Object(j.jsx)(k.a,{children:Object(j.jsxs)(Oj.e,{defaultIndex:c,isLazy:!0,children:[Object(j.jsxs)(Oj.b,{children:[Object(j.jsx)(Oj.a,{children:"January"}),Object(j.jsx)(Oj.a,{children:"February"}),Object(j.jsx)(Oj.a,{children:"March"}),Object(j.jsx)(Oj.a,{children:"April"}),Object(j.jsx)(Oj.a,{children:"May"}),Object(j.jsx)(Oj.a,{children:"June"}),Object(j.jsx)(Oj.a,{children:"July"}),Object(j.jsx)(Oj.a,{children:"August"}),Object(j.jsx)(Oj.a,{children:"September"}),Object(j.jsx)(Oj.a,{children:"October"}),Object(j.jsx)(Oj.a,{children:"November"}),Object(j.jsx)(Oj.a,{children:"December"})]}),Object(j.jsxs)(Oj.d,{children:[Object(j.jsx)(Oj.c,{children:Object(j.jsx)(oh,{year:i,month:1})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(oh,{year:i,month:2})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(oh,{year:i,month:3})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(oh,{year:i,month:4})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(oh,{year:i,month:5})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(oh,{year:i,month:6})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(oh,{year:i,month:7})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(oh,{year:i,month:8})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(oh,{year:i,month:9})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(oh,{year:i,month:10})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(oh,{year:i,month:11})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(oh,{year:i,month:12})})]})]})}),Object(j.jsx)(W.a,{})]})})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(k.a,{maxW:"x3",padding:"4",width:"100%",height:"500",borderColor:"blue.500",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",children:Object(j.jsxs)(ab.a,{children:[Object(j.jsx)(k.a,{children:Object(j.jsx)(F.a,{as:"h2",size:"lg",children:"Expenses Claimed"})}),Object(j.jsx)(W.a,{}),Object(j.jsx)(k.a,{children:Object(j.jsxs)(Oj.e,{defaultIndex:c,isLazy:!0,children:[Object(j.jsxs)(Oj.b,{children:[Object(j.jsx)(Oj.a,{children:"January"}),Object(j.jsx)(Oj.a,{children:"February"}),Object(j.jsx)(Oj.a,{children:"March"}),Object(j.jsx)(Oj.a,{children:"April"}),Object(j.jsx)(Oj.a,{children:"May"}),Object(j.jsx)(Oj.a,{children:"June"}),Object(j.jsx)(Oj.a,{children:"July"}),Object(j.jsx)(Oj.a,{children:"August"}),Object(j.jsx)(Oj.a,{children:"September"}),Object(j.jsx)(Oj.a,{children:"October"}),Object(j.jsx)(Oj.a,{children:"November"}),Object(j.jsx)(Oj.a,{children:"December"})]}),Object(j.jsxs)(Oj.d,{children:[Object(j.jsx)(Oj.c,{children:Object(j.jsx)(nh,{year:i,month:1})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(nh,{year:i,month:2})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(nh,{year:i,month:3})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(nh,{year:i,month:4})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(nh,{year:i,month:5})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(nh,{year:i,month:6})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(nh,{year:i,month:7})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(nh,{year:i,month:8})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(nh,{year:i,month:9})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(nh,{year:i,month:10})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(nh,{year:i,month:11})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(nh,{year:i,month:12})})]})]})}),Object(j.jsx)(W.a,{})]})})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(k.a,{maxW:"x3",padding:"4",width:"100%",height:"500",borderColor:"blue.500",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",children:Object(j.jsxs)(ab.a,{children:[Object(j.jsx)(k.a,{children:Object(j.jsx)(F.a,{as:"h2",size:"lg",children:"Site Allowances"})}),Object(j.jsx)(W.a,{}),Object(j.jsx)(k.a,{children:Object(j.jsxs)(Oj.e,{defaultIndex:c,isLazy:!0,children:[Object(j.jsxs)(Oj.b,{children:[Object(j.jsx)(Oj.a,{children:"January"}),Object(j.jsx)(Oj.a,{children:"February"}),Object(j.jsx)(Oj.a,{children:"March"}),Object(j.jsx)(Oj.a,{children:"April"}),Object(j.jsx)(Oj.a,{children:"May"}),Object(j.jsx)(Oj.a,{children:"June"}),Object(j.jsx)(Oj.a,{children:"July"}),Object(j.jsx)(Oj.a,{children:"August"}),Object(j.jsx)(Oj.a,{children:"September"}),Object(j.jsx)(Oj.a,{children:"October"}),Object(j.jsx)(Oj.a,{children:"November"}),Object(j.jsx)(Oj.a,{children:"December"})]}),Object(j.jsxs)(Oj.d,{children:[Object(j.jsx)(Oj.c,{children:Object(j.jsx)(jh,{year:i,month:"01"})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(jh,{year:i,month:"02"})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(jh,{year:i,month:"03"})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(jh,{year:i,month:"04"})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(jh,{year:i,month:"05"})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(jh,{year:i,month:"06"})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(jh,{year:i,month:"07"})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(jh,{year:i,month:"08"})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(jh,{year:i,month:"09"})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(jh,{year:i,month:"10"})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(jh,{year:i,month:"11"})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(jh,{year:i,month:"12"})})]})]})}),Object(j.jsx)(W.a,{})]})})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(k.a,{maxW:"x3",padding:"4",width:"100%",height:"100%",borderColor:"blue.500",borderWidth:"1px",borderRadius:"lg",overflow:"hidden",children:Object(j.jsxs)(ab.a,{children:[Object(j.jsx)(k.a,{children:Object(j.jsx)(F.a,{as:"h2",size:"lg",children:"Payroll"})}),Object(j.jsx)(W.a,{}),Object(j.jsx)(k.a,{children:Object(j.jsxs)(Oj.e,{isLazy:!0,children:[Object(j.jsxs)(Oj.b,{children:[Object(j.jsx)(Oj.a,{children:"Approved"}),Object(j.jsx)(Oj.a,{children:"Verified"}),Object(j.jsx)(Oj.a,{children:"Pending"}),Object(j.jsx)(Oj.a,{children:"Rejected"})]}),Object(j.jsxs)(Oj.d,{children:[Object(j.jsx)(Oj.c,{children:Object(j.jsx)(xh,{status:"Approved"})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(xh,{status:"Verified"})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(xh,{status:"Pending"})}),Object(j.jsx)(Oj.c,{children:Object(j.jsx)(xh,{status:"Rejected"})})]})]})}),Object(j.jsx)(W.a,{})]})})})]})]})})})]})},Eh=(Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}})),function(){var e=Object(h.d)(_e),t=Object(w.a)(e,2),a=t[0],n=(t[1],function(){switch(a.loginLevel){case"Staff":return Object(j.jsx)(Zb,{});case"Admin":return Object(j.jsx)(Vb,{});case"AdminManager":return Object(j.jsx)(vh,{});case"Manager":return Object(j.jsx)(Sh,{});default:return"You are not authorised user!"}});return Object(j.jsx)("div",{children:Object(j.jsx)(n,{})})}),Ch=Object(E.a)((function(e){return{root:{flexGrow:1},container:{margin:0,padding:0,width:"80vw",display:"grid",gridTemplateColumns:"repeat(auto-fill,250px)",gridAutoRows:"10px",position:"absolute",left:"50%",transform:"translateX(-50%)",justifyContent:"center",backgroundColor:"primary"},fixedHeight:{height:800},paper:{padding:e.spacing(10),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%",color:"primary",bcakgroundColor:"black"},card:{backgroundColor:"black"},form:{"& > *":{margin:e.spacing(1),width:"25ch"}},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:350},table:{minWidth:650}}})),Dh=function(){var e=Ch(),t=Object(as.a)(e.paper,e.fixedHeight),a=Object(n.useState)([]),r=Object(w.a)(a,2),i=r[0],c=r[1],s=Object(n.useState)([]),o=Object(w.a)(s,2),l=o[0],d=o[1],u=Object(n.useState)([]),p=Object(w.a)(u,2),b=p[0],h=p[1],f=Object(n.useState)([]),O=Object(w.a)(f,2),x=O[0],m=O[1],g=Object(n.useState)(!1),y=Object(w.a)(g,2),v=y[0],_=y[1],S=Object(n.useState)(!1),E=Object(w.a)(S,2),C=E[0],D=E[1],N=Object(n.useState)(!1),I=Object(w.a)(N,2),P=I[0],T=I[1],A=Object(n.useState)(!1),k=Object(w.a)(A,2),L=k[0],R=k[1],B=Object(n.useState)(!1),F=Object(w.a)(B,2),G=F[0],U=F[1],V=Jc(),W=V.editEmployeeID,z=V.getSingleEmployee,M=V.single_employee,H=V.single_employee_loading,Y=Ul().singlebatch_training,J=wl(),X=J.loadDepartments,q=J.loadDesignations,Q=J.loadSingleBatchFamily,K=J.loadSingleBatchEducation,$=J.singlebatchfamily,Z=J.singlebatcheducation,ee=J.singlebatchexperience;if(Object(n.useEffect)((function(){z(W),X(),q()}),[]),H)return Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"Loading...Employee"})});var te=function(){_(!1)},ae=function(){D(!1),Q(W)},ne=function(){T(!1),K(W)},re=function(){R(!1)},ie=function(){U(!1)};return Object(j.jsxs)(_o.a,{className:t,style:{backgroundColor:"black"},children:[Object(j.jsx)("div",{className:e.root,children:Object(j.jsxs)(vo.a,{container:!0,spacing:3,children:[Object(j.jsx)(vo.a,{item:!0,xs:12,md:8,lg:12,children:Object(j.jsx)(md,{title:"Employee Profile",children:Object(j.jsx)("div",{children:Object(j.jsxs)("form",{className:e.form,children:[Object(j.jsx)(Do.a,{label:"Name",name:"name",value:M.name,InputProps:{readOnly:!0}}),Object(j.jsx)(Do.a,{label:"Phone",name:"phone",value:M.phone,InputProps:{readOnly:!0}}),Object(j.jsx)(Do.a,{label:"Email",name:"email",value:M.email,InputProps:{readOnly:!0}}),Object(j.jsx)(Do.a,{label:"Birth Date",name:"birthdate",value:M.birhdate,type:"date",InputLabelProps:{shrink:!0}}),Object(j.jsx)(Do.a,{label:"Gender",name:"gender",value:M.gender,InputProps:{readOnly:!0}}),Object(j.jsx)(Do.a,{label:"Leave Balance",name:"leave_bal",value:M.leave_bal,InputProps:{readOnly:!0}})]})})})}),Object(j.jsx)(vo.a,{item:!0,xs:6,md:8,lg:6,children:Object(j.jsx)("div",{children:Object(j.jsx)(Od,{title:"Personal Information",handleClick:function(){_(!0)},children:Object(j.jsx)("div",{children:Object(j.jsxs)("form",{className:e.form,children:[Object(j.jsx)(Do.a,{label:"I/C No",name:"icno",value:M.ic_no,InputProps:{readOnly:!0}}),Object(j.jsx)(Do.a,{label:"I/C Expiry Date",name:"ic_expirydate",value:M.ic_expirydate,type:"date",InputProps:{readOnly:!0},InputLabelProps:{shrink:!0}}),Object(j.jsx)(Do.a,{label:"Passport No",name:"passportno",value:M.passportno,InputProps:{readOnly:!0}}),Object(j.jsx)(Do.a,{label:"Passport Expiry Date",name:"passport_expirydate",value:M.passport_expirydate,type:"date",InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}}),Object(j.jsx)(Do.a,{label:"Work Permit No",name:"workpermitno",value:M.workpermitno,InputProps:{readOnly:!0}}),Object(j.jsx)(Do.a,{label:"W/P Expiry Date",name:"workpermit_expirydate",value:M.workpermit_expirydate,type:"date",InputLabelProps:{shrink:!0},InputProps:{readOnly:!0}}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Nationality",name:"nationality",value:M.nationality,InputProps:{readOnly:!0}})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Marital Status",name:"marital_status",value:M.marital_status,InputProps:{readOnly:!0}})})]})})})})}),Object(j.jsx)(vo.a,{item:!0,xs:6,md:8,lg:6,children:Object(j.jsx)("div",{children:Object(j.jsx)(md,{title:"Leaves",children:Object(j.jsx)("div",{children:Object(j.jsx)(Vd,{})})})})}),Object(j.jsx)(vo.a,{item:!0,xs:6,md:8,lg:6,children:Object(j.jsx)("div",{children:Object(j.jsx)(Od,{title:"Training",handleClick:function(){m(Object(dd.a)(Y)),U(!0)},children:Object(j.jsx)(Md,{})})})}),Object(j.jsx)(vo.a,{item:!0,xs:6,md:8,lg:6,children:Object(j.jsx)("div",{children:Object(j.jsx)(Od,{title:"Experiences",handleClick:function(){h(Object(dd.a)(ee)),R(!0)},children:Object(j.jsx)("div",{children:Object(j.jsx)(Ad,{})})})})}),Object(j.jsx)(vo.a,{item:!0,xs:6,md:8,lg:6,children:Object(j.jsx)("div",{children:Object(j.jsx)(Od,{title:"Education",handleClick:function(){d([]),d(Object(dd.a)(Z)),T(!0)},children:Object(j.jsx)("div",{children:Object(j.jsx)(Id,{})})})})}),Object(j.jsx)(vo.a,{item:!0,xs:6,md:8,lg:6,children:Object(j.jsx)("div",{children:Object(j.jsx)(Od,{title:"Family",handleClick:function(){c([]),c(Object(dd.a)($)),D(!0)},children:Object(j.jsx)(Cd,{})})})})]})}),Object(j.jsx)(Sd,{isOpen:v,handleClose:te,title:"",showButton:!0,isFullscreen:!1,isFullwidth:!1,children:Object(j.jsx)(Xd,{handleDialogClose:te})}),Object(j.jsx)(Sd,{isOpen:C,handleClose:ae,title:"",showButton:!0,isFullscreen:!1,isFullwidth:!1,children:Object(j.jsx)(sl,{setFamilydata:c,familydata:i,handleDialogClose:ae})}),Object(j.jsx)(Sd,{isOpen:P,handleClose:ne,title:"",showButton:!0,isFullscreen:!1,isFullwidth:!1,children:Object(j.jsx)(xl,{setEducationdata:d,educationdata:l,handleDialogClose:ne})}),Object(j.jsx)(Sd,{isOpen:L,handleClose:re,title:"",showButton:!0,isFullscreen:!1,isFullwidth:!1,children:Object(j.jsx)(kl,{setExperiencedata:h,experiencedata:b,handleDialogClose:re})}),Object(j.jsx)(Sd,{isOpen:G,handleClose:ie,title:"",showButton:!0,isFullscreen:!1,isFullwidth:!1,children:Object(j.jsx)($l,{setTrainingdata:m,trainingdata:x,handleDialogClose:ie})})]})};function Nh(){return(Nh=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(X,{method:"DELETE",body:JSON.stringify({id:t})});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ih(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return Nh.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("employees"),a({title:"Employee record being deleted!",status:"warning"})}}).mutate}function Ph(){var e=Object(ts.f)(),t=Th(),a=Y(),r=(Yo().designations,zo().departments,ve()),i=r.employees,c=r.setEmployeeId,s=Object(h.d)(we),o=Object(w.a)(s,2),l=(o[0],o[1],Ih()),d=Object(n.useState)(!1),u=Object(w.a)(d,2),p=u[0],b=u[1],f=Object(n.useState)(!1),O=Object(w.a)(f,2),x=O[0],m=O[1],g=Object(n.useMemo)((function(){return[{title:"Name",field:"name"},{title:"IC No",field:"ic_no"},{title:"Gender",field:"gender"},{title:"Age",field:"age",type:"numeric"},{title:"Email",field:"email"}]})),y=Jc(),v=y.editEmployeeID,_=y.employees_loading,S=y.setEditEmployeeID,E=y.setIsEditingOn,C=y.setIsEditingOff,N=y.resetSingleEmployee,T=y.resetEmployees,A=wl(),k=(A.loadDepartments,A.loadDesignations,A.resetTables,function(){var t=Object(P.a)(I.a.mark((function t(a){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=a.id,N(),T(),S(n),E(),c(n),e.push("/singleemployee");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),L=function(){var t=Object(P.a)(I.a.mark((function t(a){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:N(),S(""),C(),e.push("/singleemployee");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),R=function(){b(!1)},B=function(){m(!0)},F=function(){i.forEach((function(e){if(e.tableData.checked){try{e.password?qc.auth().createUserWithEmailAndPassword(e.email,e.password):qc.auth().createUserWithEmailAndPassword(e.email,"abc123*")}catch(t){console.log(t)}try{qc.auth().sendPasswordResetEmail(e.email),a({title:"Reset Password sent to ".concat(e.email,"!"),status:"success"})}catch(t){a({title:"Error send to  ".concat(e.email,"!"),status:"warning"})}}})),i.forEach((function(e){e.tableData&&(e.tableData.checked=!1)}))};return _?Object(j.jsx)("div",{children:"Loading..."}):Object(j.jsx)("div",{className:t.root,children:Object(j.jsxs)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:[Object(j.jsx)(Ko.a,{columns:g,data:i.sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0})),title:"Employees Listing",icons:{Add:function(e){return Object(j.jsx)(Zu.a,{})},Edit:function(e){return Object(j.jsx)(hd.a,{})},Delete:function(e){return Object(j.jsx)(tp.a,{})},Clear:function(e){return Object(j.jsx)(tp.a,{})},Check:function(e){return Object(j.jsx)(np.a,{})},Search:function(e){return Object(j.jsx)(ip.a,{})},ResetSearch:function(e){return Object(j.jsx)(tp.a,{})}},actions:[{icon:"edit",tooltip:"Edit Record",position:"row",onClick:function(e,t){k(t)}},{icon:"delete",tooltip:"Delete Record",position:"row",onClick:function(e,t){!function(e){var t=e.id;S(t),B()}(t)}},{icon:"add",tooltip:"Add Record",isFreeAction:!0,onClick:function(e,t){L(t)}}],options:{filtering:!0,selection:!0,headerStyle:{backgroundColor:"#90CDF4",color:"secondary"},showTitle:!0},components:{Toolbar:function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)(Qo.MTableToolbar,Object(D.a)({},e)),Object(j.jsx)("div",{style:{padding:"5px 10px"},children:Object(j.jsxs)(Eo.a,{type:"submit",variant:"contained",color:"secondary",className:t.button,onClick:F,children:["Reset PW ",Object(j.jsx)(Co.a,{className:t.rightIcon,children:"send"})]})})]})}}}),Object(j.jsx)(Sd,{isOpen:p,handleClose:R,title:"",showButton:!0,isFullscreen:!0,isFullwidth:!0,children:Object(j.jsx)(Dh,{handleDialogClose:R})}),Object(j.jsx)(Ku,{onClose:function(){m(!1)},onConfirm:function(){l(v)},isOpen:x,title:"Delete Employee",children:Object(j.jsx)("h2",{children:"Are you sure you want to delete ?"})})]})})}var Th=Object(E.a)((function(e){return{root:{padding:e.spacing(3,2)}}})),Ah=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(9),paddingBottom:e.spacing(4),border:"1px solid",height:"95vh"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid"},fixedHeight:{height:"80vh"}}})),kh=function(){var e=Ah(),t=Object(as.a)(e.paper,e.fixedHeight);return Object(j.jsxs)("div",{children:[Object(j.jsx)(y.a,{}),Object(j.jsx)("div",{className:e.appBarSpacer,children:Object(j.jsx)(S.a,{maxWidth:"lg",className:e.container,children:Object(j.jsx)(vo.a,{container:!0,spacing:3,children:Object(j.jsx)(vo.a,{item:!0,xs:12,children:Object(j.jsx)(_o.a,{className:t,children:Object(j.jsx)(Ph,{title:"All Employees"})})})})})})]})},Lh=a(468),Rh=a.n(Lh),Bh={name:"",to_date:"",from_date:"",reason:"",status:"Pending",no_of_days:0,leave_bal:0},Fh=[{title:"Name",field:"name",editable:"never"},{title:"From Date",field:"from_date",type:"date",dateSetting:{locale:"en-GB"},editable:"never"},{title:"To Date",field:"to_date",type:"date",dateSetting:{locale:"en-GB"},editable:"never"},{title:"Leave Balance",field:"leave_bal",type:"numeric",editable:"never"},{title:"No of Days",field:"no_of_days",type:"numeric",editable:"never"},{title:"Reason",field:"reason",editable:"never"},{title:"Status",field:"status",editComponent:function(e){return Object(j.jsxs)(Do.a,{onChange:function(t){return e.onChange(t.target.value)},style:{width:100},value:e.value,select:!0,children:[Object(j.jsx)(No.a,{value:"Pending",children:"Pending"}),Object(j.jsx)(No.a,{value:"Approve",children:"Approve"}),Object(j.jsx)(No.a,{value:"Reject",children:"Reject"}),Object(j.jsx)(No.a,{value:"Cancel",children:"Cancel"})]})}}];function Gh(){var e=Uh(),t=Kd(),a=t.leaves,r=(t.filter,t.setFilter,t.setLeaveId),i=(nu(),Zd(),tu()),c=Object(n.useState)(Bh),s=Object(w.a)(c,2),o=s[0],l=s[1],d=Object(n.useState)(!1),u=Object(w.a)(d,2),p=u[0],b=u[1],h=Object(n.useState)(!1),f=Object(w.a)(h,2),O=f[0],x=f[1],m=(Jc().loadEmployees,Gd()),g=m.editLeaveID,y=(m.leaves_loading,m.deleteLeave,m.loadLeaves,m.getSingleLeave),v=m.setEditLeaveID,_=m.setIsLeaveEditingOn,S=m.setIsLeaveEditingOff,E=m.resetSingleLeave;Object(n.useEffect)((function(){r(g)}),[]);var C=function(){var e=Object(P.a)(I.a.mark((function e(t){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.id,l(Object(D.a)({},t)),v(a),_(),y(a),T();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(Object(D.a)({},t)),E(),v(""),S(),T();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){b(!0)},A=function(){b(!1)};return Object(j.jsx)("div",{className:e.root,children:Object(j.jsxs)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:[Object(j.jsx)(Ko.a,{columns:Fh,data:a,title:"Leave Application",icons:{Add:function(e){return Object(j.jsx)(Zu.a,{})},Edit:function(e){return Object(j.jsx)(Zu.a,{})},View:function(e){return Object(j.jsx)(Rh.a,{})},Delete:function(e){return Object(j.jsx)(tp.a,{})},Clear:function(e){return Object(j.jsx)(tp.a,{})},Check:function(e){return Object(j.jsx)(np.a,{})},Search:function(e){return Object(j.jsx)(ip.a,{})},ResetSearch:function(e){return Object(j.jsx)(tp.a,{})}},actions:[{icon:function(){return Object(j.jsx)(Rh.a,{})},tooltip:"Edit Record",onClick:function(e,t){C(t)}},{icon:"add",tooltip:"Add Record",isFreeAction:!0,onClick:function(e,t){N(t)}}],options:{filtering:!0,headerStyle:{backgroundColor:"#90CDF4",color:"primary"},showTitle:!0}}),Object(j.jsx)(Sd,{isOpen:p,handleClose:A,title:"",showButton:!0,isFullscree:!1,children:Object(j.jsx)(lb,{formdata:o,setFormdata:l,handleDialogClose:A})}),Object(j.jsx)(Ku,{onClose:function(){x(!1)},onConfirm:function(){i(g)},isOpen:O,title:"Delete Expenses",children:Object(j.jsx)("h2",{children:"Are you sure you want to delete ?"})})]})})}var Uh=Object(E.a)((function(e){return{root:{padding:0}}})),Vh=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(9),paddingBottom:e.spacing(4),border:"1px solid"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%"},fixedHeight:{height:"80vh"}}})),Wh=function(){var e=Vh(),t=Object(as.a)(e.paper,e.fixedHeight);return Object(j.jsxs)("div",{children:[Object(j.jsx)(y.a,{}),Object(j.jsx)("div",{className:e.appBarSpacer,children:Object(j.jsx)(S.a,{maxWidth:"lg",className:e.container,children:Object(j.jsx)(vo.a,{container:!0,spacing:3,children:Object(j.jsx)(vo.a,{item:!0,xs:12,children:Object(j.jsx)(_o.a,{className:t,children:Object(j.jsx)("div",{children:Object(j.jsx)(Gh,{title:"Leaves",headCells:fe})})})})})})})]})},zh=function(e){e.dialogRef;var t=e.isOpen,a=e.onClose,r=(e.onConfirm,e.title,e.children,Object(n.useRef)(null));return Object(j.jsxs)(qu.a,{isOpen:t,leastDestructiveRef:r,onClose:a,blockScrollOnMount:!0,children:[Object(j.jsx)(Qu.g,{}),Object(j.jsxs)(qu.b,{children:[Object(j.jsx)(Qu.f,{children:"Alert!!!"}),Object(j.jsx)(Qu.c,{onClick:a}),Object(j.jsx)(Qu.b,{fontFamily:"roboto",fontSize:"1.25rem",children:"You have an uncompleted order, do you wish to continue?"}),Object(j.jsxs)(Qu.e,{children:[Object(j.jsx)(z.a,{ref:r,onClick:a,py:"0.5rem",w:"100px",fontFamily:"cursive",children:"No"}),Object(j.jsx)(z.a,{w:"100px",py:"0.5rem",onClick:a,ml:3,fontFamily:"cursive",children:"Yes"})]})]})]})},Mh={name:"",to_date:"",from_date:"",reason:"",status:"Pending",no_of_days:0,leave_bal:0},Hh=[{title:"Name",field:"name",editable:"never"},{title:"From Date",field:"from_date",type:"date",dateSetting:{locale:"en-GB"},editable:"never"},{title:"To Date",field:"to_date",type:"date",dateSetting:{locale:"en-GB"},editable:"never"},{title:"Leave Balance",field:"leave_bal",type:"numeric",editable:"never"},{title:"No of Days",field:"no_of_days",type:"numeric",editable:"never"},{title:"Reason",field:"reason",editable:"never"},{title:"Status",field:"status",editComponent:function(e){return Object(j.jsxs)(Do.a,{onChange:function(t){return e.onChange(t.target.value)},style:{width:100},value:e.value,select:!0,children:[Object(j.jsx)(No.a,{value:"Pending",children:"Pending"}),Object(j.jsx)(No.a,{value:"Approved",children:"Approved"}),Object(j.jsx)(No.a,{value:"Rejected",children:"Rejected"}),Object(j.jsx)(No.a,{value:"Cancel",children:"Cancel"})]})}}];function Yh(){var e=Jh(),t=Kd(),a=t.leaves,i=(t.filter,t.setFilter),c=(t.setLeaveId,nu(),Zd(),tu()),s=Object(n.useState)(!1),o=Object(w.a)(s,2),l=o[0],d=o[1],u=Object(n.useState)(!1),p=Object(w.a)(u,2),b=p[0],f=p[1],O=Object(n.useState)(!1),x=Object(w.a)(O,2),m=(x[0],x[1],Object(h.d)(_e)),g=Object(w.a)(m,2),y=g[0],v=(g[1],Object(n.useState)(Mh)),_=Object(w.a)(v,2),S=_[0],E=_[1],C=(Jc().editEmployeeID,Gd()),N=C.editLeaveID,T=C.setEditLeaveID,A=C.setIsLeaveEditingOn,k=C.setIsLeaveEditingOff,L=r.a.useState(!1),R=Object(w.a)(L,2),B=(R[0],R[1],r.a.useRef());Object(n.useEffect)((function(){i(y.loginUserId)}),[]);var G=function(){var e=Object(P.a)(I.a.mark((function e(t){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.id,E(Object(D.a)({},t)),E(Object(D.a)({},t)),T(a),A(),V();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T(""),E(Mh),k(),V();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){d(!0)},W=function(){d(!1)};return Object(j.jsx)("div",{className:e.root,children:Object(j.jsxs)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:[Object(j.jsx)(Ko.a,{columns:Hh,data:a,title:"Leave Application",icons:{Add:function(e){return Object(j.jsx)(Zu.a,{})},Edit:function(e){return Object(j.jsx)(hd.a,{})},Delete:function(e){return Object(j.jsx)(tp.a,{})},Clear:function(e){return Object(j.jsx)(tp.a,{})},Check:function(e){return Object(j.jsx)(np.a,{})},Search:function(e){return Object(j.jsx)(ip.a,{})},ResetSearch:function(e){return Object(j.jsx)(tp.a,{})}},actions:[function(e){return{disabled:"Pending"!==e.status,icon:"edit",tooltip:"Edit Record",onClick:function(e,t){G(t)}}},function(e){return{disabled:"Pending"!==e.status,icon:"delete",tooltip:"Delete Record",onClick:function(e,t){!function(e){var t=e.id;T(t),f(!0)}(t)}}},{icon:"add",tooltip:"Add Record",isFreeAction:!0,onClick:function(e,t){U(t)}}],options:{filtering:!0,headerStyle:{backgroundColor:"orange",color:"primary"},showTitle:!0},components:{Toolbar:function(e){return Object(j.jsx)("div",{children:Object(j.jsx)(Qo.MTableToolbar,Object(D.a)({},e))})}}}),Object(j.jsx)(Sd,{isOpen:l,handleClose:W,title:"",showButton:!0,isFullscree:!1,children:Object(j.jsx)(cu,{formdata:S,setFormdata:E,handleDialogClose:W})}),Object(j.jsx)(zh,{isOpen:b,cancelRef:B,onClose:function(){f(!1)},onConfirm:function(){c(N)},title:"DELETE",children:Object(j.jsx)(F.a,{size:"sm",children:"Are you sure you want to delete ?"})})]})})}var Jh=Object(E.a)((function(e){return{root:{padding:0}}})),Xh=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(9),paddingBottom:e.spacing(4),border:"1px solid"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%"},fixedHeight:{height:"80vh"}}})),qh=function(){var e=Xh(),t=Object(as.a)(e.paper,e.fixedHeight);return Object(j.jsxs)("div",{children:[Object(j.jsx)(y.a,{}),Object(j.jsx)("div",{className:e.appBarSpacer,children:Object(j.jsx)(S.a,{maxWidth:"lg",className:e.container,children:Object(j.jsx)(vo.a,{container:!0,spacing:3,children:Object(j.jsx)(vo.a,{item:!0,xs:12,children:Object(j.jsx)(_o.a,{className:t,children:Object(j.jsx)("div",{children:Object(j.jsx)(Yh,{title:"Leaves",headCells:fe})})})})})})})]})},Qh=[{title:"Name",field:"name",editable:"never"},{title:"From Date",field:"from_date",type:"date",dateSetting:{locale:"en-GB"},editable:"never"},{title:"To Date",field:"to_date",type:"date",dateSetting:{locale:"en-GB"},editable:"never"},{title:"Description",field:"description",editable:"never"},{title:"Amount",field:"amount",type:"currency",editable:"never"},{title:"Status",field:"status",editComponent:function(e){return Object(j.jsxs)(Do.a,{onChange:function(t){return e.onChange(t.target.value)},style:{width:100},value:e.value,select:!0,children:[Object(j.jsx)(No.a,{value:"Pending",children:"Pending"}),Object(j.jsx)(No.a,{value:"Approve",children:"Approve"}),Object(j.jsx)(No.a,{value:"Reject",children:"Reject"}),Object(j.jsx)(No.a,{value:"Cancel",children:"Cancel"})]})}}];function Kh(){var e=$h(),t=Object(n.useState)(!1),a=Object(w.a)(t,2),r=(a[0],a[1],Object(n.useState)(!1)),i=Object(w.a)(r,2),c=i[0],s=i[1],o=Object(n.useState)(!1),l=Object(w.a)(o,2),d=l[0],u=l[1],p=Object(n.useState)([]),b=Object(w.a)(p,2),h=b[0],f=b[1],O=(Jc().loadEmployees,ju()),x=O.expenses,m=O.editExpenseID,g=(O.updateExpense,O.expenses_loading,O.deleteExpense),y=O.loadExpenses,v=O.getSingleExpense,_=O.setEditExpenseID,S=O.setIsExpenseEditingOn,E=O.setIsExpenseEditingOff,C=O.resetSingleExpense;Object(n.useEffect)((function(){f(x),console.log(h)}),[]);var D=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C(),_(""),E(),T();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(P.a)(I.a.mark((function e(t){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.id,_(a),S(),v(a),T();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){s(!0)},A=function(){s(!1),y()},k=function(){u(!0)};return h?Object(j.jsx)("div",{className:e.root,children:Object(j.jsxs)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:[Object(j.jsx)(Ko.a,{columns:Qh,data:h,title:"Expenses Claims Application",icons:{Add:function(e){return Object(j.jsx)(Zu.a,{})},Edit:function(e){return Object(j.jsx)(Ob.a,{})},Delete:function(e){return Object(j.jsx)(tp.a,{})},Clear:function(e){return Object(j.jsx)(tp.a,{})},Check:function(e){return Object(j.jsx)(np.a,{})},Search:function(e){return Object(j.jsx)(ip.a,{})},ResetSearch:function(e){return Object(j.jsx)(tp.a,{})}},editable:{onRowUpdate:function(e,t){return new Promise((function(a,n){setTimeout((function(){var n=Object(dd.a)(h);n[t.tableData.id]=e,f(Object(dd.a)(n)),a()}),1e3)}))}},actions:[{icon:"edit",tooltip:"Edit Record",onClick:function(e,t){N(t)}},{icon:"delete",tooltip:"Delete Record",onClick:function(e,t){!function(e){var t=e.id;_(t),k()}(t)}},{icon:"add",tooltip:"Add Record",isFreeAction:!0,onClick:function(e,t){D(t)}}],options:{filtering:!0,headerStyle:{backgroundColor:"orange",color:"#FFF"},showTitle:!0}}),Object(j.jsx)(Sd,{isOpen:c,handleClose:A,title:"",showButton:!0,isFullscree:!1,isFullwidth:!1,children:Object(j.jsx)(wu,{handleDialogClose:A})}),Object(j.jsx)(Ku,{onClose:function(){u(!1)},onConfirm:function(){g(m),y()},isOpen:d,title:"Delete Expenses",children:Object(j.jsx)("h2",{children:"Are you sure you want to delete ?"})})]})}):Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"Loading...Expenses"})})}var $h=Object(E.a)((function(e){return{root:{padding:0}}})),Zh=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(9),paddingBottom:e.spacing(4),border:"1px solid"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%"},fixedHeight:{height:"85vh"}}})),ef=function(){var e=Zh(),t=Object(as.a)(e.paper,e.fixedHeight),a=ju(),r=a.loadExpenses,i=a.expenses_loading;return Object(n.useEffect)((function(){r()}),[]),i?Object(j.jsx)("div",{children:Object(j.jsx)(_o.a,{className:t,children:Object(j.jsx)("h2",{children:"Loading...Expenses"})})}):Object(j.jsxs)("div",{children:[Object(j.jsx)(y.a,{}),Object(j.jsx)("div",{className:e.appBarSpacer,children:Object(j.jsx)(S.a,{maxWidth:"lg",className:e.container,children:Object(j.jsx)(vo.a,{container:!0,spacing:3,children:Object(j.jsx)(vo.a,{item:!0,xs:12,children:Object(j.jsx)(_o.a,{className:t,children:Object(j.jsx)("div",{children:Object(j.jsx)(Kh,{title:"Expenses Claims"})})})})})})})]})},tf={name:"",date:"",purchased_from:"",description:"",status:"Pending",amount:0},af=[{title:"Name",field:"name",editable:"never"},{title:"Date",field:"date",type:"date",dateSetting:{locale:"en-GB"},editable:"never"},{title:"Description",field:"description",editable:"never"},{title:"Amount",field:"amount",type:"currency",editable:"never"},{title:"Status",field:"status",editComponent:function(e){return Object(j.jsxs)(Do.a,{onChange:function(t){return e.onChange(t.target.value)},style:{width:100},value:e.value,select:!0,children:[Object(j.jsx)(No.a,{value:"Pending",children:"Pending"}),Object(j.jsx)(No.a,{value:"Approve",children:"Approve"}),Object(j.jsx)(No.a,{value:"Reject",children:"Reject"}),Object(j.jsx)(No.a,{value:"Cancel",children:"Cancel"})]})}}];function nf(){var e=rf(),t=(Y(),Object(n.useState)(!1)),a=Object(w.a)(t,2),r=(a[0],a[1],fu()),i=r.expenses,c=(r.filter,r.setFilter),s=(r.setExpenseId,vu(),xu(),gu()),o=Object(n.useState)(!1),l=Object(w.a)(o,2),d=l[0],u=l[1],p=Object(n.useState)(!1),b=Object(w.a)(p,2),f=b[0],O=b[1],x=Object(n.useState)([]),m=Object(w.a)(x,2),g=(m[0],m[1],Object(n.useState)(!1)),y=Object(w.a)(g,2),v=(y[0],y[1],Object(n.useState)(tf)),_=Object(w.a)(v,2),S=_[0],E=_[1],C=Object(h.d)(_e),N=Object(w.a)(C,2),T=N[0],A=(N[1],Jc().editEmployeeID,ju()),k=A.editExpenseID,L=(A.updateExpense,A.addExpense,A.deleteExpense,A.setEditExpenseID),R=A.setIsExpenseEditingOn,B=A.setIsExpenseEditingOff;Object(n.useEffect)((function(){c(T.loginUserId)}),[]);var F=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(tf),E(tf),B(),U();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(P.a)(I.a.mark((function e(t){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.id,E(Object(D.a)({},t)),E(Object(D.a)({},t)),L(a),R(),U();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){u(!0)},V=function(){u(!1)},W=function(){O(!0)};return Object(j.jsx)("div",{className:e.root,children:Object(j.jsxs)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:[Object(j.jsx)(Ko.a,{columns:af,data:i,title:"Expenses Claims Application",icons:{Add:function(e){return Object(j.jsx)(Zu.a,{})},Edit:function(e){return Object(j.jsx)(Ob.a,{})},Delete:function(e){return Object(j.jsx)(tp.a,{})},Clear:function(e){return Object(j.jsx)(tp.a,{})},Check:function(e){return Object(j.jsx)(np.a,{})},Search:function(e){return Object(j.jsx)(ip.a,{})},ResetSearch:function(e){return Object(j.jsx)(tp.a,{})}},actions:[function(e){return{disabled:"Pending"!==e.status,icon:"edit",tooltip:"Edit Record",onClick:function(e,t){G(t)}}},function(e){return{disabled:"Pending"!==e.status,icon:"delete",tooltip:"Delete Record",onClick:function(e,t){!function(e){var t=e.id;L(t),W()}(t)}}},{icon:"add",tooltip:"Add Record",isFreeAction:!0,onClick:function(e,t){F(t)}}],options:{filtering:!0,headerStyle:{backgroundColor:"orange",color:"#FFF"},showTitle:!0},components:{Toolbar:function(e){return Object(j.jsx)("div",{children:Object(j.jsx)(Qo.MTableToolbar,Object(D.a)({},e))})}}}),Object(j.jsx)(Sd,{isOpen:d,handleClose:V,title:"",showButton:!0,isFullscreen:!1,isFullwidth:!1,children:Object(j.jsx)(wu,{formdata:S,setFormdata:E,handleDialogClose:V})}),Object(j.jsx)(Ku,{onClose:function(){O(!1)},onConfirm:function(){s(k)},isOpen:f,title:"Delete Expenses",children:Object(j.jsx)("h2",{children:"Are you sure you want to delete ?"})})]})})}var rf=Object(E.a)((function(e){return{root:{padding:0}}})),cf=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(9),paddingBottom:e.spacing(4),border:"1px solid"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%"},fixedHeight:{height:"85vh"}}})),sf=function(){var e=cf(),t=Object(as.a)(e.paper,e.fixedHeight);return Object(j.jsxs)("div",{children:[Object(j.jsx)(y.a,{}),Object(j.jsx)("div",{className:e.appBarSpacer,children:Object(j.jsx)(S.a,{maxWidth:"lg",className:e.container,children:Object(j.jsx)(vo.a,{container:!0,spacing:3,children:Object(j.jsx)(vo.a,{item:!0,xs:12,children:Object(j.jsx)(_o.a,{className:t,children:Object(j.jsx)("div",{children:Object(j.jsx)(nf,{title:"Expenses Claims"})})})})})})})]})},of=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(9),paddingBottom:e.spacing(4),border:"1px solid"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%"},fixedHeight:{height:"80vh"}}})),lf=function(){var e=of(),t=Object(as.a)(e.paper,e.fixedHeight);return Object(j.jsxs)("div",{children:[Object(j.jsx)(y.a,{}),Object(j.jsx)("div",{className:e.appBarSpacer,children:Object(j.jsx)(S.a,{maxWidth:"lg",className:e.container,children:Object(j.jsx)(vo.a,{container:!0,spacing:3,children:Object(j.jsx)(vo.a,{item:!0,xs:12,children:Object(j.jsx)(_o.a,{className:t,children:Object(j.jsx)("div",{children:Object(j.jsx)($l,{title:"Trainings",headCells:fe})})})})})})})]})},df=[{title:"Name",field:"name",editable:"never"},{title:"Department",field:"department",editable:"never"},{title:"Designation",field:"designation",editable:"never"},{title:"Role",field:"role",lookup:{1:"Staff",2:"Admin",3:"AdminManager",4:"Manager"}}];function uf(){var e=pf(),t=Object(as.a)(e.paper,e.fixedHeight),a=ve().employees,n=Uo();Jc().editEmployeeID;return Object(j.jsx)("div",{className:t,children:Object(j.jsx)(k.a,{w:"100%",mt:"65",children:Object(j.jsx)(Ko.a,{columns:df,data:a,title:"User Access Table",editable:{onRowUpdate:function(e,t){return new Promise((function(r,i){setTimeout((function(){Object(dd.a)(a)[t.tableData.id]=e,function(e){var t=e.id,a=(e.rec_id,e.role),r=Object(Ge.a)(e,["id","rec_id","role"]);n(Object(D.a)({id:t,role:parseInt(a,10)},r))}(e),r()}),1e3)}))}},options:{filtering:!0,pageSize:10,headerStyle:{backgroundColor:"#90CDF4",color:"primary"},showTitle:!0},components:{Toolbar:function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)(Qo.MTableToolbar,Object(D.a)({},e)),Object(j.jsx)("div",{style:{padding:"5px 10px"}})]})}}})})})}var pf=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(9),paddingBottom:e.spacing(4),border:"1px solid"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%"},fixedHeight:{height:800}}}));Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(9),paddingBottom:e.spacing(4),border:"1px solid"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%"},fixedHeight:{height:"80vh"}}}));function jf(){return(jf=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ne,{method:"DELETE",body:JSON.stringify({id:t})});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bf(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return jf.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("payrun"),a({title:"Payrun batch being deleted!",status:"warning"})}}).mutate}function hf(){return(hf=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("".concat(Q,"?pr=").concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ff(e){var t=Object(n.useState)("all"),a=Object(w.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(""),s=Object(w.a)(c,2),o=s[0],l=s[1],d=Object(n.useCallback)((function(e){return function(e,t){return e.filter((function(e){return e.payrun===t})).map((function(e){return Object(D.a)({},e)}))}(e,r)}),[r]),u=Object(J.a)([ge.expensespayrun,o],(function(){return function(e){return hf.apply(this,arguments)}(o)}),{select:"all"!==r?d:void 0}).data;return{expensespayrun:void 0===u?[]:u,expfilter:r,setExpFilter:i,setExpPayrunId:l}}function Of(){return(Of=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("".concat($,"?pr=").concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xf(){var e=Object(n.useState)("all"),t=Object(w.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(""),c=Object(w.a)(i,2),s=c[0],o=c[1],l=Object(n.useCallback)((function(e){return Uu(e,a)}),[a]),d=Object(J.a)([ge.dailyallowspayrun,s],(function(){return function(e){return Of.apply(this,arguments)}(s)}),{select:"all"!==a?l:void 0}).data;return{dailyallowspayrun:void 0===d?[]:d,filter:a,setFilter:r,setDailyAllowsPayrunId:o}}var mf=[{title:"Payrun Batch",field:"payrun",type:"date",dateSetting:{locale:"en-GB"}},{title:"Total Wages",field:"totalwages",type:"currency"},{title:"TAP Amount",field:"totaltap",type:"currency"},{title:"SCP Amount",field:"totalscp",type:"currency"},{title:"Site Allowances",field:"totalsitesallows",type:"currency"},{title:"Expenses Claims",field:"totalexpensesclaims",type:"currency"},{title:"Total Allowances",field:"totalallows",type:"currency"},{title:"Total Deductions",field:"totaldeducts",type:"currency"},{title:"Total Payroll",field:"totalpayroll",type:"currency"},{title:"Status",field:"status"}];function gf(){var e=Object(ts.f)(),t=Y(),a=yf(),r=$p().payrun,i=lj(),c=i.payslipsbatch,s=(i.psbpayrunId,i.setPSBPayrunId),o=ff(),l=o.expensespayrun,d=o.setExpPayrunId,u=xf(),p=u.dailyallowspayrun,b=u.setDailyAllowsPayrunId,f=vu(),O=bf(),x=yp(),m=Object(h.d)(Re),g=Object(w.a)(m,2),y=g[0],v=g[1],_=Object(n.useState)(!1),S=Object(w.a)(_,2),E=(S[0],S[1],Object(n.useState)(!1)),C=Object(w.a)(E,2),N=C[0],T=C[1],A=Object(n.useState)({id:"",payrun:""}),k=Object(w.a)(A,2),L=k[0],R=k[1],B=Object(h.d)(Ee),F=Object(w.a)(B,2),G=(F[0],F[1]),U=Object(h.d)(Ce),V=Object(w.a)(U,2),W=(V[0],V[1]),z=ju(),M=(z.loadPeriodExpenses,z.periodexpenses,z.updateExpense,Pu()),H=(M.getSingleBatchDailyAllowance,M.singlebatchdailyallowance,M.updateDailyAllowance,M.deleteDailyAllowance,Rp()),J=(H.getPayrun,H.payrun_loading),X=H.payrun_error,q=H.getSinglePayslip,Q=H.setEditPayslipID,K=H.setIsPayslipEditingOn,$=(H.single_payslip,H.setPayslipPeriod),Z=H.deletePayslip,ee=(H.pending_payslips,H.loadPendingPayslips,function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("input",t),v(Object(D.a)(Object(D.a)({},y),{},{id:t.id,payfreq:t.payfreq,fromdate:t.fromdate,todate:t.todate,paydate:t.paydate,period:t.period,payrun:t.payrun,totalwages:t.totalwages,totaltap:t.totaltap,totalscp:t.totalscp,totalallows:t.totalallows,totaldeducts:t.totaldeducts,totalpayroll:t.totalpayroll,status:t.status})),v(Object(D.a)(Object(D.a)({},y),{},{id:t.id,payfreq:t.payfreq,fromdate:t.fromdate,todate:t.todate,paydate:t.paydate,period:t.period,payrun:t.payrun,totalwages:t.totalwages,totaltap:t.totaltap,totalscp:t.totalscp,totalallows:t.totalallows,totaldeducts:t.totaldeducts,totalpayroll:t.totalpayroll,status:t.status})),console.log("payrun",y);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),te=function(){var t=Object(P.a)(I.a.mark((function t(a){var n,r;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=a.id,r=a.payrun,G(n),W(a.status),$(r),Q(n),K(),q(n),e.push("/payrunbatch");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ae=function(e){var t=e.id,a=e.payrun;R({id:t,payrun:a}),s(a),d(a),b(a),T(!0)};return J?Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"Loading.....Payslips"})}):X?Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"Internet connection problem!"})}):Object(j.jsx)("div",{className:a.root,children:Object(j.jsxs)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:[Object(j.jsx)(Ko.a,{columns:mf,data:r,title:"Payroll",icons:{Add:function(e){return Object(j.jsx)(Zu.a,{})},Edit:function(e){return Object(j.jsx)(hd.a,{})},Delete:function(e){return Object(j.jsx)(tp.a,{})},Clear:function(e){return Object(j.jsx)(tp.a,{})},Check:function(e){return Object(j.jsx)(np.a,{})},Search:function(e){return Object(j.jsx)(ip.a,{})},ResetSearch:function(e){return Object(j.jsx)(tp.a,{})},Build:function(e){return Object(j.jsx)(_b.a,{})}},actions:[function(e){return{icon:"edit",position:"row",tooltip:"Edit Record",onClick:function(e,t){ee(t),te(t)}}},function(e){return{disabled:"Pending"!==e.status,icon:"delete",tooltip:"Delete Record",position:"row",onClick:function(e,t){ae(t)}}}],options:{filtering:!0,headerStyle:{backgroundColor:"#90CDF4",color:"black"},showTitle:!0},components:{Toolbar:function(e){return Object(j.jsx)("div",{children:Object(j.jsx)(Qo.MTableToolbar,Object(D.a)({},e))})}}}),Object(j.jsx)(Ku,{onClose:function(){T(!1)},onConfirm:function(e){console.log("payslip delete",L);var a=L.id,n=L.payrun;c&&c.forEach((function(e){e.payrun===n&&Z(e.id)})),l&&l.forEach((function(e){e.payrun===n&&f({id:e.id,payrun:""})})),p&&p.forEach((function(e){e.payrun===n&&x({id:e.id,payrun:""})})),O(a),t({title:"Payroll Batch being deleted!",status:"warning"})},isOpen:N,title:"Delete Payslip Batch",children:Object(j.jsx)("h2",{children:"Are you sure you want to delete ?"})})]})})}var yf=Object(E.a)((function(e){return{root:{padding:0}}})),vf=(Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(9),paddingBottom:e.spacing(4),border:"1px solid"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%"},fixedHeight:{height:"80vh"}}})),Object(E.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},title:{flex:"1 1 100%",textAlign:"center"}}})),Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(9),paddingBottom:e.spacing(4),border:"1px solid"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%"},fixedHeight:{height:240}}}))),_f=function(){var e=vf(),t=Object(as.a)(e.paper,e.fixedHeight);return Object(j.jsxs)("div",{children:[Object(j.jsx)(y.a,{}),Object(j.jsx)("div",{className:e.appBarSpacer,children:Object(j.jsx)(S.a,{maxWidth:"lg",className:e.container,children:Object(j.jsx)(vo.a,{container:!0,spacing:3,children:Object(j.jsx)(vo.a,{item:!0,xs:12,children:Object(j.jsx)(_o.a,{className:t,children:Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"Payroll Page"})})})})})})})]})},wf=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(9),paddingBottom:e.spacing(4),border:"1px solid",width:"100%"},paper:{padding:e.spacing(1),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid ",width:"100%"},fixedHeight:{height:"80vh"}}})),Sf=function(){var e=wf(),t=Object(as.a)(e.paper,e.fixedHeight);return Object(j.jsxs)("div",{children:[Object(j.jsx)(y.a,{}),Object(j.jsx)("div",{className:e.appBarSpacer,children:Object(j.jsx)(S.a,{maxWidth:"xl",className:e.container,children:Object(j.jsx)(vo.a,{container:!0,spacing:3,children:Object(j.jsx)(vo.a,{item:!0,xs:12,children:Object(j.jsx)(_o.a,{className:t,children:Object(j.jsx)("div",{children:Object(j.jsx)(gf,{})})})})})})})]})},Ef=a(604),Cf=a.n(Ef);function Df(){return(Df=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("".concat(ee,"?em=").concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nf(e){var t=Object(n.useState)("all"),a=Object(w.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(""),s=Object(w.a)(c,2),o=s[0],l=s[1],d=Object(n.useCallback)((function(e){return function(e,t){return e.filter((function(e){return e.empid===t})).map((function(e){return Object(D.a)({},e)}))}(e,r)}),[r]),u=Object(J.a)(ge.payslips,(function(){return function(e){return Df.apply(this,arguments)}(o)}),{select:"all"!==r?d:void 0}).data;return{payslips:void 0===u?[]:u,filter:r,setFilter:i,setPayslipId:l}}var If=function(e){var t=e.data,a=e.emp,n="Payslip for the month of "+["January","February","March","April","May","June","July","August","September","October","November","December"][parseInt(t.rowData.payrun.slice(-2)-1)]+" "+t.rowData.payrun.slice(0,4),r=a[0],i=r.empno,c=r.ic_no,s=r.designation,o=r.bank_acno,l=(r.bank_name,r.tap_acno),d=r.scp_acno,u=(r.payrun,t.rowData),p=u.name,j=(u.total_allowances_bnd,u.total_deductions_bnd,t.rowData.wages_bnd+t.rowData.site_allows_bnd+t.rowData.expenses_claims_bnd+t.rowData.total_allowances_bnd),b=t.rowData.tap_amount_bnd+t.rowData.scp_amount_bnd+t.rowData.total_deductions_bnd,h=["Wages",0===t.rowData.site_allows_bnd?"":t.rowData.allows_type1,0===t.rowData.expenses_claims_bnd?"":t.rowData.allows_type2,t.rowData.allows_type3,t.rowData.allows_type4,t.rowData.allows_type5,t.rowData.allows_type6,t.rowData.allows_type7,t.rowData.allows_type8],f=[kj(t.rowData.wages_bnd),0===t.rowData.site_allows_bnd?"":kj(t.rowData.site_allows_bnd),0===t.rowData.expenses_claims_bnd?"":kj(t.rowData.expenses_claims_bnd),kj(Math.round((t.rowData.allows_type3amt+Number.EPSILON)*t.rowData.currency_rate*100)/100),kj(Math.round((t.rowData.allows_type4amt+Number.EPSILON)*t.rowData.currency_rate*100)/100),kj(Math.round((t.rowData.allows_type5amt+Number.EPSILON)*t.rowData.currency_rate*100)/100),kj(Math.round((t.rowData.allows_type6amt+Number.EPSILON)*t.rowData.currency_rate*100)/100),kj(Math.round((t.rowData.allows_type7amt+Number.EPSILON)*t.rowData.currency_rate*100)/100),kj(Math.round((t.rowData.allows_type8amt+Number.EPSILON)*t.rowData.currency_rate*100)/100)],O=[0===t.rowData.tap_amount_bnd?"":"TAP Amount",0===t.rowData.scp_amount_bnd?"":"SCP Amount",t.rowData.deducts_type1,t.rowData.deducts_type2,t.rowData.deducts_type3,t.rowData.deducts_type4,t.rowData.deducts_type5,t.rowData.deducts_type6,t.rowData.deducts_type7,t.rowData.deducts_type8],x=[kj(parseInt(t.rowData.tap_amount_bnd,10)),kj(parseInt(t.rowData.scp_amount_bnd,10)),kj(Math.round((t.rowData.deducts_type1amt+Number.EPSILON)*t.rowData.currency_rate*100)/100),kj(Math.round((t.rowData.deducts_type2amt+Number.EPSILON)*t.rowData.currency_rate*100)/100),kj(Math.round((t.rowData.deducts_type3amt+Number.EPSILON)*t.rowData.currency_rate*100)/100),kj(Math.round((t.rowData.deducts_type4amt+Number.EPSILON)*t.rowData.currency_rate*100)/100),kj(Math.round((t.rowData.deducts_type5amt+Number.EPSILON)*t.rowData.currency_rate*100)/100),kj(Math.round((t.rowData.deducts_type6amt+Number.EPSILON)*t.rowData.currency_rate*100)/100),kj(Math.round((t.rowData.deducts_type7amt+Number.EPSILON)*t.rowData.currency_rate*100)/100),kj(Math.round((t.rowData.allows_type8amt+Number.EPSILON)*t.rowData.currency_rate*100)/100)];Pj.a.fonts={Courier:{normal:"Courier",bold:"Courier-Bold",italics:"Courier-Oblique",bolditalics:"Courier-BoldOblique"},Helvetica:{normal:"Helvetica",bold:"Helvetica-Bold",italics:"Helvetica-Oblique",bolditalics:"Helvetica-BoldOblique"},Times:{normal:"Times-Roman",bold:"Times-Bold",italics:"Times-Italic",bolditalics:"Times-BoldItalic"},Roboto:{normal:"Roboto-Regular.ttf",bold:"Roboto-Medium.ttf",italics:"Roboto-Italic.ttf",bolditalics:"Roboto-MediumItalic.ttf"},Symbol:{normal:"Symbol"},ZapfDingbats:{normal:"ZapfDingbats"}};var m=Aj.a.pdfMake.vfs;Pj.a.vfs=m;var g={pageSize:"A4",pageOrientation:"portrait",content:[{image:"logo",width:200},{text:n+"\n",style:"subheader"},{canvas:[{type:"line",x1:0,y1:5,x2:500,y2:5,lineWidth:2}]},{columns:[{width:90,text:"\n"},{width:20,text:""},{width:"200",text:""},{width:"*",text:""}]},{columns:[{width:90,text:"Emp No "},{width:20,text:":"},{width:"200",text:i},{width:"*",text:""}]},{columns:[{width:90,text:"Name "},{width:20,text:":"},{width:200,text:p},{width:"*",text:""}]},{columns:[{width:90,text:"I/C No "},{width:20,text:":"},{width:200,text:c},{width:"*",text:""}]},{columns:[{width:90,text:"Designation "},{width:20,text:":"},{width:200,text:s},{width:"*",text:""}]},{columns:[{width:90,text:"Bank A/C No "},{width:20,text:":"},{width:200,text:o},{width:"*",text:""}]},{columns:[{width:90,text:"TAP No "},{width:20,text:":"},{width:200,text:l},{width:"*",text:""}]},{columns:[{width:90,text:"SCP No "},{width:20,text:":"},{width:200,text:d},{width:"*",text:""}]},{table:{headerRows:1,widths:["97%"],body:[[""],[""]]},layout:"headerLineOnly"},{style:"tableExample",table:{widths:[150,80,150,80],body:[[{alignment:"left",text:"Earnings"},{alignment:"right",text:"Amount"},{alignment:"left",text:"Deductions"},{alignment:"right",text:"Amount"}],[{stack:[{type:"none",fontSize:12,ul:h}]},{stack:[{type:"none",fontSize:12,alignment:"right",ul:f}]},{stack:[{type:"none",fontSize:12,ul:O}]},{stack:[{type:"none",fontSize:12,alignment:"right",ul:x}]}],[{alignment:"left",text:"Total Earnings"},{alignment:"right",text:kj(j)},{alignment:"left",text:"Total Deductions"},{alignment:"right",text:Lj(b)}],[{alignment:"left",text:""},{alignment:"right",text:""},{alignment:"left",text:"Nett Pay"},{alignment:"right",text:kj(t.rowData.nett_pay)}]]}},{text:"This is computer generated report so no signature is required\n",style:"footer"}],styles:{header:{fontSize:18,bold:!0,margin:[0,0,0,10]},subheader:{fontSize:16,bold:!0,margin:[0,10,0,5]},text:{fontSize:12,bold:!1,margin:[0,10,0,5]},tableExample:{margin:[0,5,0,15]},tableOpacityExample:{margin:[0,5,0,15],fillColor:"blue",fillOpacity:.3},tableHeader:{bold:!0,fontSize:13,color:"black"}},defaultStyle:{},images:{logo:"https://res.cloudinary.com/dlmzwvakr/image/upload/v1626939253/appsmith/AppSutLogo_rakamz.jpg",img1:"./AppSutLogo.jpg"}};Pj.a.createPdf(g).open()},Pf=[{title:"Name",field:"name"},{title:"Period",field:"period"},{title:"Basic Pay",field:"wages_bnd",type:"currency"},{title:"TAP Amount",field:"tap_amount_bnd",type:"currency"},{title:"SCP Amount",field:"scp_amount_bnd",type:"currency"},{title:"Site Allowances",field:"site_allows_bnd",type:"currency"},{title:"Expenses Claims",field:"expenses_claims_bnd",type:"currency"},{title:"Allowances",field:"total_allowances_bnd",type:"currency"},{title:"Deductions",field:"total_deductions_bnd",type:"currency"},{title:"Nett Pay",field:"nett_pay_bnd",type:"currency"},{title:"Status",field:"status"}];function Tf(){Object(ts.f)();var e=Af(),t=Object(h.d)(_e),a=Object(w.a)(t,2),r=a[0],i=(a[1],ve().employees),c=Object(n.useState)(),s=Object(w.a)(c,2),o=(s[0],s[1],Nf()),l=o.payslips,d=o.setFilter,u=(Object(h.g)(De),Rp());u.deletePayslip,u.loadPayslips,u.getSinglePayslip,u.setEditPayslipID,u.setIsPayslipEditingOn,u.setIsPayslipEditingOff,u.resetSinglePayslip,u.payslip_period,u.payslip_endmonthdate;console.log("payslipstable",l);var p=function(e){var t=e.data,a=e.emp;If({data:t,emp:a})},b=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.rowData.empid,n=i.filter((function(e){return e.id===a})).map((function(e){return Object(D.a)({},e)})),p({data:t,emp:n});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){d(r.loginUserId)}),[]),Object(j.jsx)("div",{className:e.root,children:Object(j.jsx)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:Pf,data:l,title:"Payslips",icons:{Add:function(e){return Object(j.jsx)(Zu.a,{})},Edit:function(e){return Object(j.jsx)(hd.a,{})},Delete:function(e){return Object(j.jsx)(tp.a,{})},Clear:function(e){return Object(j.jsx)(tp.a,{})},Check:function(e){return Object(j.jsx)(np.a,{})},Search:function(e){return Object(j.jsx)(ip.a,{})},ResetSearch:function(e){return Object(j.jsx)(tp.a,{})},Build:function(e){return Object(j.jsx)(_b.a,{})},Print:function(e){return Object(j.jsx)(Cf.a,{})}},actions:[{icon:"print",tooltip:"Print Payslip",onClick:function(e,t){b({rowData:t})}}],options:{filtering:!0,headerStyle:{backgroundColor:"orange",color:"#FFF"},showTitle:!0},components:{Toolbar:function(e){return Object(j.jsx)("div",{children:Object(j.jsx)(Qo.MTableToolbar,Object(D.a)({},e))})}}})})})}var Af=Object(E.a)((function(e){return{root:{padding:0}}})),kf=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(9),paddingBottom:e.spacing(4),border:"1px solid"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%"},fixedHeight:{height:"80vh"}}})),Lf=function(){var e=kf(),t=Object(as.a)(e.paper,e.fixedHeight);return Object(j.jsxs)("div",{children:[Object(j.jsx)(y.a,{}),Object(j.jsx)("div",{className:e.appBarSpacer,children:Object(j.jsx)(S.a,{maxWidth:"lg",className:e.container,children:Object(j.jsx)(vo.a,{container:!0,spacing:3,children:Object(j.jsx)(vo.a,{item:!0,xs:12,children:Object(j.jsx)(_o.a,{className:t,children:Object(j.jsx)("div",{children:Object(j.jsx)(Tf,{})})})})})})})]})},Rf=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(9),paddingBottom:e.spacing(4),border:"1px solid"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%"},fixedHeight:{height:"80vh"}}})),Bf=function(){var e=Rf(),t=Object(as.a)(e.paper,e.fixedHeight);return Object(j.jsxs)("div",{children:[Object(j.jsx)(y.a,{}),Object(j.jsx)("div",{className:e.appBarSpacer,children:Object(j.jsx)(S.a,{maxWidth:"lg",className:e.container,children:Object(j.jsx)(vo.a,{container:!0,spacing:3,children:Object(j.jsx)(vo.a,{item:!0,xs:12,children:Object(j.jsx)(_o.a,{className:t,children:Object(j.jsx)("div",{children:Object(j.jsx)(gf,{})})})})})})})]})},Ff=Object(E.a)((function(e){return{root:{flexGrow:1},container:{margin:0,padding:0,width:"80vw",display:"grid",gridTemplateColumns:"repeat(auto-fill,250px)",gridAutoRows:"10px",position:"absolute",left:"50%",transform:"translateX(-50%)",justifyContent:"center",backgroundColor:"primary"},fixedHeight:{height:800},paper:{padding:e.spacing(10),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%",color:"primary",bcakgroundColor:"black"},card:{backgroundColor:"black"}}})),Gf=function(){var e=Ff(),t=Object(as.a)(e.paper,e.fixedHeight);return Object(j.jsx)(_o.a,{className:t,style:{backgroundColor:"black"},children:Object(j.jsx)("div",{className:e.root,children:Object(j.jsxs)(vo.a,{container:!0,spacing:3,children:[Object(j.jsx)(vo.a,{xs:12,md:8,lg:12,children:Object(j.jsx)(Od,{title:"Profile",children:Object(j.jsx)("div",{children:Object(j.jsx)("form",{children:Object(j.jsx)(Do.a,{label:"Name",name:"name",value:"name"})})})})}),Object(j.jsx)(vo.a,{xs:6,md:8,lg:6,children:Object(j.jsx)("div",{children:Object(j.jsx)(Od,{title:"Personal Information",children:Object(j.jsx)("div",{children:Object(j.jsx)("form",{children:Object(j.jsx)(Do.a,{label:"Name",name:"name",value:"name"})})})})})}),Object(j.jsx)(vo.a,{xs:6,md:8,lg:6,children:Object(j.jsx)("div",{children:Object(j.jsx)(Od,{title:"Family",children:Object(j.jsx)("div",{children:Object(j.jsx)("form",{children:Object(j.jsx)(Do.a,{label:"Name",name:"name",value:"name"})})})})})}),Object(j.jsx)(vo.a,{xs:6,md:8,lg:6,children:Object(j.jsx)("div",{children:Object(j.jsx)(Od,{title:"Education",children:Object(j.jsx)("div",{children:Object(j.jsx)("form",{children:Object(j.jsx)(Do.a,{label:"Name",name:"name",value:"name"})})})})})}),Object(j.jsx)(vo.a,{xs:6,md:8,lg:6,children:Object(j.jsx)("div",{children:Object(j.jsx)(Od,{title:"Experiences",children:Object(j.jsx)("div",{children:Object(j.jsx)("form",{children:Object(j.jsx)(Do.a,{label:"Name",name:"name",value:"name"})})})})})}),Object(j.jsx)(vo.a,{xs:6,md:8,lg:6,children:Object(j.jsx)("div",{children:Object(j.jsx)(Od,{title:"Training",children:Object(j.jsx)("div",{children:Object(j.jsx)("form",{children:Object(j.jsx)(Do.a,{label:"Name",name:"name",value:"name"})})})})})}),Object(j.jsx)(vo.a,{xs:6,md:8,lg:6,children:Object(j.jsx)("div",{children:Object(j.jsx)(Od,{title:"Leaves",children:Object(j.jsx)("div",{children:Object(j.jsx)("form",{children:Object(j.jsx)(Do.a,{label:"Name",name:"name",value:"name"})})})})})})]})})})},Uf=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(9),paddingBottom:e.spacing(4),border:"1px solid"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%"},fixedHeight:{height:540}}})),Vf=function(){var e=Uf(),t=Object(as.a)(e.paper,e.fixedHeight);return Object(j.jsxs)("div",{children:[Object(j.jsx)(y.a,{}),Object(j.jsx)("div",{className:e.appBarSpacer,children:Object(j.jsx)(S.a,{maxWidth:"lg",className:e.container,children:Object(j.jsx)(vo.a,{container:!0,spacing:3,children:Object(j.jsx)(vo.a,{item:!0,xs:12,children:Object(j.jsx)(_o.a,{className:t,children:Object(j.jsx)("div",{children:Object(j.jsx)(Gf,{})})})})})})})]})},Wf={name:"",age:0},zf=Object(E.a)((function(e){return{button:{margin:e.spacing(1)},leftIcon:{marginRight:e.spacing(1)},rightIcon:{marginLeft:e.spacing(1)},iconSmall:{fontSize:20},root:{padding:e.spacing(3,2)},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:400}}})),Mf=function(e){var t=e.title,a=zf(),r=Object(n.useState)(Wf),i=Object(w.a)(r,2),c=i[0],s=i[1],o=function(e){var t=e.target,a=t.name,n=t.type,r=t.value,i="number"===n?parseFloat(r):r;s(Object(Zc.a)({},a,i))};return Object(j.jsx)("div",{children:Object(j.jsxs)(_o.a,{className:a.root,children:[Object(j.jsx)(cs.a,{variant:"h5",component:"h3",children:t}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={state:c};console.log(t)},children:[Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Name",id:"margin-normal",name:"name",defaultValue:c.name,className:a.textField,onChange:o})}),Object(j.jsx)("div",{children:Object(j.jsx)(Do.a,{label:"Age",id:"margin-normal",type:"number",name:"age",Value:c.age,className:a.textField,onChange:o})}),Object(j.jsx)("div",{children:Object(j.jsxs)(Eo.a,{type:"submit",variant:"contained",color:"primary",className:a.button,children:["Submit ",Object(j.jsx)(Co.a,{className:a.rightIcon,children:"send"})]})})]})]})})},Hf=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(9),paddingBottom:e.spacing(4),border:"1px solid"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%"},fixedHeight:{height:500}}})),Yf=function(){var e=Hf(),t=Object(as.a)(e.paper,e.fixedHeight);return Object(j.jsxs)("div",{children:[Object(j.jsx)(y.a,{}),Object(j.jsx)("div",{className:e.appBarSpacer,children:Object(j.jsx)(S.a,{maxWidth:"lg",className:e.container,children:Object(j.jsx)(vo.a,{container:!0,spacing:3,children:Object(j.jsx)(vo.a,{item:!0,xs:12,children:Object(j.jsx)(_o.a,{className:t,children:Object(j.jsx)("div",{children:Object(j.jsx)(Mf,{title:"Allowance Table"})})})})})})})]})},Jf=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(9),paddingBottom:e.spacing(4),border:"1px solid"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%"},fixedHeight:{height:240}}})),Xf=function(){var e=Jf(),t=Object(as.a)(e.paper,e.fixedHeight);return Object(j.jsxs)("div",{children:[Object(j.jsx)(y.a,{}),Object(j.jsx)("div",{className:e.appBarSpacer,children:Object(j.jsx)(S.a,{maxWidth:"lg",className:e.container,children:Object(j.jsx)(vo.a,{container:!0,spacing:3,children:Object(j.jsx)(vo.a,{item:!0,xs:12,children:Object(j.jsx)(_o.a,{className:t,children:Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"Designation Page"})})})})})})})]})};function qf(){return Qf.apply(this,arguments)}function Qf(){return(Qf=Object(P.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("".concat(ie));case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kf(){return(Kf=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("".concat(ae,"?fi=").concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $f(e){var t=Object(n.useState)("all"),a=Object(w.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(""),s=Object(w.a)(c,2),o=s[0],l=s[1],d=Object(n.useCallback)((function(e){return function(e,t){return e.filter((function(e){return e.pay_type===t})).map((function(e){return Object(D.a)({},e)}))}(e,r)}),[r]),u=Object(J.a)([ge.payitems,{payitemId:o}],(function(){return function(e){return Kf.apply(this,arguments)}(o)}),{select:"all"!==r?d:void 0}).data;return{payitems:void 0===u?[]:u,payitemsfilter:r,setPayItemsFilter:i,setPayItemId:l}}function Zf(){return(Zf=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),e.next=3,fetch(ae,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eO(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return Zf.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("payitems"),a({title:"Payitem record being updated!",status:"success"})}}).mutate}function tO(){return(tO=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ae,{method:"DELETE",body:JSON.stringify({id:t})});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aO(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return tO.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("payitems"),a({title:"PayItem record being deleted!",status:"warning"})}}).mutate}function nO(){return(nO=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ae,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rO(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return nO.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("payitems"),a({title:"PayItem record being added!",status:"success"})}}).mutate}var iO=[{title:"Name",field:"name"}];function cO(){var e=sO(),t=$f(),a=t.payitems,r=t.setPayItemId,i=eO(),c=aO(),s=rO(),o=function(){var e=Object(P.a)(I.a.mark((function e(t){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(D.a)(Object(D.a)({},t),{},{pay_type:"Allowances"}),s(a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){r("Allowances")}),[]),Object(j.jsx)("div",{className:e.root,children:Object(j.jsx)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:iO,data:a,title:"Allowances",editable:{onRowAdd:function(e){return new Promise((function(t,a){setTimeout((function(){o(e),t()}),1e3)}))},onRowUpdate:function(e,t){return new Promise((function(t,a){setTimeout((function(){!function(e){var t=e.id,a=(e.rec_id,Object(Ge.a)(e,["id","rec_id"]));i(Object(D.a)({id:t},a))}(e),t()}),1e3)}))},onRowDelete:function(e){return new Promise((function(t,a){setTimeout((function(){!function(e){var t=e.id;c(t)}(e),t()}),1e3)}))}},options:{filtering:!0,headerStyle:{backgroundColor:"#90CDF4",color:"primary"},showTitle:!0}})})})}var sO=Object(E.a)((function(e){return{root:{padding:0}}})),oO=[{title:"Name",field:"name"}];function lO(){var e=dO(),t=$f(),a=t.payitems,r=t.setPayItemId,i=eO(),c=aO(),s=rO();return Object(n.useEffect)((function(){r("Deductions")}),[]),Object(j.jsx)("div",{className:e.root,children:Object(j.jsx)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:oO,data:a,title:"Deductions",editable:{onRowAdd:function(e){return new Promise((function(t,a){setTimeout((function(){!function(e){var t=Object(D.a)(Object(D.a)({},e),{},{pay_type:"Deductions"});s(t)}(e),t()}),1e3)}))},onRowUpdate:function(e,t){return new Promise((function(t,a){setTimeout((function(){!function(e){var t=e.id,a=(e.rec_id,Object(Ge.a)(e,["id","rec_id"]));i(Object(D.a)({id:t},a))}(e),t()}),1e3)}))},onRowDelete:function(e){return new Promise((function(t,a){setTimeout((function(){!function(e){var t=e.id;c(t)}(e),t()}),1e3)}))}},options:{filtering:!0,headerStyle:{backgroundColor:"#90CDF4",color:"primary"},showTitle:!0}})})})}var dO=Object(E.a)((function(e){return{root:{padding:0}}}));function uO(){return(uO=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),e.next=3,fetch(ce,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pO(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return uO.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("departments"),a({title:"Department item being updated!",status:"success"})}}).mutate}function jO(){return(jO=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ce,{method:"DELETE",body:JSON.stringify({id:t})});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bO(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return jO.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("departments"),a({title:"Department item being deleted!",status:"warning"})}}).mutate}function hO(){return(hO=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(ce,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fO(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return hO.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("departments"),a({title:"Department item being added!",status:"success"})}}).mutate}var OO=[{title:"Name",field:"name"}];function xO(){var e=mO(),t=zo().departments,a=pO(),n=bO(),r=fO();return Object(j.jsx)("div",{className:e.root,children:Object(j.jsx)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:OO,data:t,title:"Departments",editable:{onRowAdd:function(e){return new Promise((function(t,a){setTimeout((function(){r(e),t()}),1e3)}))},onRowUpdate:function(e,t){return new Promise((function(t,n){setTimeout((function(){!function(e){var t=e.id,n=(e.rec_id,Object(Ge.a)(e,["id","rec_id"]));a(Object(D.a)({id:t},n))}(e),t()}),1e3)}))},onRowDelete:function(e){return new Promise((function(t,a){setTimeout((function(){!function(e){var t=e.id;n(t)}(e),t()}),1e3)}))}},options:{filtering:!0,headerStyle:{backgroundColor:"#90CDF4",color:"primary"},showTitle:!0}})})})}var mO=Object(E.a)((function(e){return{root:{padding:0}}}));function gO(){return(gO=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),e.next=3,fetch(le,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yO(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return gO.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("designations"),a({title:"Designation item being updated!",status:"success"})}}).mutate}function vO(){return(vO=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(le,{method:"DELETE",body:JSON.stringify({id:t})});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _O(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return vO.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("designations"),a({title:"Designation item being deleted!",status:"warning"})}}).mutate}function wO(){return(wO=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(le,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SO(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return wO.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("designations"),a({title:"Designation item being added!",status:"success"})}}).mutate}var EO=[{title:"Name",field:"name"}];function CO(){var e=DO(),t=Yo().designations,a=yO(),n=_O(),r=SO();return Object(j.jsx)("div",{className:e.root,children:Object(j.jsx)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:EO,data:t,title:"Designations",editable:{onRowAdd:function(e){return new Promise((function(t,a){setTimeout((function(){r(e),t()}),1e3)}))},onRowUpdate:function(e,t){return new Promise((function(t,n){setTimeout((function(){!function(e){var t=e.id,n=(e.rec_id,Object(Ge.a)(e,["id","rec_id"]));a(Object(D.a)({id:t},n))}(e),t()}),1e3)}))},onRowDelete:function(e){return new Promise((function(t,a){setTimeout((function(){!function(e){var t=e.id;n(t)}(e),t()}),1e3)}))}},options:{filtering:!0,headerStyle:{backgroundColor:"#90CDF4",color:"primary"},showTitle:!0}})})})}var DO=Object(E.a)((function(e){return{root:{padding:0}}}));function NO(){return(NO=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(Ge.a)(t,["id"]),e.next=3,fetch(se,{method:"PUT",body:JSON.stringify(Object(D.a)({id:a},n))});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function IO(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return NO.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("institutes"),a({title:"Institute item being updated!",status:"success"})}}).mutate}function PO(){return(PO=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(se,{method:"DELETE",body:JSON.stringify({id:t})});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TO(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return PO.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("institutes"),a({title:"Institute item being deleted!",status:"warning"})}}).mutate}function AO(){return(AO=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(se,{method:"POST",body:JSON.stringify(Object(D.a)({},t))});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kO(e){var t=Object(o.b)(),a=Y();return Object(Ro.a)((function(e){return function(e){return AO.apply(this,arguments)}(e)}),{onSuccess:function(){t.invalidateQueries("institutes"),a({title:"Institute item being added!",status:"success"})}}).mutate}var LO=[{title:"Name",field:"name"}];function RO(){var e=BO(),t=Hl().institutes,a=IO(),n=TO(),r=kO();return Object(j.jsx)("div",{className:e.root,children:Object(j.jsx)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:LO,data:t,title:"Institutes",editable:{onRowAdd:function(e){return new Promise((function(t,a){setTimeout((function(){r(e),t()}),1e3)}))},onRowUpdate:function(e,t){return new Promise((function(t,n){setTimeout((function(){!function(e){var t=e.id,n=(e.rec_id,Object(Ge.a)(e,["id","rec_id"]));a(Object(D.a)({id:t},n))}(e),t()}),1e3)}))},onRowDelete:function(e){return new Promise((function(t,a){setTimeout((function(){!function(e){var t=e.id;n(t)}(e),t()}),1e3)}))}},options:{filtering:!0,headerStyle:{backgroundColor:"#90CDF4",color:"primary"},showTitle:!0}})})})}var BO=Object(E.a)((function(e){return{root:{padding:0}}})),FO=Object(E.a)((function(e){return{button:{margin:e.spacing(1)},leftIcon:{marginRight:e.spacing(1)},rightIcon:{marginLeft:e.spacing(1)},iconSmall:{fontSize:20},root:{padding:e.spacing(3,2)},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:400},grid:{padding:e.spacing(3,2)},box:{height:100,display:"flex",border:"1px solid black",padding:8}}})),GO=function(){Object(ts.f)();var e=FO();zo(),function(){var e=Object(J.a)(ge.deductions,qf).data}(),Ej(),qo();return Object(j.jsx)("div",{children:Object(j.jsxs)(vo.a,{container:!0,alignItems:"center",className:e.grid,children:[Object(j.jsx)(vo.a,{xs:12,children:Object(j.jsx)("h2",{children:"Tables Maintenance"})}),Object(j.jsx)(vo.a,{xs:12,children:Object(j.jsx)(cO,{})}),Object(j.jsx)(Us.a,{}),Object(j.jsx)(vo.a,{xs:12,children:Object(j.jsx)(lO,{})}),Object(j.jsx)(vo.a,{xs:12,children:Object(j.jsx)(xO,{})}),Object(j.jsx)(vo.a,{xs:12,children:Object(j.jsx)(CO,{})}),Object(j.jsx)(vo.a,{xs:12,children:Object(j.jsx)(RO,{})}),Object(j.jsx)(vo.a,{xs:12,children:Object(j.jsx)(cj,{})})]})})},UO=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(9),paddingBottom:e.spacing(4),border:"1px solid"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%"},fixedHeight:{height:"80vh"}}})),VO=function(){var e=UO(),t=Object(as.a)(e.paper,e.fixedHeight);return Object(j.jsxs)("div",{children:[Object(j.jsx)(y.a,{}),Object(j.jsx)("div",{className:e.appBarSpacer,children:Object(j.jsx)(S.a,{maxWidth:"lg",className:e.container,children:Object(j.jsx)(vo.a,{container:!0,spacing:3,children:Object(j.jsx)(vo.a,{item:!0,xs:12,children:Object(j.jsx)(_o.a,{className:t,children:Object(j.jsx)("div",{children:Object(j.jsx)(GO,{})})})})})})})]})},WO=Object(E.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},title:{flex:"1 1 100%",textAlign:"center"}}})),zO=function(){var e=Object(ts.f)(),t=WO(),a=Pu().setDailyAllowancePeriod,n=Object(h.g)(Te);return Object(j.jsxs)("div",{className:t.root,children:[Object(j.jsx)(ns.a,{children:Object(j.jsx)(cs.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:Object(j.jsx)("h2",{children:"Payroll Period"})})}),Object(j.jsx)(vo.a,{container:!0,spacing:3,children:Oe.map((function(r){return Object(j.jsx)(vo.a,{item:!0,xs:3,inline:"true",children:Object(j.jsx)(_o.a,{className:t.paper,children:Object(j.jsx)(Eo.a,{variant:"contained",color:"primary",fullWidth:!0,size:"large",onClick:function(){return t=r.name,a(t),n(t),void e.push("/batchdailyallowances");var t},children:r.name})})},r.name)}))})]})},MO=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(9),paddingBottom:e.spacing(4),border:"1px solid"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%"},fixedHeight:{height:"80vh"}}})),HO=function(){var e=MO(),t=Object(as.a)(e.paper,e.fixedHeight);return Object(j.jsxs)("div",{children:[Object(j.jsx)(y.a,{}),Object(j.jsx)("div",{className:e.appBarSpacer,children:Object(j.jsx)(S.a,{maxWidth:"lg",className:e.container,children:Object(j.jsx)(vo.a,{container:!0,spacing:3,children:Object(j.jsx)(vo.a,{item:!0,xs:12,children:Object(j.jsx)(_o.a,{className:t,children:Object(j.jsx)("div",{children:Object(j.jsx)(zO,{})})})})})})})]})},YO=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(9),paddingBottom:e.spacing(4),border:"1px solid"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%"},fixedHeight:{height:"80vh"}}})),JO=function(){var e=YO(),t=Object(as.a)(e.paper,e.fixedHeight);return Object(j.jsxs)("div",{children:[Object(j.jsx)(y.a,{}),Object(j.jsx)("div",{className:e.appBarSpacer,children:Object(j.jsx)(S.a,{maxWidth:"lg",className:e.container,children:Object(j.jsx)(vo.a,{container:!0,spacing:3,children:Object(j.jsx)(vo.a,{item:!0,xs:12,children:Object(j.jsx)(_o.a,{className:t,children:Object(j.jsx)("div",{children:Object(j.jsx)(Dp,{})})})})})})})]})},XO=r.a.createContext(),qO=function(e){var t=e.children,a=Object(n.useState)(null),r=Object(w.a)(a,2),i=r[0],c=r[1];return Object(n.useEffect)((function(){qc.auth().onAuthStateChanged(c)}),[]),Object(j.jsx)(XO.Provider,{value:{currentUser:i},children:t})},QO=function(){return Object(n.useContext)(XO)},KO=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(9),paddingBottom:e.spacing(4),border:"1px solid"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%"},fixedHeight:{height:240}}})),$O=function(){var e=KO(),t=Object(as.a)(e.paper,e.fixedHeight);return Object(j.jsxs)("div",{children:[Object(j.jsx)(y.a,{}),Object(j.jsx)("div",{className:e.appBarSpacer,children:Object(j.jsx)(S.a,{maxWidth:"lg",className:e.container,children:Object(j.jsx)(vo.a,{container:!0,spacing:3,children:Object(j.jsx)(vo.a,{item:!0,xs:12,children:Object(j.jsx)(_o.a,{className:t,children:Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"Client Page"})})})})})})})]})},ZO=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(9),paddingBottom:e.spacing(4),border:"1px solid"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%"},fixedHeight:{height:"85vh"}}})),ex=function(){var e=ZO(),t=Object(as.a)(e.paper,e.fixedHeight);return Object(j.jsxs)("div",{children:[Object(j.jsx)(y.a,{}),Object(j.jsx)("div",{className:e.appBarSpacer,children:Object(j.jsx)(S.a,{maxWidth:"lg",className:e.container,children:Object(j.jsx)(vo.a,{container:!0,spacing:3,children:Object(j.jsx)(vo.a,{item:!0,xs:12,children:Object(j.jsx)(_o.a,{className:t,children:Object(j.jsxs)("div",{className:"main-wrapper",children:[Object(j.jsxs)(F.a,{children:[Object(j.jsx)("title",{children:"Error 404 - HRMS Admin Template"}),Object(j.jsx)("meta",{name:"description",content:"Login page"})]}),Object(j.jsxs)("div",{className:"error-box",children:[Object(j.jsx)("h1",{children:"404"}),Object(j.jsxs)("h3",{children:[Object(j.jsx)("i",{className:"fa fa-warning"})," Oops! Internet connection disconnected!"]}),Object(j.jsx)("p",{children:"The page you requested was not found."}),Object(j.jsx)("a",{onclick:function(){return localStorage.setItem("firstload","true")},href:"/",className:"btn btn-custom",children:"Back to Home"})]})]})})})})})})]})};function tx(e){var t=e.open,a=e.handleDrawerOpen,n=e.handleDrawerClose,i=ax(),c=r.a.useState(!0),s=Object(w.a)(c,2),o=s[0],l=s[1];return o?Object(j.jsxs)("div",{className:i.root,children:[Object(j.jsx)(y.a,{}),Object(j.jsxs)(es.a,{children:[Object(j.jsx)(go,{handleDrawerOpen:a,handleDrawerClose:n,open:t}),Object(j.jsx)("main",{className:i.content,children:Object(j.jsxs)(ts.c,{children:[Object(j.jsx)(ts.a,{exact:!0,path:"/",children:Object(j.jsx)(Eh,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/allemployees",children:Object(j.jsx)(kh,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/departments",children:Object(j.jsx)(Vf,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/designation",children:Object(j.jsx)(Xf,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/tables",children:Object(j.jsx)(VO,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/allowances",children:Object(j.jsx)(Yf,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/clients",children:Object(j.jsx)($O,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/example",children:Object(j.jsx)(Bs,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/singleemployee",children:Object(j.jsx)(cd,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/singleleave",children:Object(j.jsx)(ou,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/singleexpense",children:Object(j.jsx)(Eu,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/error",children:Object(j.jsx)(ex,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/leave",children:Object(j.jsx)(Wh,{})}),Object(j.jsx)(ts.a,{path:"*",children:Object(j.jsx)(ex,{})})]})})]})]}):Object(j.jsx)(rx,{setLogin:l})}var ax=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}})),nx=Object(E.a)((function(e){return{app:{height:"100vh",width:"500",display:"flex",alignItems:"center",justifyContent:"center"},root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:e.spacing(2),"& .MuiTextField-root":{margin:e.spacing(1),width:"300px"},"& .MuiButtonBase-root":{margin:e.spacing(2)}},card2:{position:"relative",width:"400px",color:"primary",boxShadow:"rgba(255, 0, 0, 0.117647) 0px 1px 6px, rgba(255, 0, 0, 0.117647) 0px 1px 4px"},cardHeader:{display:"flex",paddingBottom:"10px",alignItems:"center",justifyContent:"center"},typography:{flexGrow:1,align:"center"},media2:{margin:"-70px auto 0",width:"80%",height:300,borderRadius:"4px",boxShadow:"0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23)",position:"relative",zIndex:1e3,paddingTop:"56.25%"},card:{width:650,margin:"auto",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},media:{height:"800",width:"100%",objectFit:"cover"},divider:{background:e.palette.divider,padding:4},img:{maxWidth:"100%",height:"auto"}}})),rx=function(){var e=nx(),t=Object(n.useState)(!0),a=Object(w.a)(t,2),r=(a[0],a[1],Object(n.useState)(!1)),i=Object(w.a)(r,2),c=(i[0],i[1],Object(h.d)(_e)),s=Object(w.a)(c,2);s[0],s[1];return Object(j.jsx)(S.a,{className:e.root,children:Object(j.jsx)($c,{})})},ix=Object(E.a)((function(e){return{root:{flexGrow:1},container:{margin:0,padding:0,width:"80vw",display:"grid",gridTemplateColumns:"repeat(auto-fill,250px)",gridAutoRows:"10px",position:"absolute",left:"50%",transform:"translateX(-50%)",justifyContent:"center",backgroundColor:"primary"},fixedHeight:{height:800},paper:{padding:e.spacing(10),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%",color:"primary",bcakgroundColor:"black"},card:{backgroundColor:"black"},card_body:{padding:"0"},section:{width:"70vw",margin:"5rem auto",maxWidth:"var(--max-width)"},underline:{width:"5rem",height:"0.25rem",marginBottom:"1.25rem",background:"var(--clr-primary-5)",marginLeft:"auto",marginRight:"auto"},title:{marginbottom:"4rem",textAlign:"center"},jobscenter:{width:"80vw",margin:"0 auto",maxWidth:"var(--max-width)",flexDirection:"row"},btncontainer:{display:"flex",flexDirection:"row",justifyContent:"center",marginBottom:"4rem",flexWrap:"wrap"},jobbtn:{background:"transparent",borderColor:"transparent",textTransform:"capitalize",fontSize:"1.25rem",letterSpacing:"var(--spacing)",margin:"0 0.5rem",transition:"var(--transition)",cursor:"pointer",padding:"0.25rem 0",lineHeight:"1",outlineColor:"var(--clr-primary-10)","&:hover":{color:"var(--clr-primary-5)",boxShadow:"0 2px var(--clr-primary-5)"}},activebtn:{color:"var(--clr-primary-5)",boxShadow:"0 2px var(--clr-primary-5)"},jobinfo:{fontWeight:"400"},dash_widget_icon:{backgroundColor:"white",borderRadius:"100%",color:"#ff9b44",display:"inline-block",float:"left",fontSize:"30px",height:"60px",lineHeight:"60px",marginRight:"10px",textAlign:"center",width:"60px"},dash_widget_info:{textAlign:"right"}}})),cx=function(){var e=ix(),t=Object(as.a)(e.paper,e.fixedHeight),a=Object(n.useState)([]),r=Object(w.a)(a,2),i=(r[0],r[1],Object(n.useState)(!0)),c=Object(w.a)(i,2),s=(c[0],c[1],Object(n.useState)([])),o=Object(w.a)(s,2),l=(o[0],o[1],Object(n.useState)(0)),d=Object(w.a)(l,2);d[0],d[1];return Object(j.jsxs)(_o.a,{className:t,style:{backgroundColor:"yellow"},children:[Object(j.jsx)("section",{className:e.section}),Object(j.jsx)("div",{className:"col-md-6 col-sm-6 col-lg-6 col-xl-3",children:Object(j.jsx)("div",{className:"card_dash_widget",children:Object(j.jsxs)("div",{className:"card_body",children:[Object(j.jsx)("span",{className:"dash_widget_icon",children:Object(j.jsx)("i",{className:"fa fa-folder-open-o"})}),Object(j.jsxs)("div",{className:"dash_widget_info",children:[Object(j.jsx)("h3",{children:"44"}),Object(j.jsx)("span",{children:"Projects"})]})]})})})]})},sx=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(9),paddingBottom:e.spacing(4),border:"1px solid"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%"},fixedHeight:{height:800}}})),ox=(Object(E.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(yo.i)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),function(e){e.title;var t=sx(),a=Object(as.a)(t.paper,t.fixedHeight),n=Jc(),r=n.isEditing;n.setEditEmployeeID,n.setIsEditingOn;return r?Object(j.jsxs)("div",{children:[Object(j.jsx)(y.a,{}),Object(j.jsx)("div",{className:t.appBarSpacer,children:Object(j.jsx)(S.a,{maxWidth:"lg",className:t.container,children:Object(j.jsx)(vo.a,{container:!0,spacing:3,children:Object(j.jsx)(vo.a,{item:!0,xs:12,children:Object(j.jsxs)(_o.a,{className:a,children:[Object(j.jsx)(es.b,{to:"/allemployees",children:Object(j.jsx)("div",{children:Object(j.jsx)(So.a,{fontSize:"large",color:"primary"})})}),Object(j.jsx)("div",{children:Object(j.jsx)(ld,{})})]})})})})})]}):Object(j.jsxs)("div",{children:[Object(j.jsx)(y.a,{}),Object(j.jsx)("div",{className:t.appBarSpacer,children:Object(j.jsx)(S.a,{maxWidth:"lg",className:t.container,children:Object(j.jsx)(vo.a,{container:!0,spacing:3,children:Object(j.jsx)(vo.a,{item:!0,xs:12,children:Object(j.jsx)(_o.a,{className:a,children:Object(j.jsx)("div",{children:Object(j.jsx)(ld,{})})})})})})})]})}),lx=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(9),paddingBottom:e.spacing(4),border:"1px solid"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",border:"1px solid",width:"100%"},fixedHeight:{height:800}}})),dx=(Object(E.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(yo.i)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),function(e){e.title;var t=lx(),a=Object(as.a)(t.paper,t.fixedHeight);return Object(j.jsxs)("div",{children:[Object(j.jsx)(y.a,{}),Object(j.jsx)("div",{className:t.appBarSpacer,children:Object(j.jsx)(S.a,{maxWidth:"lg",className:t.container,children:Object(j.jsx)(vo.a,{container:!0,spacing:3,children:Object(j.jsx)(vo.a,{item:!0,xs:12,children:Object(j.jsx)(_o.a,{className:a,children:Object(j.jsx)("div",{children:Object(j.jsx)(wp,{})})})})})})})]})});function ux(e){var t=e.open,a=e.handleDrawerOpen,n=e.handleDrawerClose,r=px();return Object(j.jsxs)("div",{className:r.root,children:[Object(j.jsx)(y.a,{}),Object(j.jsxs)(es.a,{children:[Object(j.jsx)(go,{handleDrawerOpen:a,handleDrawerClose:n,open:t}),Object(j.jsx)("main",{className:r.content,children:Object(j.jsxs)(ts.c,{children:[Object(j.jsx)(ts.a,{exact:!0,path:"/",children:Object(j.jsx)(Eh,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/payroll",children:Object(j.jsx)(_f,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/payslips",children:Object(j.jsx)(Lf,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/singlepayslip",children:Object(j.jsx)(Xp,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/batchpayslips",children:Object(j.jsx)(Bf,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/leave",children:Object(j.jsx)(qh,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/trainings",children:Object(j.jsx)(lf,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/dailyallowances",children:Object(j.jsx)(JO,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/singledailyallowsdetlstable",children:Object(j.jsx)(dx,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/expenses",children:Object(j.jsx)(sf,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/example",children:Object(j.jsx)(cx,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/singleemployee",children:Object(j.jsx)(ox,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/singleleave",children:Object(j.jsx)(ou,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/singleexpense",children:Object(j.jsx)(Eu,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/singledailyallowance",children:Object(j.jsx)(Ru,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/batchdailyallowances",children:Object(j.jsx)(Pp,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/error",children:Object(j.jsx)(ex,{})}),Object(j.jsx)(ts.a,{path:"*",children:Object(j.jsx)(ex,{})})]})})]})]})}var px=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function jx(e){var t=e.open,a=e.handleDrawerOpen,n=e.handleDrawerClose,i=bx(),c=r.a.useState(!0),s=Object(w.a)(c,2),o=s[0],l=s[1];return o?Object(j.jsxs)("div",{className:i.root,children:[Object(j.jsx)(y.a,{}),Object(j.jsxs)(es.a,{children:[Object(j.jsx)(go,{handleDrawerOpen:a,handleDrawerClose:n,open:t}),Object(j.jsx)("main",{className:i.content,children:Object(j.jsxs)(ts.c,{children:[Object(j.jsx)(ts.a,{exact:!0,path:"/",children:Object(j.jsx)(Eh,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/allemployees",children:Object(j.jsx)(kh,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/payroll",children:Object(j.jsx)(_f,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/payslip",children:Object(j.jsx)(Sf,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/singlepayslip",children:Object(j.jsx)(Xp,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/batchpayslips",children:Object(j.jsx)(Bf,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/leave",children:Object(j.jsx)(Wh,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/payrun",children:Object(j.jsx)(pj,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/payrunbatch",children:Object(j.jsx)(Kj,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/dailyallowances",children:Object(j.jsx)(HO,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/singledailyallowsdetlstable",children:Object(j.jsx)(Ju,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/expenses",children:Object(j.jsx)(ef,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/departments",children:Object(j.jsx)(Vf,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/designation",children:Object(j.jsx)(Xf,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/tables",children:Object(j.jsx)(VO,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/allowances",children:Object(j.jsx)(Yf,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/clients",children:Object(j.jsx)($O,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/example",children:Object(j.jsx)(Bs,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/singleemployee",children:Object(j.jsx)(cd,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/singleleave",children:Object(j.jsx)(ou,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/singleexpense",children:Object(j.jsx)(Eu,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/singledailyallowance",children:Object(j.jsx)(Ru,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/batchdailyallowances",children:Object(j.jsx)(Pp,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/error",children:Object(j.jsx)(ex,{})}),Object(j.jsx)(ts.a,{path:"*",children:Object(j.jsx)(ex,{})})]})})]})]}):Object(j.jsx)(rx,{setLogin:l})}var bx=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}})),hx=a(428),fx="Pending",Ox=[{title:"Name",field:"name",editable:"never"},{title:"From",field:"from_date",type:"date",dateSetting:{locale:"en-GB"},editable:"never"},{title:"To",field:"to_date",type:"date",dateSetting:{locale:"en-GB"},editable:"never"},{title:"Days",field:"no_of_days",editable:"never"},{title:"Status",field:"status",editComponent:function(e){return Object(j.jsxs)(Do.a,{onChange:function(t){return e.onChange(t.target.value)},style:{width:100},value:e.value,select:!0,children:[Object(j.jsx)(No.a,{value:"Pending",children:"Pending"}),Object(j.jsx)(No.a,{value:"Approve",children:"Approve"}),Object(j.jsx)(No.a,{value:"Reject",children:"Reject"}),Object(j.jsx)(No.a,{value:"Cancel",children:"Cancel"})]})}}];function xx(){var e=mx(),t=Object(n.useState)(!1),a=Object(w.a)(t,2),r=(a[0],a[1],Object(n.useState)(!1)),i=Object(w.a)(r,2),c=(i[0],i[1],Jc().loadEmployees,Gd()),s=c.leaves,o=c.leaves_error,l=(c.editLeaveID,c.leaves_loading),d=(c.deleteLeave,c.loadPendingLeaves);c.getSingleLeave,c.setEditLeaveID,c.setIsLeaveEditingOn,c.setIsLeaveEditingOff,c.resetSingleLeave;Object(n.useEffect)((function(){d(fx)}),[]);return l?Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"Loading...Leaves"})}):o?Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"Internet connection problem!"})}):Object(j.jsx)("div",{className:e.root,children:Object(j.jsx)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:Ox,data:s,title:"Leave Application",options:{filtering:!1,search:!1,toolbar:!1,headerStyle:{backgroundColor:"#90CDF4",color:"primary"},showTitle:!1}})})})}var mx=Object(E.a)((function(e){return{root:{padding:0}}})),gx=[{title:"Name",field:"name"},{title:"Date",field:"date",type:"date",dateSetting:{locale:"en-GB"}},{title:"Description",field:"description"},{title:"Amount",field:"amount",type:"currency"},{title:"Status",field:"status"}];function yx(){var e=vx(),t=Object(n.useState)(!1),a=Object(w.a)(t,2),r=(a[0],a[1],Object(n.useState)(!1)),i=Object(w.a)(r,2),c=(i[0],i[1],Jc().loadEmployees,fu().expenses);return Object(j.jsx)("div",{className:e.root,children:Object(j.jsx)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:gx,data:c,title:"Leave Application",options:{filtering:!1,search:!1,toolbar:!1,headerStyle:{backgroundColor:"#90CDF4",color:"primary"},showTitle:!1}})})})}var vx=Object(E.a)((function(e){return{root:{padding:0}}})),_x="Pending",wx=[{title:"Name",field:"name",editable:"never"},{title:"From Date",field:"from_date",type:"date",dateSetting:{locale:"en-GB"},editable:"never"},{title:"To Date",field:"to_date",type:"date",dateSetting:{locale:"en-GB"},editable:"never"},{title:"Description",field:"description",editable:"never"},{title:"Amount",field:"amount",type:"currency",editable:"never"},{title:"Status",field:"status",editComponent:function(e){return Object(j.jsxs)(Do.a,{onChange:function(t){return e.onChange(t.target.value)},style:{width:100},value:e.value,select:!0,children:[Object(j.jsx)(No.a,{value:"Pending",children:"Pending"}),Object(j.jsx)(No.a,{value:"Approve",children:"Approve"}),Object(j.jsx)(No.a,{value:"Reject",children:"Reject"}),Object(j.jsx)(No.a,{value:"Cancel",children:"Cancel"})]})}}];function Sx(e){var t=e.expensesdata,a=(e.setExpensesdata,e.handleDialogClose,Ex()),r=Y(),i=Object(h.d)(_e),c=Object(w.a)(i,2),s=(c[0],c[1],Object(n.useState)(!1)),o=Object(w.a)(s,2),l=(o[0],o[1],Object(n.useState)(!1)),d=Object(w.a)(l,2),u=d[0],p=d[1],b=Object(n.useState)(!1),f=Object(w.a)(b,2),O=f[0],x=f[1],m=ve().employees,g=ju(),y=g.editExpenseID,v=g.updateExpense,_=g.update_expense_error,S=(g.expenses_loading,g.deleteExpense),E=g.loadPendingExpenses,C=function(){p(!1),E(_x)},N=function(e,t){var a=e.date,n=e.empid,i={to_name:e.name,to_email:m.filter((function(e){return e.id===n})).map((function(e){return Object(D.a)({},e)}))[0].email,message:"Your expenses claim application dated on ".concat(a," has been ").concat(t,"!")};ms.a("service_ffxn6vb","template_1y8odlq",i,"user_oLsKrJJYgmAa4uBnRGkuq").then((function(e){console.log(e.status,e.text),r({title:"Email has sent successfully to ".concat(i.to_email,"!"),status:"success"})}),(function(e){console.log(e),r({title:"Email has fail to send to ".concat(i.to_email,"!"),status:"warning"})}))},I=function(){t.forEach((function(e){if(e.tableData.checked){if(v({id:e.id,status:"Approved"}),!_)t.filter((function(t){return t.id===e.id}))[0].status="Approved";N(e,"Approved")}})),t.forEach((function(e){e.tableData&&(e.tableData.checked=!1)}))},P=function(){t.forEach((function(e){if(e.tableData.checked){if(v({id:e.id,status:"Rejected"}),!_)t.filter((function(t){return t.id===e.id}))[0].status="Rejected";N(e,"Rejected")}})),t.forEach((function(e){e.tableData&&(e.tableData.checked=!1)}))};return t?Object(j.jsx)("div",{className:a.root,children:Object(j.jsxs)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:[Object(j.jsx)(Ko.a,{columns:wx,data:t,title:"Expenses Claims Application",icons:{Add:function(e){return Object(j.jsx)(Zu.a,{})},Edit:function(e){return Object(j.jsx)(Ob.a,{})},Delete:function(e){return Object(j.jsx)(tp.a,{})},Clear:function(e){return Object(j.jsx)(tp.a,{})},Check:function(e){return Object(j.jsx)(np.a,{})},Search:function(e){return Object(j.jsx)(ip.a,{})},ResetSearch:function(e){return Object(j.jsx)(tp.a,{})}},options:{filtering:!0,selection:!0,headerStyle:{backgroundColor:"#90CDF4",color:"#FFF"},showTitle:!0},components:{Toolbar:function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)(Qo.MTableToolbar,Object(D.a)({},e)),Object(j.jsxs)("div",{style:{padding:"5px 10px"},children:[Object(j.jsxs)(Eo.a,{type:"submit",variant:"contained",color:"secondary",className:a.button,onClick:I,children:["Approve ",Object(j.jsx)(Co.a,{className:a.rightIcon,children:"send"})]}),Object(j.jsxs)(Eo.a,{type:"submit",variant:"contained",color:"secondary",className:a.button,onClick:P,children:["Reject ",Object(j.jsx)(Co.a,{className:a.rightIcon,children:"send"})]})]})]})}}}),Object(j.jsx)(Sd,{isOpen:u,handleClose:C,title:"",showButton:!0,isFullscree:!1,children:Object(j.jsx)(wu,{handleDialogClose:C})}),Object(j.jsx)(Ku,{onClose:function(){x(!1)},onConfirm:function(){S(y),E(_x)},isOpen:O,title:"Delete Expenses",children:Object(j.jsx)("h2",{children:"Are you sure you want to delete ?"})})]})}):Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"Loading...Expenses"})})}var Ex=Object(E.a)((function(e){return{root:{padding:0},button:{margin:e.spacing(1)}}})),Cx=[{title:"Batch",field:"payrun",editable:"never"},{title:"Wages",field:"totalwages",type:"currency",editable:"never"},{title:"TAP Amount",field:"totaltap",type:"currency",editable:"never"},{title:"SCP Amount",field:"totalscp",type:"currency",editable:"never"},{title:"Site Allowances",field:"totalsitesallows",type:"currency",editable:"never"},{title:"Expenses Claims",field:"totalexpensesclaims",type:"currency",editable:"never"},{title:"Allowances",field:"totalallows",type:"currency",editable:"never"},{title:"Deductions",field:"totaldeducts",type:"currency",editable:"never"},{title:"Payroll",field:"totalpayroll",type:"currency",editable:"never"},{title:"Status",field:"status",editable:"never"}];function Dx(){Object(ts.f)();var e=Nx(),t=(Object(h.g)(De),Rp()),a=t.batchpayrun,r=t.getBatchPayrun,i=t.batchpayrun_loading,c=t.batchpayrun_error;t.loadPendingPayslips;return Object(n.useEffect)((function(){r("Verified")}),[]),i?Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"Loading.....Payslips"})}):c?Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"Internet connection problem!"})}):Object(j.jsx)("div",{className:e.root,children:Object(j.jsx)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:Cx,data:a,title:"Payslips",options:{filtering:!1,search:!1,toolbar:!1,headerStyle:{backgroundColor:"#90CDF4",color:"black"},showTitle:!1}})})})}var Nx=Object(E.a)((function(e){return{root:{padding:0}}}));function Ix(){return(Ix=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.a.get("".concat($,"?fi=").concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Px(e){var t=Object(n.useState)("all"),a=Object(w.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(""),s=Object(w.a)(c,2),o=s[0],l=s[1],d=Object(n.useCallback)((function(e){return Uu(e,r)}),[r]),u=Object(J.a)([ge.dailyallowstatus,o],(function(){return function(e){return Ix.apply(this,arguments)}(o)}),{select:"all"!==r?d:void 0}).data;return{dailyallowsstatus:void 0===u?[]:u,filter:r,setFilter:i,setDailyAllowsStatusId:l}}var Tx=[{title:"Name",field:"name"},{title:"Period",field:"period"},{title:"Location",field:"location"},{title:"Manager",field:"manager_name"},{title:"Days",field:"no_of_days",type:"numeric"},{title:"Amount",field:"amount",type:"currency"},{title:"Status",field:"status"}];function Ax(){Object(ts.f)();var e=kx(),t=Object(n.useState)(!1),a=Object(w.a)(t,2),r=(a[0],a[1],Object(n.useState)([])),i=Object(w.a)(r,2),c=(i[0],i[1],Object(h.e)(Te)),s=(Object(h.e)(Ae),Object(h.d)(Ne)),o=Object(w.a)(s,2),l=(o[0],o[1],Px()),d=l.dailyallowsstatus,u=l.setDailyAllowsStatusId,p=(Object(h.g)(Ae),"Site Allowances (".concat(c,")")),b=Pu(),f=(b.dailyallowances,b.loadPendingDailyAllowances,b.singlebatch_dailyallowance,b.singlebatch_dailyallowance_loading);b.deleteDailyAllowance,b.setEditDailyAllowanceID,b.setIsDailyAllowanceEditingOn,b.setIsDailyAllowanceEditingOff,b.resetSingleDailyAllowance,b.dailyallowance_period,b.getSingleBatchDailyAllowance;Object(n.useEffect)((function(){u("Submitted")}),[]);return f?Object(j.jsx)("div",{children:Object(j.jsx)("h2",{children:"Loading... daily allowances"})}):Object(j.jsx)("div",{className:e.root,children:Object(j.jsx)("div",{style:{maxWidth:"100%",paddingTop:"5px"},children:Object(j.jsx)(Ko.a,{columns:Tx,data:d,title:p,options:{filtering:!1,search:!1,toolbar:!1,headerStyle:{backgroundColor:"#90CDF4",color:"black"},showTitle:!1}})})})}var kx=Object(E.a)((function(e){return{root:{padding:0},dialog:{width:1e3}}})),Lx=(Object(E.a)((function(e){return{root:{padding:"2"},paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary}}})),Object(h.b)({key:"onleavesdatastate",default:[]}),Object(h.c)({key:"wpExpiryDetailsSelector",get:function(){var e=Object(P.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.get,e.prev=1,e.next=4,me.a.get("/api/wpexpiryview");case 4:return a=e.sent,n=a.data,n,e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()}),Object(E.a)((function(e){return{root:{padding:0}}})),"Pending"),Rx=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}})),Bx=function(){var e=Rx(),t=(Object(as.a)(e.paper,e.fixedHeight),Object(h.d)(_e)),a=Object(w.a)(t,2),r=(a[0],a[1],Object(n.useState)([])),i=Object(w.a)(r,2),c=i[0],s=i[1],o=Object(n.useState)(!1),l=Object(w.a)(o,2),d=l[0],u=l[1],p=Object(n.useState)([]),b=Object(w.a)(p,2),f=b[0],O=b[1],x=Object(n.useState)(!1),m=Object(w.a)(x,2),g=m[0],y=m[1],v=Object(n.useState)([]),_=Object(w.a)(v,2),E=_[0],C=_[1],D=Object(n.useState)(!1),N=Object(w.a)(D,2),I=N[0],P=N[1],T=Object(n.useState)([]),A=Object(w.a)(T,2),k=A[0],L=A[1],R=Object(n.useState)(!1),B=Object(w.a)(R,2),F=B[0],G=B[1],U=Px(),V=U.dailyallowsstatus,W=U.setDailyAllowsStatusId,z=Gd(),M=z.leaves,H=z.loadPendingLeaves,Y=ju(),J=Y.expenses,X=Y.loadPendingExpenses,q=Rp(),Q=(q.batchpayslips,q.loadPendingPayslips),K=Pu(),$=(K.dailyallowances,K.loadPendingDailyAllowances),Z=function(){u(!1),H(Lx)},ee=function(){y(!1),X(Lx)},te=function(){P(!1),Q(Lx)},ae=function(){G(!1),$(Lx)};return Object(n.useEffect)((function(){W("Submitted")}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:e.appBarSpacer}),Object(j.jsx)("div",{style:{paddingLeft:50}}),Object(j.jsxs)(S.a,{maxWidth:"lg",className:e.container,children:[Object(j.jsxs)(vo.a,{container:!0,spacing:3,children:[Object(j.jsx)(vo.a,{item:!0,xs:12,md:8,lg:12,children:Object(j.jsx)(Zj,{title:"Leaves pending for approval",handleClick:function(){s([]),s(Object(dd.a)(M)),u(!0)},children:Object(j.jsx)(xx,{})})}),Object(j.jsx)(vo.a,{item:!0,xs:12,md:8,lg:12,children:Object(j.jsx)(Zj,{title:"Expenses pending for approval",handleClick:function(){O([]),O(Object(dd.a)(J)),y(!0)},children:Object(j.jsx)(yx,{})})}),Object(j.jsx)(vo.a,{item:!0,xs:12,md:8,lg:12,children:Object(j.jsx)(Zj,{title:"Site Allowances pending for approval",handleClick:function(){L([]),L(Object(dd.a)(V)),G(!0)},children:Object(j.jsx)(Ax,{})})}),Object(j.jsx)(vo.a,{item:!0,xs:12,md:8,lg:12,children:Object(j.jsx)(Zj,{title:"Payroll pending for approval",handleClick:function(){C([]),P(!0)},children:Object(j.jsx)(Dx,{})})})]}),Object(j.jsx)(hx.a,{pt:4,children:Object(j.jsx)(tb,{})}),Object(j.jsx)(Sd,{isOpen:d,handleClose:Z,title:"",showButton:!0,isFullscreen:!1,isFullwidth:!1,children:Object(j.jsx)(bb,{setLeavesdata:s,leavesdata:c,handleDialogClose:Z})}),Object(j.jsx)(Sd,{isOpen:g,handleClose:ee,title:"",showButton:!0,isFullscreen:!1,isFullwidth:!1,children:Object(j.jsx)(Sx,{setExpensesdata:O,expensesdata:f,handleDialogClose:ee})}),Object(j.jsx)(Sd,{isOpen:I,handleClose:te,title:"",showButton:!0,isFullscreen:!0,isFullwidth:!1,children:Object(j.jsx)(Sb,{setPayslipsdata:C,payslipsdata:E,handleDialogClose:te})}),Object(j.jsx)(Sd,{isOpen:F,handleClose:ae,title:"",showButton:!0,isFullscreen:!0,isFullwidth:!1,children:Object(j.jsx)(Db,{setDailyAllowancesdata:L,dailyallowancesdata:k,handleDialogClose:ae})})]})]})};function Fx(e){var t=e.open,a=e.handleDrawerOpen,n=e.handleDrawerClose,i=Gx(),c=r.a.useState(!0),s=Object(w.a)(c,2),o=s[0],l=s[1];return o?Object(j.jsxs)("div",{className:i.root,children:[Object(j.jsx)(y.a,{}),Object(j.jsxs)(es.a,{children:[Object(j.jsx)(go,{handleDrawerOpen:a,handleDrawerClose:n,open:t}),Object(j.jsx)("main",{className:i.content,children:Object(j.jsxs)(ts.c,{children:[Object(j.jsx)(ts.a,{exact:!0,path:"/",children:Object(j.jsx)(Eh,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/allemployees",children:Object(j.jsx)(kh,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/payroll",children:Object(j.jsx)(_f,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/payslip",children:Object(j.jsx)(Sf,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/singlepayslip",children:Object(j.jsx)(Xp,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/batchpayslips",children:Object(j.jsx)(Bf,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/approval",children:Object(j.jsx)(Bx,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/leave",children:Object(j.jsx)(Wh,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/payrun",children:Object(j.jsx)(pj,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/payrunbatch",children:Object(j.jsx)(Kj,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/dailyallowances",children:Object(j.jsx)(HO,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/singledailyallowsdetlstable",children:Object(j.jsx)(Ju,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/expenses",children:Object(j.jsx)(ef,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/departments",children:Object(j.jsx)(Vf,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/useraccess",children:Object(j.jsx)(uf,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/designation",children:Object(j.jsx)(Xf,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/tables",children:Object(j.jsx)(VO,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/allowances",children:Object(j.jsx)(Yf,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/clients",children:Object(j.jsx)($O,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/example",children:Object(j.jsx)(Bs,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/singleemployee",children:Object(j.jsx)(cd,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/singleleave",children:Object(j.jsx)(ou,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/singleexpense",children:Object(j.jsx)(Eu,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/singledailyallowance",children:Object(j.jsx)(Ru,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/batchdailyallowances",children:Object(j.jsx)(Pp,{})}),Object(j.jsx)(ts.a,{exact:!0,path:"/error",children:Object(j.jsx)(ex,{})}),Object(j.jsx)(ts.a,{path:"*",children:Object(j.jsx)(ex,{})})]})})]})]}):Object(j.jsx)(rx,{setLogin:l})}var Gx=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function Ux(){var e=Vx(),t=Object(h.d)(_e),a=Object(w.a)(t,2),n=a[0],i=a[1],c=r.a.useState(!0),s=Object(w.a)(c,2),o=s[0],l=s[1],d=r.a.useState(!0),u=Object(w.a)(d,2),p=u[0],b=u[1],f=r.a.useState("Staff"),O=Object(w.a)(f,2),x=O[0],m=O[1],g=function(){l(!0)},v=function(){l(!1)};return p?Object(j.jsxs)("div",{className:e.root,children:[Object(j.jsx)(y.a,{}),Object(j.jsxs)(es.a,{children:[Object(j.jsx)(Os,{handleDrawerOpen:g,handleDrawerClose:v,handleSelect:function(e){i(Object(D.a)(Object(D.a)({},n),{},{loginLevel:e})),m(e)},open:o,setLogin:b,title:"HRMS - AppSmiths Sutera Sdn Bhd"}),Object(j.jsxs)(hj.a,{children:["Staff"===x&&Object(j.jsx)(ux,{open:o,handleDrawerOpen:g,handleDrawerClose:v}),"Admin"===x&&Object(j.jsx)(tx,{open:o,handleDrawerOpen:g,handleDrawerClose:v}),"AdminManager"===x&&Object(j.jsx)(jx,{open:o,handleDrawerOpen:g,handleDrawerClose:v}),"Manager"===x&&Object(j.jsx)(Fx,{open:o,handleDrawerOpen:g,handleDrawerClose:v})]})]})]}):Object(j.jsx)(rx,{setLogin:b})}var Vx=Object(E.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(D.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:0,width:"calc(100% - ".concat(0,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:0,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Zc.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}})),Wx=function(){var e=Object(h.d)(_e),t=Object(w.a)(e,2),a=t[0],r=(t[1],QO().currentUser,Object(n.useState)("")),i=Object(w.a)(r,2);i[0],i[1];return a.login?Object(j.jsx)("div",{children:Object(j.jsx)(Ux,{})}):Object(j.jsx)(rx,{})},zx=function(){return Object(j.jsxs)(g.a,{theme:_,children:[Object(j.jsx)(y.a,{}),Object(j.jsxs)("div",{children:[Object(j.jsx)(b,{}),Object(j.jsx)(Wx,{})]})]})},Mx=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,954)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)}))},Hx=new O.a({link:new x.a({uri:"https://localhost:4000/graphql",credentials:"include"}),cache:new m.a}),Yx=new s.a;c.a.render(Object(j.jsxs)(o.a,{client:Yx,children:[Object(j.jsx)(h.a,{children:Object(j.jsx)(f.a,{client:Hx,children:Object(j.jsx)(qO,{children:Object(j.jsx)(Yc,{children:Object(j.jsx)(Lp,{children:Object(j.jsx)(Fd,{children:Object(j.jsx)(pu,{children:Object(j.jsx)(Iu,{children:Object(j.jsx)(Gl,{children:Object(j.jsx)(_l,{children:Object(j.jsx)(zx,{})})})})})})})})})})}),Object(j.jsx)(l.ReactQueryDevtools,{})]}),document.getElementById("root")),Mx()}},[[851,1,2]]]);
//# sourceMappingURL=main.fd7fd458.chunk.js.map